(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function t(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(l){if(l.ep)return;l.ep=!0;const f=t(l);fetch(l.href,f)}})();function Fd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var hd={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function o0(){if(Jp)return ul;Jp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,l,f){var g=null;if(f!==void 0&&(g=""+f),l.key!==void 0&&(g=""+l.key),"key"in l){f={};for(var y in l)y!=="key"&&(f[y]=l[y])}else f=l;return l=f.ref,{$$typeof:a,type:r,key:g,ref:l!==void 0?l:null,props:f}}return ul.Fragment=n,ul.jsx=t,ul.jsxs=t,ul}var Xp;function a0(){return Xp||(Xp=1,hd.exports=o0()),hd.exports}var S=a0(),md={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function r0(){if(Qp)return Be;Qp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,O={};function J(k,X,fe){this.props=k,this.context=X,this.refs=O,this.updater=fe||D}J.prototype.isReactComponent={},J.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},J.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function H(){}H.prototype=J.prototype;function Y(k,X,fe){this.props=k,this.context=X,this.refs=O,this.updater=fe||D}var Q=Y.prototype=new H;Q.constructor=Y,R(Q,J.prototype),Q.isPureReactComponent=!0;var W=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function pe(k,X,fe,re,he,_e){return fe=_e.ref,{$$typeof:a,type:k,key:X,ref:fe!==void 0?fe:null,props:_e}}function we(k,X){return pe(k.type,X,void 0,void 0,void 0,k.props)}function se(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function Ae(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return X[fe]})}var Oe=/\/+/g;function ve(k,X){return typeof k=="object"&&k!==null&&k.key!=null?Ae(""+k.key):X.toString(36)}function Ye(){}function He(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ye,Ye):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Qe(k,X,fe,re,he){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var de=!1;if(k===null)de=!0;else switch(_e){case"bigint":case"string":case"number":de=!0;break;case"object":switch(k.$$typeof){case a:case n:de=!0;break;case E:return de=k._init,Qe(de(k._payload),X,fe,re,he)}}if(de)return he=he(k),de=re===""?"."+ve(k,0):re,W(he)?(fe="",de!=null&&(fe=de.replace(Oe,"$&/")+"/"),Qe(he,X,fe,"",function(gn){return gn})):he!=null&&(se(he)&&(he=we(he,fe+(he.key==null||k&&k.key===he.key?"":(""+he.key).replace(Oe,"$&/")+"/")+de)),X.push(he)),1;de=0;var mt=re===""?".":re+":";if(W(k))for(var Je=0;Je<k.length;Je++)re=k[Je],_e=mt+ve(re,Je),de+=Qe(re,X,fe,_e,he);else if(Je=N(k),typeof Je=="function")for(k=Je.call(k),Je=0;!(re=k.next()).done;)re=re.value,_e=mt+ve(re,Je++),de+=Qe(re,X,fe,_e,he);else if(_e==="object"){if(typeof k.then=="function")return Qe(He(k),X,fe,re,he);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return de}function $(k,X,fe){if(k==null)return k;var re=[],he=0;return Qe(k,re,"","",function(_e){return X.call(fe,_e,he++)}),re}function ue(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function je(){}return Be.Children={map:$,forEach:function(k,X,fe){$(k,function(){X.apply(this,arguments)},fe)},count:function(k){var X=0;return $(k,function(){X++}),X},toArray:function(k){return $(k,function(X){return X})||[]},only:function(k){if(!se(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Be.Component=J,Be.Fragment=t,Be.Profiler=l,Be.PureComponent=Y,Be.StrictMode=r,Be.Suspense=x,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Be.__COMPILER_RUNTIME={__proto__:null,c:function(k){return K.H.useMemoCache(k)}},Be.cache=function(k){return function(){return k.apply(null,arguments)}},Be.cloneElement=function(k,X,fe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var re=R({},k.props),he=k.key,_e=void 0;if(X!=null)for(de in X.ref!==void 0&&(_e=void 0),X.key!==void 0&&(he=""+X.key),X)!ce.call(X,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&X.ref===void 0||(re[de]=X[de]);var de=arguments.length-2;if(de===1)re.children=fe;else if(1<de){for(var mt=Array(de),Je=0;Je<de;Je++)mt[Je]=arguments[Je+2];re.children=mt}return pe(k.type,he,void 0,void 0,_e,re)},Be.createContext=function(k){return k={$$typeof:g,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:f,_context:k},k},Be.createElement=function(k,X,fe){var re,he={},_e=null;if(X!=null)for(re in X.key!==void 0&&(_e=""+X.key),X)ce.call(X,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=X[re]);var de=arguments.length-2;if(de===1)he.children=fe;else if(1<de){for(var mt=Array(de),Je=0;Je<de;Je++)mt[Je]=arguments[Je+2];he.children=mt}if(k&&k.defaultProps)for(re in de=k.defaultProps,de)he[re]===void 0&&(he[re]=de[re]);return pe(k,_e,void 0,void 0,null,he)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(k){return{$$typeof:y,render:k}},Be.isValidElement=se,Be.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ue}},Be.memo=function(k,X){return{$$typeof:v,type:k,compare:X===void 0?null:X}},Be.startTransition=function(k){var X=K.T,fe={};K.T=fe;try{var re=k(),he=K.S;he!==null&&he(fe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(je,ae)}catch(_e){ae(_e)}finally{K.T=X}},Be.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Be.use=function(k){return K.H.use(k)},Be.useActionState=function(k,X,fe){return K.H.useActionState(k,X,fe)},Be.useCallback=function(k,X){return K.H.useCallback(k,X)},Be.useContext=function(k){return K.H.useContext(k)},Be.useDebugValue=function(){},Be.useDeferredValue=function(k,X){return K.H.useDeferredValue(k,X)},Be.useEffect=function(k,X,fe){var re=K.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(k,X)},Be.useId=function(){return K.H.useId()},Be.useImperativeHandle=function(k,X,fe){return K.H.useImperativeHandle(k,X,fe)},Be.useInsertionEffect=function(k,X){return K.H.useInsertionEffect(k,X)},Be.useLayoutEffect=function(k,X){return K.H.useLayoutEffect(k,X)},Be.useMemo=function(k,X){return K.H.useMemo(k,X)},Be.useOptimistic=function(k,X){return K.H.useOptimistic(k,X)},Be.useReducer=function(k,X,fe){return K.H.useReducer(k,X,fe)},Be.useRef=function(k){return K.H.useRef(k)},Be.useState=function(k){return K.H.useState(k)},Be.useSyncExternalStore=function(k,X,fe){return K.H.useSyncExternalStore(k,X,fe)},Be.useTransition=function(){return K.H.useTransition()},Be.version="19.1.0",Be}var Wp;function Yd(){return Wp||(Wp=1,md.exports=r0()),md.exports}var z=Yd();const jd=Fd(z);var pd={exports:{}},cl={},gd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function s0(){return eg||(eg=1,function(a){function n($,ue){var ae=$.length;$.push(ue);e:for(;0<ae;){var je=ae-1>>>1,k=$[je];if(0<l(k,ue))$[je]=ue,$[ae]=k,ae=je;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ue=$[0],ae=$.pop();if(ae!==ue){$[0]=ae;e:for(var je=0,k=$.length,X=k>>>1;je<X;){var fe=2*(je+1)-1,re=$[fe],he=fe+1,_e=$[he];if(0>l(re,ae))he<k&&0>l(_e,re)?($[je]=_e,$[he]=ae,je=he):($[je]=re,$[fe]=ae,je=fe);else if(he<k&&0>l(_e,ae))$[je]=_e,$[he]=ae,je=he;else break e}}return ue}function l($,ue){var ae=$.sortIndex-ue.sortIndex;return ae!==0?ae:$.id-ue.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var g=Date,y=g.now();a.unstable_now=function(){return g.now()-y}}var x=[],v=[],E=1,A=null,N=3,D=!1,R=!1,O=!1,J=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function W($){for(var ue=t(v);ue!==null;){if(ue.callback===null)r(v);else if(ue.startTime<=$)r(v),ue.sortIndex=ue.expirationTime,n(x,ue);else break;ue=t(v)}}function K($){if(O=!1,W($),!R)if(t(x)!==null)R=!0,ce||(ce=!0,ve());else{var ue=t(v);ue!==null&&Qe(K,ue.startTime-$)}}var ce=!1,pe=-1,we=5,se=-1;function Ae(){return J?!0:!(a.unstable_now()-se<we)}function Oe(){if(J=!1,ce){var $=a.unstable_now();se=$;var ue=!0;try{e:{R=!1,O&&(O=!1,Y(pe),pe=-1),D=!0;var ae=N;try{t:{for(W($),A=t(x);A!==null&&!(A.expirationTime>$&&Ae());){var je=A.callback;if(typeof je=="function"){A.callback=null,N=A.priorityLevel;var k=je(A.expirationTime<=$);if($=a.unstable_now(),typeof k=="function"){A.callback=k,W($),ue=!0;break t}A===t(x)&&r(x),W($)}else r(x);A=t(x)}if(A!==null)ue=!0;else{var X=t(v);X!==null&&Qe(K,X.startTime-$),ue=!1}}break e}finally{A=null,N=ae,D=!1}ue=void 0}}finally{ue?ve():ce=!1}}}var ve;if(typeof Q=="function")ve=function(){Q(Oe)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,He=Ye.port2;Ye.port1.onmessage=Oe,ve=function(){He.postMessage(null)}}else ve=function(){H(Oe,0)};function Qe($,ue){pe=H(function(){$(a.unstable_now())},ue)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function($){switch(N){case 1:case 2:case 3:var ue=3;break;default:ue=N}var ae=N;N=ue;try{return $()}finally{N=ae}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ae=N;N=$;try{return ue()}finally{N=ae}},a.unstable_scheduleCallback=function($,ue,ae){var je=a.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?je+ae:je):ae=je,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ae+k,$={id:E++,callback:ue,priorityLevel:$,startTime:ae,expirationTime:k,sortIndex:-1},ae>je?($.sortIndex=ae,n(v,$),t(x)===null&&$===t(v)&&(O?(Y(pe),pe=-1):O=!0,Qe(K,ae-je))):($.sortIndex=k,n(x,$),R||D||(R=!0,ce||(ce=!0,ve()))),$},a.unstable_shouldYield=Ae,a.unstable_wrapCallback=function($){var ue=N;return function(){var ae=N;N=ue;try{return $.apply(this,arguments)}finally{N=ae}}}}(vd)),vd}var tg;function l0(){return tg||(tg=1,gd.exports=s0()),gd.exports}var _d={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function u0(){if(ng)return rn;ng=1;var a=Yd();function n(x){var v="https://react.dev/errors/"+x;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+x+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(n(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(x,v,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:x,containerInfo:v,implementation:E}}var g=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(x,v){if(x==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(x,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return f(x,v,null,E)},rn.flushSync=function(x){var v=g.T,E=r.p;try{if(g.T=null,r.p=2,x)return x()}finally{g.T=v,r.p=E,r.d.f()}},rn.preconnect=function(x,v){typeof x=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(x,v))},rn.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},rn.preinit=function(x,v){if(typeof x=="string"&&v&&typeof v.as=="string"){var E=v.as,A=y(E,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(x,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:D}):E==="script"&&r.d.X(x,{crossOrigin:A,integrity:N,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},rn.preinitModule=function(x,v){if(typeof x=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=y(v.as,v.crossOrigin);r.d.M(x,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(x)},rn.preload=function(x,v){if(typeof x=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,A=y(E,v.crossOrigin);r.d.L(x,E,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},rn.preloadModule=function(x,v){if(typeof x=="string")if(v){var E=y(v.as,v.crossOrigin);r.d.m(x,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(x)},rn.requestFormReset=function(x){r.d.r(x)},rn.unstable_batchedUpdates=function(x,v){return x(v)},rn.useFormState=function(x,v,E){return g.H.useFormState(x,v,E)},rn.useFormStatus=function(){return g.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var ig;function c0(){if(ig)return _d.exports;ig=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),_d.exports=u0(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function f0(){if(og)return cl;og=1;var a=l0(),n=Yd(),t=c0();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function g(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(r(188))}function x(e){var i=e.alternate;if(!i){if(i=f(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,c=i;;){var p=s.return;if(p===null)break;var _=p.alternate;if(_===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===s)return y(p),e;if(_===c)return y(p),i;_=_.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=_;else{for(var b=!1,M=p.child;M;){if(M===s){b=!0,s=p,c=_;break}if(M===c){b=!0,c=p,s=_;break}M=M.sibling}if(!b){for(M=_.child;M;){if(M===s){b=!0,s=_,c=p;break}if(M===c){b=!0,c=_,s=p;break}M=M.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),Ae=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case J:return"Profiler";case O:return"StrictMode";case K:return"Suspense";case ce:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case Y:return(e._context.displayName||"Context")+".Consumer";case W:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return i=e.displayName||null,i!==null?i:He(e.type)||"Memo";case we:i=e._payload,e=e._init;try{return He(e(i))}catch{}}return null}var Qe=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},je=[],k=-1;function X(e){return{current:e}}function fe(e){0>k||(e.current=je[k],je[k]=null,k--)}function re(e,i){k++,je[k]=e.current,e.current=i}var he=X(null),_e=X(null),de=X(null),mt=X(null);function Je(e,i){switch(re(de,i),re(_e,e),re(he,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Ep(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Ep(i),e=bp(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}fe(he),re(he,e)}function gn(){fe(he),fe(_e),fe(de)}function Hn(e){e.memoizedState!==null&&re(mt,e);var i=he.current,s=bp(i,e.type);i!==s&&(re(_e,e),re(he,s))}function bn(e){_e.current===e&&(fe(he),fe(_e)),mt.current===e&&(fe(mt),ol._currentValue=ae)}var qn=Object.prototype.hasOwnProperty,oi=a.unstable_scheduleCallback,To=a.unstable_cancelCallback,Co=a.unstable_shouldYield,ya=a.unstable_requestPaint,Ht=a.unstable_now,ai=a.unstable_getCurrentPriorityLevel,xa=a.unstable_ImmediatePriority,Zi=a.unstable_UserBlockingPriority,ri=a.unstable_NormalPriority,Ta=a.unstable_LowPriority,xi=a.unstable_IdlePriority,us=a.log,ir=a.unstable_setDisableYieldValue,Zn=null,qt=null;function wn(e){if(typeof us=="function"&&ir(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Zn,e)}catch{}}var Zt=Math.clz32?Math.clz32:cs,or=Math.log,ar=Math.LN2;function cs(e){return e>>>=0,e===0?32:31-(or(e)/ar|0)|0}var Ti=256,Ci=4194304;function Gn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function So(e,i,s){var c=e.pendingLanes;if(c===0)return 0;var p=0,_=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var M=c&134217727;return M!==0?(c=M&~_,c!==0?p=Gn(c):(b&=M,b!==0?p=Gn(b):s||(s=M&~e,s!==0&&(p=Gn(s))))):(M=c&~_,M!==0?p=Gn(M):b!==0?p=Gn(b):s||(s=c&~e,s!==0&&(p=Gn(s)))),p===0?0:i!==0&&i!==p&&(i&_)===0&&(_=p&-p,s=i&-i,_>=s||_===32&&(s&4194048)!==0)?i:p}function An(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function fs(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(){var e=Ti;return Ti<<=1,(Ti&4194048)===0&&(Ti=256),e}function Ca(){var e=Ci;return Ci<<=1,(Ci&62914560)===0&&(Ci=4194304),e}function Eo(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Si(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ds(e,i,s,c,p,_){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var M=e.entanglements,I=e.expirationTimes,Z=e.hiddenUpdates;for(s=b&~s;0<s;){var ee=31-Zt(s),ie=1<<ee;M[ee]=0,I[ee]=-1;var G=Z[ee];if(G!==null)for(Z[ee]=null,ee=0;ee<G.length;ee++){var F=G[ee];F!==null&&(F.lane&=-536870913)}s&=~ie}c!==0&&sr(e,c,0),_!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=_&~(b&~i))}function sr(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Zt(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|s&4194090}function lr(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var c=31-Zt(s),p=1<<c;p&i|e[c]&i&&(e[c]|=i),s&=~p}}function bo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function te(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Me(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Gp(e.type))}function ut(e,i){var s=ue.p;try{return ue.p=e,i()}finally{ue.p=s}}var We=Math.random().toString(36).slice(2),it="__reactFiber$"+We,pt="__reactProps$"+We,vn="__reactContainer$"+We,Mt="__reactEvents$"+We,Se="__reactListeners$"+We,si="__reactHandles$"+We,Mn="__reactResources$"+We,zt="__reactMarker$"+We;function tn(e){delete e[it],delete e[pt],delete e[Mt],delete e[Se],delete e[si]}function Ut(e){var i=e[it];if(i)return i;for(var s=e.parentNode;s;){if(i=s[vn]||s[it]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Np(e);e!==null;){if(s=e[it])return s;e=Np(e)}return i}e=s,s=e.parentNode}return null}function li(e){if(e=e[it]||e[vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ln(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Gi(e){var i=e[Mn];return i||(i=e[Mn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(e){e[zt]=!0}var Ml=new Set,Nl={};function Fi(e,i){Yi(e,i),Yi(e+"Capture",i)}function Yi(e,i){for(Nl[e]=i,e=0;e<i.length;e++)Ml.add(i[e])}var Cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sa={},Rl={};function Sc(e){return qn.call(Rl,e)?!0:qn.call(Sa,e)?!1:Cc.test(e)?Rl[e]=!0:(Sa[e]=!0,!1)}function ur(e,i,s){if(Sc(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function cr(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function ui(e,i,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+c)}}var Ea,wo;function ji(e){if(Ea===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ea=i&&i[1]||"",wo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+e+wo}var fr=!1;function $i(e,i){if(!e||fr)return"";fr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(F){var G=F}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(F){G=F}e.call(ie.prototype)}}else{try{throw Error()}catch(F){G=F}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),b=_[0],M=_[1];if(b&&M){var I=b.split(`
`),Z=M.split(`
`);for(p=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(c===I.length||p===Z.length)for(c=I.length-1,p=Z.length-1;1<=c&&0<=p&&I[c]!==Z[p];)p--;for(;1<=c&&0<=p;c--,p--)if(I[c]!==Z[p]){if(c!==1||p!==1)do if(c--,p--,0>p||I[c]!==Z[p]){var ee=`
`+I[c].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=c&&0<=p);break}}}finally{fr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ji(s):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return $i(e.type,!1);case 11:return $i(e.type.render,!1);case 1:return $i(e.type,!0);case 31:return ji("Activity");default:return""}}function gt(e){try{var i="";do i+=tt(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ki(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ao(e){var i=Ki(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,_=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,_.call(this,b)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Mo(e){e._valueTracker||(e._valueTracker=Ao(e))}function ze(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return e&&(c=Ki(e)?e.checked?"true":"false":e.value),e=c,e!==s?(i.setValue(e),!0):!1}function vt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hs=/[\n"\\]/g;function Jt(e){return e.replace(hs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function nn(e,i,s,c,p,_,b,M){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Kt(i)):e.value!==""+Kt(i)&&(e.value=""+Kt(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?No(e,b,Kt(i)):s!=null?No(e,b,Kt(s)):c!=null&&e.removeAttribute("value"),p==null&&_!=null&&(e.defaultChecked=!!_),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+Kt(M):e.removeAttribute("name")}function Ll(e,i,s,c,p,_,b,M){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||s!=null){if(!(_!=="submit"&&_!=="reset"||i!=null))return;s=s!=null?""+Kt(s):"",i=i!=null?""+Kt(i):s,M||i===e.value||(e.value=i),e.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=M?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function No(e,i,s){i==="number"&&vt(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _n(e,i,s,c){if(e=e.options,i){i={};for(var p=0;p<s.length;p++)i["$"+s[p]]=!0;for(s=0;s<e.length;s++)p=i.hasOwnProperty("$"+e[s].value),e[s].selected!==p&&(e[s].selected=p),p&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Kt(s),i=null,p=0;p<e.length;p++){if(e[p].value===s){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Et(e,i,s){if(i!=null&&(i=""+Kt(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Kt(s):""}function Ei(e,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(r(92));if(Qe(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=Kt(i),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c)}function Fn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dr(e,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,s):typeof s!="number"||s===0||ba.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Ro(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&s[p]!==c&&dr(e,p,c)}else for(var _ in i)i.hasOwnProperty(_)&&dr(e,_,i[_])}function wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(e){return hr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Aa=null;function Do(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,bi=null;function Dl(e){var i=li(e);if(i&&(e=i.stateNode)){var s=e[pt]||null;e:switch(e=i.stateNode,i.type){case"input":if(nn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Jt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==e&&c.form===e.form){var p=c[pt]||null;if(!p)throw Error(r(90));nn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===e.form&&ze(c)}break e;case"textarea":Et(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&_n(e,!!s.multiple,i,!1)}}}var Pe=!1;function Nn(e,i,s){if(Pe)return e(i,s);Pe=!0;try{var c=e(i);return c}finally{if(Pe=!1,(Ji!==null||bi!==null)&&(wu(),Ji&&(i=Ji,e=bi,bi=Ji=null,Dl(i),e)))for(i=0;i<e.length;i++)Dl(e[i])}}function ot(e,i){var s=e.stateNode;if(s===null)return null;var c=s[pt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(Yn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Ma=!1}var jn=null,ci=null,ko=null;function Po(){if(ko)return ko;var e,i=ci,s=i.length,c,p="value"in jn?jn.value:jn.textContent,_=p.length;for(e=0;e<s&&i[e]===p[e];e++);var b=s-e;for(c=1;c<=b&&i[s-c]===p[_-c];c++);return ko=p.slice(e,1<c?1-c:void 0)}function Nt(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function ps(){return!1}function Xt(e){function i(s,c,p,_,b){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(s=e[M],this[M]=s?s(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?$n:ps,this.isPropagationStopped=ps,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Xt(Qi),Wi=E({},Qi,{view:0,detail:0}),Ec=Xt(Wi),mr,Ge,Ra,on=E({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(mr=e.screenX-Ra.screenX,Ge=e.screenY-Ra.screenY):Ge=mr=0,Ra=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:Ge}}),Io=Xt(on),kl=E({},on,{dataTransfer:0}),bc=Xt(kl),gs=E({},Wi,{relatedTarget:0}),vs=Xt(gs),Pl=E({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),wc=Xt(Pl),Ac=E({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_s=Xt(Ac),Mc=E({},Qi,{data:0}),Rn=Xt(Mc),Nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Il={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=wi[e])?!!i[e]:!1}function pr(){return Ol}var ys=E({},Wi,{key:function(e){if(e.key){var i=Nc[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Nt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Il[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return e.type==="keypress"?Nt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rc=Xt(ys),zl=E({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xs=Xt(zl),Lc=E({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),Dc=Xt(Lc),Ts=E({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kc=Xt(Ts),Ul=E({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bl=Xt(Ul),gr=E({},Qi,{newState:0,oldState:0}),eo=Xt(gr),Pc=[9,13,27,32],to=Yn&&"CompositionEvent"in window,Gt=null;Yn&&"documentMode"in document&&(Gt=document.documentMode);var Vl=Yn&&"TextEvent"in window&&!Gt,Cs=Yn&&(!to||Gt&&8<Gt&&11>=Gt),Hl=" ",vr=!1;function _r(e,i){switch(e){case"keyup":return Pc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ql(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oo=!1;function Zl(e,i){switch(e){case"compositionend":return ql(i);case"keypress":return i.which!==32?null:(vr=!0,Hl);case"textInput":return e=i.data,e===Hl&&vr?null:e;default:return null}}function Ic(e,i){if(Oo)return e==="compositionend"||!to&&_r(e,i)?(e=Po(),ko=ci=jn=null,Oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Cs&&i.locale!=="ko"?null:i.data;default:return null}}var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function no(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ln[e.type]:i==="textarea"}function Gl(e,i,s,c){Ji?bi?bi.push(c):bi=[c]:Ji=c,i=Du(i,"onChange"),0<i.length&&(s=new Na("onChange","change",null,s,c),e.push({event:s,listeners:i}))}var un=null,La=null;function zo(e){yp(e,0)}function yr(e){var i=ln(e);if(ze(i))return e}function Uo(e,i){if(e==="change")return i}var Ss=!1;if(Yn){var Bo;if(Yn){var Es="oninput"in document;if(!Es){var fi=document.createElement("div");fi.setAttribute("oninput","return;"),Es=typeof fi.oninput=="function"}Bo=Es}else Bo=!1;Ss=Bo&&(!document.documentMode||9<document.documentMode)}function Da(){un&&(un.detachEvent("onpropertychange",Fl),La=un=null)}function Fl(e){if(e.propertyName==="value"&&yr(La)){var i=[];Gl(i,La,e,Do(e)),Nn(zo,i)}}function bs(e,i,s){e==="focusin"?(Da(),un=i,La=s,un.attachEvent("onpropertychange",Fl)):e==="focusout"&&Da()}function Oc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yr(La)}function di(e,i){if(e==="click")return yr(i)}function zc(e,i){if(e==="input"||e==="change")return yr(i)}function Vo(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:Vo;function fn(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!qn.call(i,p)||!cn(e[p],i[p]))return!1}return!0}function ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ws(e,i){var s=ka(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=i&&c>=i)return{node:s,offset:i-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ka(s)}}function xr(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?xr(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Pa(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=vt(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=vt(e.document)}return i}function Ia(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Tr=Yn&&"documentMode"in document&&11>=document.documentMode,Dn=null,Ho=null,io=null,Cr=!1;function Yl(e,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cr||Dn==null||Dn!==vt(c)||(c=Dn,"selectionStart"in c&&Ia(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),io&&fn(io,c)||(io=c,c=Du(Ho,"onSelect"),0<c.length&&(i=new Na("onSelect","select",null,i,s),e.push({event:i,listeners:c}),i.target=Dn)))}function Kn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var qo={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Sr={},jl={};Yn&&(jl=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Ai(e){if(Sr[e])return Sr[e];if(!qo[e])return e;var i=qo[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in jl)return Sr[e]=i[s];return e}var $l=Ai("animationend"),kn=Ai("animationiteration"),Oa=Ai("animationstart"),Uc=Ai("transitionrun"),Er=Ai("transitionstart"),Bc=Ai("transitioncancel"),As=Ai("transitionend"),Kl=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function Pn(e,i){Kl.set(e,i),Fi(i,[e])}var ao=new WeakMap;function dn(e,i){if(typeof e=="object"&&e!==null){var s=ao.get(e);return s!==void 0?s:(i={value:e,source:i,stack:gt(i)},ao.set(e,i),i)}return{value:e,source:i,stack:gt(i)}}var hn=[],Zo=0,In=0;function za(){for(var e=Zo,i=In=Zo=0;i<e;){var s=hn[i];hn[i++]=null;var c=hn[i];hn[i++]=null;var p=hn[i];hn[i++]=null;var _=hn[i];if(hn[i++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}_!==0&&Ba(s,p,_)}}function Ua(e,i,s,c){hn[Zo++]=e,hn[Zo++]=i,hn[Zo++]=s,hn[Zo++]=c,In|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function ro(e,i,s,c){return Ua(e,i,s,c),Mi(e)}function Go(e,i){return Ua(e,null,null,i),Mi(e)}function Ba(e,i,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var p=!1,_=e.return;_!==null;)_.childLanes|=s,c=_.alternate,c!==null&&(c.childLanes|=s),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(p=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,p&&i!==null&&(p=31-Zt(s),e=_.hiddenUpdates,c=e[p],c===null?e[p]=[i]:c.push(i),i.lane=s|536870912),_):null}function Mi(e){if(50<Js)throw Js=0,zf=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var so={};function Jl(e,i,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,s,c){return new Jl(e,i,s,c)}function br(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jn(e,i){var s=e.alternate;return s===null?(s=mn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ms(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Va(e,i,s,c,p,_){var b=0;if(c=e,typeof e=="function")br(e)&&(b=1);else if(typeof e=="string")b=Fy(e,s,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=mn(31,s,i,p),e.elementType=se,e.lanes=_,e;case R:return Ni(s.children,p,_,i);case O:b=8,p|=24;break;case J:return e=mn(12,s,i,p|2),e.elementType=J,e.lanes=_,e;case K:return e=mn(13,s,i,p),e.elementType=K,e.lanes=_,e;case ce:return e=mn(19,s,i,p),e.elementType=ce,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:case Q:b=10;break e;case Y:b=9;break e;case W:b=11;break e;case pe:b=14;break e;case we:b=16,c=null;break e}b=29,s=Error(r(130,e===null?"null":typeof e,"")),c=null}return i=mn(b,s,i,p),i.elementType=e,i.type=c,i.lanes=_,i}function Ni(e,i,s,c){return e=mn(7,e,c,i),e.lanes=s,e}function Ns(e,i,s){return e=mn(6,e,null,i),e.lanes=s,e}function wr(e,i,s){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var lo=[],Fo=0,o=null,u=0,m=[],T=0,C=null,w=1,P="";function V(e,i){lo[Fo++]=u,lo[Fo++]=o,o=e,u=i}function j(e,i,s){m[T++]=w,m[T++]=P,m[T++]=C,C=e;var c=w;e=P;var p=32-Zt(c)-1;c&=~(1<<p),s+=1;var _=32-Zt(i)+p;if(30<_){var b=p-p%5;_=(c&(1<<b)-1).toString(32),c>>=b,p-=b,w=1<<32-Zt(i)+p|s<<p|c,P=_+e}else w=1<<_|s<<p|c,P=e}function oe(e){e.return!==null&&(V(e,1),j(e,1,0))}function me(e){for(;e===o;)o=lo[--Fo],lo[Fo]=null,u=lo[--Fo],lo[Fo]=null;for(;e===C;)C=m[--T],m[T]=null,P=m[--T],m[T]=null,w=m[--T],m[T]=null}var ye=null,Ce=null,De=!1,_t=null,bt=!1,Ft=Error(r(519));function yn(e){var i=Error(r(418,""));throw jo(dn(i,e)),Ft}function Xl(e){var i=e.stateNode,s=e.type,c=e.memoizedProps;switch(i[it]=e,i[pt]=c,s){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(s=0;s<Qs.length;s++)Ke(Qs[s],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),Ll(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Mo(i);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),Ei(i,c.value,c.defaultValue,c.children),Mo(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||Sp(i.textContent,s)?(c.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),c.onScroll!=null&&Ke("scroll",i),c.onScrollEnd!=null&&Ke("scrollend",i),c.onClick!=null&&(i.onclick=ku),i=!0):i=!1,i||yn(e)}function Ql(e){for(ye=e.return;ye;)switch(ye.tag){case 5:case 13:bt=!1;return;case 27:case 3:bt=!0;return;default:ye=ye.return}}function Ha(e){if(e!==ye)return!1;if(!De)return Ql(e),De=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Wf(e.type,e.memoizedProps)),s=!s),s&&Ce&&yn(e),Ql(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){Ce=gi(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}Ce=null}}else i===27?(i=Ce,la(e.type)?(e=id,id=null,Ce=e):Ce=i):Ce=ye?gi(e.stateNode.nextSibling):null;return!0}function Yo(){Ce=ye=null,De=!1}function Wl(){var e=_t;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),_t=null),e}function jo(e){_t===null?_t=[e]:_t.push(e)}var Tt=X(null),Xn=null,hi=null;function Ri(e,i,s){re(Tt,i._currentValue),i._currentValue=s}function mi(e){e._currentValue=Tt.current,fe(Tt)}function qa(e,i,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===s)break;e=e.return}}function Ar(e,i,s,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var _=p.dependencies;if(_!==null){var b=p.child;_=_.firstContext;e:for(;_!==null;){var M=_;_=p;for(var I=0;I<i.length;I++)if(M.context===i[I]){_.lanes|=s,M=_.alternate,M!==null&&(M.lanes|=s),qa(_.return,s,e),c||(b=null);break e}_=M.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=s,_=b.alternate,_!==null&&(_.lanes|=s),qa(b,s,e),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===e){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Za(e,i,s,c){e=null;for(var p=i,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var M=p.type;cn(p.pendingProps.value,b.value)||(e!==null?e.push(M):e=[M])}}else if(p===mt.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}p=p.return}e!==null&&Ar(i,e,s,c),i.flags|=262144}function eu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ga(e){Xn=e,hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return uh(Xn,e)}function tu(e,i){return Xn===null&&Ga(e),uh(e,i)}function uh(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},hi===null){if(e===null)throw Error(r(308));hi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else hi=hi.next=i;return s}var G_=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},F_=a.unstable_scheduleCallback,Y_=a.unstable_NormalPriority,Bt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new G_,data:new Map,refCount:0}}function Rs(e){e.refCount--,e.refCount===0&&F_(Y_,function(){e.controller.abort()})}var Ls=null,Hc=0,Mr=0,Nr=null;function j_(e,i){if(Ls===null){var s=Ls=[];Hc=0,Mr=Gf(),Nr={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Hc++,i.then(ch,ch),i}function ch(){if(--Hc===0&&Ls!==null){Nr!==null&&(Nr.status="fulfilled");var e=Ls;Ls=null,Mr=0,Nr=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function $_(e,i){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<s.length;p++)(0,s[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var fh=$.S;$.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&j_(e,i),fh!==null&&fh(e,i)};var Fa=X(null);function qc(){var e=Fa.current;return e!==null?e:yt.pooledCache}function nu(e,i){i===null?re(Fa,Fa.current):re(Fa,i.pool)}function dh(){var e=qc();return e===null?null:{parent:Bt._currentValue,pool:e}}var Ds=Error(r(460)),hh=Error(r(474)),iu=Error(r(542)),Zc={then:function(){}};function mh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ou(){}function ph(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(ou,ou),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vh(e),e;default:if(typeof i.status=="string")i.then(ou,ou);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,vh(e),e}throw ks=i,Ds}}var ks=null;function gh(){if(ks===null)throw Error(r(459));var e=ks;return ks=null,e}function vh(e){if(e===Ds||e===iu)throw Error(r(483))}var $o=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ko(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jo(e,i,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=Mi(e),Ba(e,null,s),i}return Ua(e,c,i,s),Mi(e)}function Ps(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,s|=c,i.lanes=s,lr(e,s)}}function Yc(e,i){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,_=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};_===null?p=_=b:_=_.next=b,s=s.next}while(s!==null);_===null?p=_=i:_=_.next=i}else p=_=i;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var jc=!1;function Is(){if(jc){var e=Nr;if(e!==null)throw e}}function Os(e,i,s,c){jc=!1;var p=e.updateQueue;$o=!1;var _=p.firstBaseUpdate,b=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var I=M,Z=I.next;I.next=null,b===null?_=Z:b.next=Z,b=I;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,M=ee.lastBaseUpdate,M!==b&&(M===null?ee.firstBaseUpdate=Z:M.next=Z,ee.lastBaseUpdate=I))}if(_!==null){var ie=p.baseState;b=0,ee=Z=I=null,M=_;do{var G=M.lane&-536870913,F=G!==M.lane;if(F?(nt&G)===G:(c&G)===G){G!==0&&G===Mr&&(jc=!0),ee!==null&&(ee=ee.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Le=e,Ne=M;G=i;var dt=s;switch(Ne.tag){case 1:if(Le=Ne.payload,typeof Le=="function"){ie=Le.call(dt,ie,G);break e}ie=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ne.payload,G=typeof Le=="function"?Le.call(dt,ie,G):Le,G==null)break e;ie=E({},ie,G);break e;case 2:$o=!0}}G=M.callback,G!==null&&(e.flags|=64,F&&(e.flags|=8192),F=p.callbacks,F===null?p.callbacks=[G]:F.push(G))}else F={lane:G,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ee===null?(Z=ee=F,I=ie):ee=ee.next=F,b|=G;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;F=M,M=F.next,F.next=null,p.lastBaseUpdate=F,p.shared.pending=null}}while(!0);ee===null&&(I=ie),p.baseState=I,p.firstBaseUpdate=Z,p.lastBaseUpdate=ee,_===null&&(p.shared.lanes=0),oa|=b,e.lanes=b,e.memoizedState=ie}}function _h(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function yh(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)_h(s[e],i)}var Rr=X(null),au=X(0);function xh(e,i){e=go,re(au,e),re(Rr,i),go=e|i.baseLanes}function $c(){re(au,go),re(Rr,Rr.current)}function Kc(){go=au.current,fe(Rr),fe(au)}var Xo=0,Ze=null,ct=null,Pt=null,ru=!1,Lr=!1,Ya=!1,su=0,zs=0,Dr=null,K_=0;function Lt(){throw Error(r(321))}function Jc(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!cn(e[s],i[s]))return!1;return!0}function Xc(e,i,s,c,p,_){return Xo=_,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?im:om,Ya=!1,_=s(c,p),Ya=!1,Lr&&(_=Ch(i,s,c,p)),Th(e),_}function Th(e){$.H=hu;var i=ct!==null&&ct.next!==null;if(Xo=0,Pt=ct=Ze=null,ru=!1,zs=0,Dr=null,i)throw Error(r(300));e===null||Yt||(e=e.dependencies,e!==null&&eu(e)&&(Yt=!0))}function Ch(e,i,s,c){Ze=e;var p=0;do{if(Lr&&(Dr=null),zs=0,Lr=!1,25<=p)throw Error(r(301));if(p+=1,Pt=ct=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=ny,_=i(s,c)}while(Lr);return _}function J_(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?Us(i):i,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Ze.flags|=1024),i}function Qc(){var e=su!==0;return su=0,e}function Wc(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function ef(e){if(ru){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ru=!1}Xo=0,Pt=ct=Ze=null,Lr=!1,zs=su=0,Dr=null}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ze.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function It(){if(ct===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var i=Pt===null?Ze.memoizedState:Pt.next;if(i!==null)Pt=i,ct=e;else{if(e===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Pt===null?Ze.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Us(e){var i=zs;return zs+=1,Dr===null&&(Dr=[]),e=ph(Dr,e,i),i=Ze,(Pt===null?i.memoizedState:Pt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?im:om),e}function lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Us(e);if(e.$$typeof===Q)return an(e)}throw Error(r(438,String(e)))}function nf(e){var i=null,s=Ze.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=tf(),Ze.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),c=0;c<e;c++)s[c]=Ae;return i.index++,s}function uo(e,i){return typeof i=="function"?i(e):i}function uu(e){var i=It();return of(i,ct,e)}function of(e,i,s){var c=e.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var p=e.baseQueue,_=c.pending;if(_!==null){if(p!==null){var b=p.next;p.next=_.next,_.next=b}i.baseQueue=p=_,c.pending=null}if(_=e.baseState,p===null)e.memoizedState=_;else{i=p.next;var M=b=null,I=null,Z=i,ee=!1;do{var ie=Z.lane&-536870913;if(ie!==Z.lane?(nt&ie)===ie:(Xo&ie)===ie){var G=Z.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ie===Mr&&(ee=!0);else if((Xo&G)===G){Z=Z.next,G===Mr&&(ee=!0);continue}else ie={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},I===null?(M=I=ie,b=_):I=I.next=ie,Ze.lanes|=G,oa|=G;ie=Z.action,Ya&&s(_,ie),_=Z.hasEagerState?Z.eagerState:s(_,ie)}else G={lane:ie,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},I===null?(M=I=G,b=_):I=I.next=G,Ze.lanes|=ie,oa|=ie;Z=Z.next}while(Z!==null&&Z!==i);if(I===null?b=_:I.next=M,!cn(_,e.memoizedState)&&(Yt=!0,ee&&(s=Nr,s!==null)))throw s;e.memoizedState=_,e.baseState=b,e.baseQueue=I,c.lastRenderedState=_}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function af(e){var i=It(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var c=s.dispatch,p=s.pending,_=i.memoizedState;if(p!==null){s.pending=null;var b=p=p.next;do _=e(_,b.action),b=b.next;while(b!==p);cn(_,i.memoizedState)||(Yt=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),s.lastRenderedState=_}return[_,c]}function Sh(e,i,s){var c=Ze,p=It(),_=De;if(_){if(s===void 0)throw Error(r(407));s=s()}else s=i();var b=!cn((ct||p).memoizedState,s);b&&(p.memoizedState=s,Yt=!0),p=p.queue;var M=wh.bind(null,c,p,e);if(Bs(2048,8,M,[e]),p.getSnapshot!==i||b||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,kr(9,cu(),bh.bind(null,c,p,s,i),null),yt===null)throw Error(r(349));_||(Xo&124)!==0||Eh(c,i,s)}return s}function Eh(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Ze.updateQueue,i===null?(i=tf(),Ze.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function bh(e,i,s,c){i.value=s,i.getSnapshot=c,Ah(i)&&Mh(e)}function wh(e,i,s){return s(function(){Ah(i)&&Mh(e)})}function Ah(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!cn(e,s)}catch{return!0}}function Mh(e){var i=Go(e,2);i!==null&&Vn(i,e,2)}function rf(e){var i=xn();if(typeof e=="function"){var s=e;if(e=s(),Ya){wn(!0);try{s()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},i}function Nh(e,i,s,c){return e.baseState=s,of(e,ct,typeof c=="function"?c:uo)}function X_(e,i,s,c,p){if(du(e))throw Error(r(485));if(e=i.action,e!==null){var _={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){_.listeners.push(b)}};$.T!==null?s(!0):_.isTransition=!1,c(_),s=i.pending,s===null?(_.next=i.pending=_,Rh(i,_)):(_.next=s.next,i.pending=s.next=_)}}function Rh(e,i){var s=i.action,c=i.payload,p=e.state;if(i.isTransition){var _=$.T,b={};$.T=b;try{var M=s(p,c),I=$.S;I!==null&&I(b,M),Lh(e,i,M)}catch(Z){sf(e,i,Z)}finally{$.T=_}}else try{_=s(p,c),Lh(e,i,_)}catch(Z){sf(e,i,Z)}}function Lh(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Dh(e,i,c)},function(c){return sf(e,i,c)}):Dh(e,i,s)}function Dh(e,i,s){i.status="fulfilled",i.value=s,kh(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Rh(e,s)))}function sf(e,i,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,kh(i),i=i.next;while(i!==c)}e.action=null}function kh(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ph(e,i){return i}function Ih(e,i){if(De){var s=yt.formState;if(s!==null){e:{var c=Ze;if(De){if(Ce){t:{for(var p=Ce,_=bt;p.nodeType!==8;){if(!_){p=null;break t}if(p=gi(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Ce=gi(p.nextSibling),c=p.data==="F!";break e}}yn(c)}c=!1}c&&(i=s[0])}}return s=xn(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:i},s.queue=c,s=em.bind(null,Ze,c),c.dispatch=s,c=rf(!1),_=df.bind(null,Ze,!1,c.queue),c=xn(),p={state:i,dispatch:null,action:e,pending:null},c.queue=p,s=X_.bind(null,Ze,p,_,s),p.dispatch=s,c.memoizedState=e,[i,s,!1]}function Oh(e){var i=It();return zh(i,ct,e)}function zh(e,i,s){if(i=of(e,i,Ph)[0],e=uu(uo)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Us(i)}catch(b){throw b===Ds?iu:b}else c=i;i=It();var p=i.queue,_=p.dispatch;return s!==i.memoizedState&&(Ze.flags|=2048,kr(9,cu(),Q_.bind(null,p,s),null)),[c,_,e]}function Q_(e,i){e.action=i}function Uh(e){var i=It(),s=ct;if(s!==null)return zh(i,s,e);It(),i=i.memoizedState,s=It();var c=s.queue.dispatch;return s.memoizedState=e,[i,c,!1]}function kr(e,i,s,c){return e={tag:e,create:s,deps:c,inst:i,next:null},i=Ze.updateQueue,i===null&&(i=tf(),Ze.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,i.lastEffect=e),e}function cu(){return{destroy:void 0,resource:void 0}}function Bh(){return It().memoizedState}function fu(e,i,s,c){var p=xn();c=c===void 0?null:c,Ze.flags|=e,p.memoizedState=kr(1|i,cu(),s,c)}function Bs(e,i,s,c){var p=It();c=c===void 0?null:c;var _=p.memoizedState.inst;ct!==null&&c!==null&&Jc(c,ct.memoizedState.deps)?p.memoizedState=kr(i,_,s,c):(Ze.flags|=e,p.memoizedState=kr(1|i,_,s,c))}function Vh(e,i){fu(8390656,8,e,i)}function Hh(e,i){Bs(2048,8,e,i)}function qh(e,i){return Bs(4,2,e,i)}function Zh(e,i){return Bs(4,4,e,i)}function Gh(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fh(e,i,s){s=s!=null?s.concat([e]):null,Bs(4,4,Gh.bind(null,i,e),s)}function lf(){}function Yh(e,i){var s=It();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&Jc(i,c[1])?c[0]:(s.memoizedState=[e,i],e)}function jh(e,i){var s=It();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&Jc(i,c[1]))return c[0];if(c=e(),Ya){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[c,i],c}function uf(e,i,s){return s===void 0||(Xo&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=Jm(),Ze.lanes|=e,oa|=e,s)}function $h(e,i,s,c){return cn(s,i)?s:Rr.current!==null?(e=uf(e,s,c),cn(e,i)||(Yt=!0),e):(Xo&42)===0?(Yt=!0,e.memoizedState=s):(e=Jm(),Ze.lanes|=e,oa|=e,i)}function Kh(e,i,s,c,p){var _=ue.p;ue.p=_!==0&&8>_?_:8;var b=$.T,M={};$.T=M,df(e,!1,i,s);try{var I=p(),Z=$.S;if(Z!==null&&Z(M,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=$_(I,c);Vs(e,i,ee,Bn(e))}else Vs(e,i,c,Bn(e))}catch(ie){Vs(e,i,{then:function(){},status:"rejected",reason:ie},Bn())}finally{ue.p=_,$.T=b}}function W_(){}function cf(e,i,s,c){if(e.tag!==5)throw Error(r(476));var p=Jh(e).queue;Kh(e,p,i,ae,s===null?W_:function(){return Xh(e),s(c)})}function Jh(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:ae},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Xh(e){var i=Jh(e).next.queue;Vs(e,i,{},Bn())}function ff(){return an(ol)}function Qh(){return It().memoizedState}function Wh(){return It().memoizedState}function ey(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Bn();e=Ko(s);var c=Jo(i,e,s);c!==null&&(Vn(c,i,s),Ps(c,i,s)),i={cache:Vc()},e.payload=i;return}i=i.return}}function ty(e,i,s){var c=Bn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},du(e)?tm(i,s):(s=ro(e,i,s,c),s!==null&&(Vn(s,e,c),nm(s,i,c)))}function em(e,i,s){var c=Bn();Vs(e,i,s,c)}function Vs(e,i,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(du(e))tm(i,p);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var b=i.lastRenderedState,M=_(b,s);if(p.hasEagerState=!0,p.eagerState=M,cn(M,b))return Ua(e,i,p,0),yt===null&&za(),!1}catch{}finally{}if(s=ro(e,i,p,c),s!==null)return Vn(s,e,c),nm(s,i,c),!0}return!1}function df(e,i,s,c){if(c={lane:2,revertLane:Gf(),action:c,hasEagerState:!1,eagerState:null,next:null},du(e)){if(i)throw Error(r(479))}else i=ro(e,s,c,2),i!==null&&Vn(i,e,2)}function du(e){var i=e.alternate;return e===Ze||i!==null&&i===Ze}function tm(e,i){Lr=ru=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function nm(e,i,s){if((s&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,s|=c,i.lanes=s,lr(e,s)}}var hu={readContext:an,use:lu,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},im={readContext:an,use:lu,useCallback:function(e,i){return xn().memoizedState=[e,i===void 0?null:i],e},useContext:an,useEffect:Vh,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,fu(4194308,4,Gh.bind(null,i,e),s)},useLayoutEffect:function(e,i){return fu(4194308,4,e,i)},useInsertionEffect:function(e,i){fu(4,2,e,i)},useMemo:function(e,i){var s=xn();i=i===void 0?null:i;var c=e();if(Ya){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[c,i],c},useReducer:function(e,i,s){var c=xn();if(s!==void 0){var p=s(i);if(Ya){wn(!0);try{s(i)}finally{wn(!1)}}}else p=i;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=ty.bind(null,Ze,e),[c.memoizedState,e]},useRef:function(e){var i=xn();return e={current:e},i.memoizedState=e},useState:function(e){e=rf(e);var i=e.queue,s=em.bind(null,Ze,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:lf,useDeferredValue:function(e,i){var s=xn();return uf(s,e,i)},useTransition:function(){var e=rf(!1);return e=Kh.bind(null,Ze,e.queue,!0,!1),xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var c=Ze,p=xn();if(De){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),yt===null)throw Error(r(349));(nt&124)!==0||Eh(c,i,s)}p.memoizedState=s;var _={value:s,getSnapshot:i};return p.queue=_,Vh(wh.bind(null,c,_,e),[e]),c.flags|=2048,kr(9,cu(),bh.bind(null,c,_,s,i),null),s},useId:function(){var e=xn(),i=yt.identifierPrefix;if(De){var s=P,c=w;s=(c&~(1<<32-Zt(c)-1)).toString(32)+s,i="«"+i+"R"+s,s=su++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=K_++,i="«"+i+"r"+s.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:ff,useFormState:Ih,useActionState:Ih,useOptimistic:function(e){var i=xn();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=df.bind(null,Ze,!0,s),s.dispatch=i,[e,i]},useMemoCache:nf,useCacheRefresh:function(){return xn().memoizedState=ey.bind(null,Ze)}},om={readContext:an,use:lu,useCallback:Yh,useContext:an,useEffect:Hh,useImperativeHandle:Fh,useInsertionEffect:qh,useLayoutEffect:Zh,useMemo:jh,useReducer:uu,useRef:Bh,useState:function(){return uu(uo)},useDebugValue:lf,useDeferredValue:function(e,i){var s=It();return $h(s,ct.memoizedState,e,i)},useTransition:function(){var e=uu(uo)[0],i=It().memoizedState;return[typeof e=="boolean"?e:Us(e),i]},useSyncExternalStore:Sh,useId:Qh,useHostTransitionStatus:ff,useFormState:Oh,useActionState:Oh,useOptimistic:function(e,i){var s=It();return Nh(s,ct,e,i)},useMemoCache:nf,useCacheRefresh:Wh},ny={readContext:an,use:lu,useCallback:Yh,useContext:an,useEffect:Hh,useImperativeHandle:Fh,useInsertionEffect:qh,useLayoutEffect:Zh,useMemo:jh,useReducer:af,useRef:Bh,useState:function(){return af(uo)},useDebugValue:lf,useDeferredValue:function(e,i){var s=It();return ct===null?uf(s,e,i):$h(s,ct.memoizedState,e,i)},useTransition:function(){var e=af(uo)[0],i=It().memoizedState;return[typeof e=="boolean"?e:Us(e),i]},useSyncExternalStore:Sh,useId:Qh,useHostTransitionStatus:ff,useFormState:Uh,useActionState:Uh,useOptimistic:function(e,i){var s=It();return ct!==null?Nh(s,ct,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:nf,useCacheRefresh:Wh},Pr=null,Hs=0;function mu(e){var i=Hs;return Hs+=1,Pr===null&&(Pr=[]),ph(Pr,e,i)}function qs(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function pu(e,i){throw i.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function am(e){var i=e._init;return i(e._payload)}function rm(e){function i(B,U){if(e){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function s(B,U){if(!e)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function c(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function p(B,U){return B=Jn(B,U),B.index=0,B.sibling=null,B}function _(B,U,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function b(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function M(B,U,q,ne){return U===null||U.tag!==6?(U=Ns(q,B.mode,ne),U.return=B,U):(U=p(U,q),U.return=B,U)}function I(B,U,q,ne){var xe=q.type;return xe===R?ee(B,U,q.props.children,ne,q.key):U!==null&&(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===we&&am(xe)===U.type)?(U=p(U,q.props),qs(U,q),U.return=B,U):(U=Va(q.type,q.key,q.props,null,B.mode,ne),qs(U,q),U.return=B,U)}function Z(B,U,q,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=wr(q,B.mode,ne),U.return=B,U):(U=p(U,q.children||[]),U.return=B,U)}function ee(B,U,q,ne,xe){return U===null||U.tag!==7?(U=Ni(q,B.mode,ne,xe),U.return=B,U):(U=p(U,q),U.return=B,U)}function ie(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ns(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return q=Va(U.type,U.key,U.props,null,B.mode,q),qs(q,U),q.return=B,q;case D:return U=wr(U,B.mode,q),U.return=B,U;case we:var ne=U._init;return U=ne(U._payload),ie(B,U,q)}if(Qe(U)||ve(U))return U=Ni(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return ie(B,mu(U),q);if(U.$$typeof===Q)return ie(B,tu(B,U),q);pu(B,U)}return null}function G(B,U,q,ne){var xe=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:M(B,U,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===xe?I(B,U,q,ne):null;case D:return q.key===xe?Z(B,U,q,ne):null;case we:return xe=q._init,q=xe(q._payload),G(B,U,q,ne)}if(Qe(q)||ve(q))return xe!==null?null:ee(B,U,q,ne,null);if(typeof q.then=="function")return G(B,U,mu(q),ne);if(q.$$typeof===Q)return G(B,U,tu(B,q),ne);pu(B,q)}return null}function F(B,U,q,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(q)||null,M(U,B,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return B=B.get(ne.key===null?q:ne.key)||null,I(U,B,ne,xe);case D:return B=B.get(ne.key===null?q:ne.key)||null,Z(U,B,ne,xe);case we:var Fe=ne._init;return ne=Fe(ne._payload),F(B,U,q,ne,xe)}if(Qe(ne)||ve(ne))return B=B.get(q)||null,ee(U,B,ne,xe,null);if(typeof ne.then=="function")return F(B,U,q,mu(ne),xe);if(ne.$$typeof===Q)return F(B,U,q,tu(U,ne),xe);pu(U,ne)}return null}function Le(B,U,q,ne){for(var xe=null,Fe=null,be=U,Re=U=0,$t=null;be!==null&&Re<q.length;Re++){be.index>Re?($t=be,be=null):$t=be.sibling;var at=G(B,be,q[Re],ne);if(at===null){be===null&&(be=$t);break}e&&be&&at.alternate===null&&i(B,be),U=_(at,U,Re),Fe===null?xe=at:Fe.sibling=at,Fe=at,be=$t}if(Re===q.length)return s(B,be),De&&V(B,Re),xe;if(be===null){for(;Re<q.length;Re++)be=ie(B,q[Re],ne),be!==null&&(U=_(be,U,Re),Fe===null?xe=be:Fe.sibling=be,Fe=be);return De&&V(B,Re),xe}for(be=c(be);Re<q.length;Re++)$t=F(be,B,Re,q[Re],ne),$t!==null&&(e&&$t.alternate!==null&&be.delete($t.key===null?Re:$t.key),U=_($t,U,Re),Fe===null?xe=$t:Fe.sibling=$t,Fe=$t);return e&&be.forEach(function(ha){return i(B,ha)}),De&&V(B,Re),xe}function Ne(B,U,q,ne){if(q==null)throw Error(r(151));for(var xe=null,Fe=null,be=U,Re=U=0,$t=null,at=q.next();be!==null&&!at.done;Re++,at=q.next()){be.index>Re?($t=be,be=null):$t=be.sibling;var ha=G(B,be,at.value,ne);if(ha===null){be===null&&(be=$t);break}e&&be&&ha.alternate===null&&i(B,be),U=_(ha,U,Re),Fe===null?xe=ha:Fe.sibling=ha,Fe=ha,be=$t}if(at.done)return s(B,be),De&&V(B,Re),xe;if(be===null){for(;!at.done;Re++,at=q.next())at=ie(B,at.value,ne),at!==null&&(U=_(at,U,Re),Fe===null?xe=at:Fe.sibling=at,Fe=at);return De&&V(B,Re),xe}for(be=c(be);!at.done;Re++,at=q.next())at=F(be,B,Re,at.value,ne),at!==null&&(e&&at.alternate!==null&&be.delete(at.key===null?Re:at.key),U=_(at,U,Re),Fe===null?xe=at:Fe.sibling=at,Fe=at);return e&&be.forEach(function(i0){return i(B,i0)}),De&&V(B,Re),xe}function dt(B,U,q,ne){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:e:{for(var xe=q.key;U!==null;){if(U.key===xe){if(xe=q.type,xe===R){if(U.tag===7){s(B,U.sibling),ne=p(U,q.props.children),ne.return=B,B=ne;break e}}else if(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===we&&am(xe)===U.type){s(B,U.sibling),ne=p(U,q.props),qs(ne,q),ne.return=B,B=ne;break e}s(B,U);break}else i(B,U);U=U.sibling}q.type===R?(ne=Ni(q.props.children,B.mode,ne,q.key),ne.return=B,B=ne):(ne=Va(q.type,q.key,q.props,null,B.mode,ne),qs(ne,q),ne.return=B,B=ne)}return b(B);case D:e:{for(xe=q.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){s(B,U.sibling),ne=p(U,q.children||[]),ne.return=B,B=ne;break e}else{s(B,U);break}else i(B,U);U=U.sibling}ne=wr(q,B.mode,ne),ne.return=B,B=ne}return b(B);case we:return xe=q._init,q=xe(q._payload),dt(B,U,q,ne)}if(Qe(q))return Le(B,U,q,ne);if(ve(q)){if(xe=ve(q),typeof xe!="function")throw Error(r(150));return q=xe.call(q),Ne(B,U,q,ne)}if(typeof q.then=="function")return dt(B,U,mu(q),ne);if(q.$$typeof===Q)return dt(B,U,tu(B,q),ne);pu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(s(B,U.sibling),ne=p(U,q),ne.return=B,B=ne):(s(B,U),ne=Ns(q,B.mode,ne),ne.return=B,B=ne),b(B)):s(B,U)}return function(B,U,q,ne){try{Hs=0;var xe=dt(B,U,q,ne);return Pr=null,xe}catch(be){if(be===Ds||be===iu)throw be;var Fe=mn(29,be,null,B.mode);return Fe.lanes=ne,Fe.return=B,Fe}finally{}}}var Ir=rm(!0),sm=rm(!1),Qn=X(null),Li=null;function Qo(e){var i=e.alternate;re(Vt,Vt.current&1),re(Qn,e),Li===null&&(i===null||Rr.current!==null||i.memoizedState!==null)&&(Li=e)}function lm(e){if(e.tag===22){if(re(Vt,Vt.current),re(Qn,e),Li===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Li=e)}}else Wo()}function Wo(){re(Vt,Vt.current),re(Qn,Qn.current)}function co(e){fe(Qn),Li===e&&(Li=null),fe(Vt)}var Vt=X(0);function gu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||nd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hf(e,i,s,c){i=e.memoizedState,s=s(c,i),s=s==null?i:E({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var mf={enqueueSetState:function(e,i,s){e=e._reactInternals;var c=Bn(),p=Ko(c);p.payload=i,s!=null&&(p.callback=s),i=Jo(e,p,c),i!==null&&(Vn(i,e,c),Ps(i,e,c))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var c=Bn(),p=Ko(c);p.tag=1,p.payload=i,s!=null&&(p.callback=s),i=Jo(e,p,c),i!==null&&(Vn(i,e,c),Ps(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Bn(),c=Ko(s);c.tag=2,i!=null&&(c.callback=i),i=Jo(e,c,s),i!==null&&(Vn(i,e,s),Ps(i,e,s))}};function um(e,i,s,c,p,_,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,b):i.prototype&&i.prototype.isPureReactComponent?!fn(s,c)||!fn(p,_):!0}function cm(e,i,s,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==e&&mf.enqueueReplaceState(i,i.state,null)}function ja(e,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(e=e.defaultProps){s===i&&(s=E({},s));for(var p in e)s[p]===void 0&&(s[p]=e[p])}return s}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fm(e){vu(e)}function dm(e){console.error(e)}function hm(e){vu(e)}function _u(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function mm(e,i,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function pf(e,i,s){return s=Ko(s),s.tag=3,s.payload={element:null},s.callback=function(){_u(e,i)},s}function pm(e){return e=Ko(e),e.tag=3,e}function gm(e,i,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var _=c.value;e.payload=function(){return p(_)},e.callback=function(){mm(i,s,c)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){mm(i,s,c),typeof p!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var M=c.stack;this.componentDidCatch(c.value,{componentStack:M!==null?M:""})})}function iy(e,i,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Za(i,s,p,!0),s=Qn.current,s!==null){switch(s.tag){case 13:return Li===null?Bf():s.alternate===null&&Rt===0&&(Rt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===Zc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),Hf(e,c,p)),!1;case 22:return s.flags|=65536,c===Zc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),Hf(e,c,p)),!1}throw Error(r(435,s.tag))}return Hf(e,c,p),Bf(),!1}if(De)return i=Qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==Ft&&(e=Error(r(422),{cause:c}),jo(dn(e,s)))):(c!==Ft&&(i=Error(r(423),{cause:c}),jo(dn(i,s))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=dn(c,s),p=pf(e.stateNode,c,p),Yc(e,p),Rt!==4&&(Rt=2)),!1;var _=Error(r(520),{cause:c});if(_=dn(_,s),Ks===null?Ks=[_]:Ks.push(_),Rt!==4&&(Rt=2),i===null)return!0;c=dn(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=p&-p,s.lanes|=e,e=pf(s.stateNode,c,e),Yc(s,e),!1;case 1:if(i=s.type,_=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(aa===null||!aa.has(_))))return s.flags|=65536,p&=-p,s.lanes|=p,p=pm(p),gm(p,e,s,c),Yc(s,p),!1}s=s.return}while(s!==null);return!1}var vm=Error(r(461)),Yt=!1;function Qt(e,i,s,c){i.child=e===null?sm(i,null,s,c):Ir(i,e.child,s,c)}function _m(e,i,s,c,p){s=s.render;var _=i.ref;if("ref"in c){var b={};for(var M in c)M!=="ref"&&(b[M]=c[M])}else b=c;return Ga(i),c=Xc(e,i,s,b,_,p),M=Qc(),e!==null&&!Yt?(Wc(e,i,p),fo(e,i,p)):(De&&M&&oe(i),i.flags|=1,Qt(e,i,c,p),i.child)}function ym(e,i,s,c,p){if(e===null){var _=s.type;return typeof _=="function"&&!br(_)&&_.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=_,xm(e,i,_,c,p)):(e=Va(s.type,null,c,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Sf(e,p)){var b=_.memoizedProps;if(s=s.compare,s=s!==null?s:fn,s(b,c)&&e.ref===i.ref)return fo(e,i,p)}return i.flags|=1,e=Jn(_,c),e.ref=i.ref,e.return=i,i.child=e}function xm(e,i,s,c,p){if(e!==null){var _=e.memoizedProps;if(fn(_,c)&&e.ref===i.ref)if(Yt=!1,i.pendingProps=c=_,Sf(e,p))(e.flags&131072)!==0&&(Yt=!0);else return i.lanes=e.lanes,fo(e,i,p)}return gf(e,i,s,c,p)}function Tm(e,i,s){var c=i.pendingProps,p=c.children,_=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=_!==null?_.baseLanes|s:s,e!==null){for(p=i.child=e.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;i.childLanes=_&~c}else i.childLanes=0,i.child=null;return Cm(e,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&nu(i,_!==null?_.cachePool:null),_!==null?xh(i,_):$c(),lm(i);else return i.lanes=i.childLanes=536870912,Cm(e,i,_!==null?_.baseLanes|s:s,s)}else _!==null?(nu(i,_.cachePool),xh(i,_),Wo(),i.memoizedState=null):(e!==null&&nu(i,null),$c(),Wo());return Qt(e,i,p,s),i.child}function Cm(e,i,s,c){var p=qc();return p=p===null?null:{parent:Bt._currentValue,pool:p},i.memoizedState={baseLanes:s,cachePool:p},e!==null&&nu(i,null),$c(),lm(i),e!==null&&Za(e,i,c,!0),null}function yu(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function gf(e,i,s,c,p){return Ga(i),s=Xc(e,i,s,c,void 0,p),c=Qc(),e!==null&&!Yt?(Wc(e,i,p),fo(e,i,p)):(De&&c&&oe(i),i.flags|=1,Qt(e,i,s,p),i.child)}function Sm(e,i,s,c,p,_){return Ga(i),i.updateQueue=null,s=Ch(i,c,s,p),Th(e),c=Qc(),e!==null&&!Yt?(Wc(e,i,_),fo(e,i,_)):(De&&c&&oe(i),i.flags|=1,Qt(e,i,s,_),i.child)}function Em(e,i,s,c,p){if(Ga(i),i.stateNode===null){var _=so,b=s.contextType;typeof b=="object"&&b!==null&&(_=an(b)),_=new s(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=mf,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},Gc(i),b=s.contextType,_.context=typeof b=="object"&&b!==null?an(b):so,_.state=i.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(hf(i,s,b,c),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(b=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),b!==_.state&&mf.enqueueReplaceState(_,_.state,null),Os(i,c,_,p),Is(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var M=i.memoizedProps,I=ja(s,M);_.props=I;var Z=_.context,ee=s.contextType;b=so,typeof ee=="object"&&ee!==null&&(b=an(ee));var ie=s.getDerivedStateFromProps;ee=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(M||Z!==b)&&cm(i,_,c,b),$o=!1;var G=i.memoizedState;_.state=G,Os(i,c,_,p),Is(),Z=i.memoizedState,M||G!==Z||$o?(typeof ie=="function"&&(hf(i,s,ie,c),Z=i.memoizedState),(I=$o||um(i,s,I,c,G,Z,b))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),_.props=c,_.state=Z,_.context=b,c=I):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Fc(e,i),b=i.memoizedProps,ee=ja(s,b),_.props=ee,ie=i.pendingProps,G=_.context,Z=s.contextType,I=so,typeof Z=="object"&&Z!==null&&(I=an(Z)),M=s.getDerivedStateFromProps,(Z=typeof M=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b!==ie||G!==I)&&cm(i,_,c,I),$o=!1,G=i.memoizedState,_.state=G,Os(i,c,_,p),Is();var F=i.memoizedState;b!==ie||G!==F||$o||e!==null&&e.dependencies!==null&&eu(e.dependencies)?(typeof M=="function"&&(hf(i,s,M,c),F=i.memoizedState),(ee=$o||um(i,s,ee,c,G,F,I)||e!==null&&e.dependencies!==null&&eu(e.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,F,I),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,F,I)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=F),_.props=c,_.state=F,_.context=I,c=ee):(typeof _.componentDidUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,yu(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=Ir(i,e.child,null,p),i.child=Ir(i,null,s,p)):Qt(e,i,s,p),i.memoizedState=_.state,e=i.child):e=fo(e,i,p),e}function bm(e,i,s,c){return Yo(),i.flags|=256,Qt(e,i,s,c),i.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:dh()}}function yf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Wn),e}function wm(e,i,s){var c=i.pendingProps,p=!1,_=(i.flags&128)!==0,b;if((b=_)||(b=e!==null&&e.memoizedState===null?!1:(Vt.current&2)!==0),b&&(p=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(De){if(p?Qo(i):Wo(),De){var M=Ce,I;if(I=M){e:{for(I=M,M=bt;I.nodeType!==8;){if(!M){M=null;break e}if(I=gi(I.nextSibling),I===null){M=null;break e}}M=I}M!==null?(i.memoizedState={dehydrated:M,treeContext:C!==null?{id:w,overflow:P}:null,retryLane:536870912,hydrationErrors:null},I=mn(18,null,null,0),I.stateNode=M,I.return=i,i.child=I,ye=i,Ce=null,I=!0):I=!1}I||yn(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return nd(M)?i.lanes=32:i.lanes=536870912,null;co(i)}return M=c.children,c=c.fallback,p?(Wo(),p=i.mode,M=xu({mode:"hidden",children:M},p),c=Ni(c,p,s,null),M.return=i,c.return=i,M.sibling=c,i.child=M,p=i.child,p.memoizedState=_f(s),p.childLanes=yf(e,b,s),i.memoizedState=vf,c):(Qo(i),xf(i,M))}if(I=e.memoizedState,I!==null&&(M=I.dehydrated,M!==null)){if(_)i.flags&256?(Qo(i),i.flags&=-257,i=Tf(e,i,s)):i.memoizedState!==null?(Wo(),i.child=e.child,i.flags|=128,i=null):(Wo(),p=c.fallback,M=i.mode,c=xu({mode:"visible",children:c.children},M),p=Ni(p,M,s,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,Ir(i,e.child,null,s),c=i.child,c.memoizedState=_f(s),c.childLanes=yf(e,b,s),i.memoizedState=vf,i=p);else if(Qo(i),nd(M)){if(b=M.nextSibling&&M.nextSibling.dataset,b)var Z=b.dgst;b=Z,c=Error(r(419)),c.stack="",c.digest=b,jo({value:c,source:null,stack:null}),i=Tf(e,i,s)}else if(Yt||Za(e,i,s,!1),b=(s&e.childLanes)!==0,Yt||b){if(b=yt,b!==null&&(c=s&-s,c=(c&42)!==0?1:bo(c),c=(c&(b.suspendedLanes|s))!==0?0:c,c!==0&&c!==I.retryLane))throw I.retryLane=c,Go(e,c),Vn(b,e,c),vm;M.data==="$?"||Bf(),i=Tf(e,i,s)}else M.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,Ce=gi(M.nextSibling),ye=i,De=!0,_t=null,bt=!1,e!==null&&(m[T++]=w,m[T++]=P,m[T++]=C,w=e.id,P=e.overflow,C=i),i=xf(i,c.children),i.flags|=4096);return i}return p?(Wo(),p=c.fallback,M=i.mode,I=e.child,Z=I.sibling,c=Jn(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,Z!==null?p=Jn(Z,p):(p=Ni(p,M,s,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,M=e.child.memoizedState,M===null?M=_f(s):(I=M.cachePool,I!==null?(Z=Bt._currentValue,I=I.parent!==Z?{parent:Z,pool:Z}:I):I=dh(),M={baseLanes:M.baseLanes|s,cachePool:I}),p.memoizedState=M,p.childLanes=yf(e,b,s),i.memoizedState=vf,c):(Qo(i),s=e.child,e=s.sibling,s=Jn(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=s,i.memoizedState=null,s)}function xf(e,i){return i=xu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function xu(e,i){return e=mn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tf(e,i,s){return Ir(i,e.child,null,s),e=xf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Am(e,i,s){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),qa(e.return,i,s)}function Cf(e,i,s,c,p){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=s,_.tailMode=p)}function Mm(e,i,s){var c=i.pendingProps,p=c.revealOrder,_=c.tail;if(Qt(e,i,c.children,s),c=Vt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Am(e,s,i);else if(e.tag===19)Am(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(re(Vt,c),p){case"forwards":for(s=i.child,p=null;s!==null;)e=s.alternate,e!==null&&gu(e)===null&&(p=s),s=s.sibling;s=p,s===null?(p=i.child,i.child=null):(p=s.sibling,s.sibling=null),Cf(i,!1,p,s,_);break;case"backwards":for(s=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&gu(e)===null){i.child=p;break}e=p.sibling,p.sibling=s,s=p,p=e}Cf(i,!0,s,null,_);break;case"together":Cf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fo(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),oa|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Za(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=Jn(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Jn(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Sf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&eu(e)))}function oy(e,i,s){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Ri(i,Bt,e.memoizedState.cache),Yo();break;case 27:case 5:Hn(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Qo(i),i.flags|=128,null):(s&i.child.childLanes)!==0?wm(e,i,s):(Qo(i),e=fo(e,i,s),e!==null?e.sibling:null);Qo(i);break;case 19:var p=(e.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Za(e,i,s,!1),c=(s&i.childLanes)!==0),p){if(c)return Mm(e,i,s);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),re(Vt,Vt.current),c)break;return null;case 22:case 23:return i.lanes=0,Tm(e,i,s);case 24:Ri(i,Bt,e.memoizedState.cache)}return fo(e,i,s)}function Nm(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Yt=!0;else{if(!Sf(e,s)&&(i.flags&128)===0)return Yt=!1,oy(e,i,s);Yt=(e.flags&131072)!==0}else Yt=!1,De&&(i.flags&1048576)!==0&&j(i,u,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var c=i.elementType,p=c._init;if(c=p(c._payload),i.type=c,typeof c=="function")br(c)?(e=ja(c,e),i.tag=1,i=Em(null,i,c,e,s)):(i.tag=0,i=gf(null,i,c,e,s));else{if(c!=null){if(p=c.$$typeof,p===W){i.tag=11,i=_m(null,i,c,e,s);break e}else if(p===pe){i.tag=14,i=ym(null,i,c,e,s);break e}}throw i=He(c)||c,Error(r(306,i,""))}}return i;case 0:return gf(e,i,i.type,i.pendingProps,s);case 1:return c=i.type,p=ja(c,i.pendingProps),Em(e,i,c,p,s);case 3:e:{if(Je(i,i.stateNode.containerInfo),e===null)throw Error(r(387));c=i.pendingProps;var _=i.memoizedState;p=_.element,Fc(e,i),Os(i,c,null,s);var b=i.memoizedState;if(c=b.cache,Ri(i,Bt,c),c!==_.cache&&Ar(i,[Bt],s,!0),Is(),c=b.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=bm(e,i,c,s);break e}else if(c!==p){p=dn(Error(r(424)),i),jo(p),i=bm(e,i,c,s);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=gi(e.firstChild),ye=i,De=!0,_t=null,bt=!0,s=sm(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Yo(),c===p){i=fo(e,i,s);break e}Qt(e,i,c,s)}i=i.child}return i;case 26:return yu(e,i),e===null?(s=kp(i.type,null,i.pendingProps,null))?i.memoizedState=s:De||(s=i.type,e=i.pendingProps,c=Pu(de.current).createElement(s),c[it]=i,c[pt]=e,en(c,s,e),kt(c),i.stateNode=c):i.memoizedState=kp(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Hn(i),e===null&&De&&(c=i.stateNode=Rp(i.type,i.pendingProps,de.current),ye=i,bt=!0,p=Ce,la(i.type)?(id=p,Ce=gi(c.firstChild)):Ce=p),Qt(e,i,i.pendingProps.children,s),yu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&De&&((p=c=Ce)&&(c=Dy(c,i.type,i.pendingProps,bt),c!==null?(i.stateNode=c,ye=i,Ce=gi(c.firstChild),bt=!1,p=!0):p=!1),p||yn(i)),Hn(i),p=i.type,_=i.pendingProps,b=e!==null?e.memoizedProps:null,c=_.children,Wf(p,_)?c=null:b!==null&&Wf(p,b)&&(i.flags|=32),i.memoizedState!==null&&(p=Xc(e,i,J_,null,null,s),ol._currentValue=p),yu(e,i),Qt(e,i,c,s),i.child;case 6:return e===null&&De&&((e=s=Ce)&&(s=ky(s,i.pendingProps,bt),s!==null?(i.stateNode=s,ye=i,Ce=null,e=!0):e=!1),e||yn(i)),null;case 13:return wm(e,i,s);case 4:return Je(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Ir(i,null,c,s):Qt(e,i,c,s),i.child;case 11:return _m(e,i,i.type,i.pendingProps,s);case 7:return Qt(e,i,i.pendingProps,s),i.child;case 8:return Qt(e,i,i.pendingProps.children,s),i.child;case 12:return Qt(e,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,Ri(i,i.type,c.value),Qt(e,i,c.children,s),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Ga(i),p=an(p),c=c(p),i.flags|=1,Qt(e,i,c,s),i.child;case 14:return ym(e,i,i.type,i.pendingProps,s);case 15:return xm(e,i,i.type,i.pendingProps,s);case 19:return Mm(e,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},e===null?(s=xu(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Jn(e.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Tm(e,i,s);case 24:return Ga(i),c=an(Bt),e===null?(p=qc(),p===null&&(p=yt,_=Vc(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=s),p=_),i.memoizedState={parent:c,cache:p},Gc(i),Ri(i,Bt,p)):((e.lanes&s)!==0&&(Fc(e,i),Os(i,null,null,s),Is()),p=e.memoizedState,_=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ri(i,Bt,c)):(c=_.cache,Ri(i,Bt,c),c!==p.cache&&Ar(i,[Bt],s,!0))),Qt(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ho(e){e.flags|=4}function Rm(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Up(i)){if(i=Qn.current,i!==null&&((nt&4194048)===nt?Li!==null:(nt&62914560)!==nt&&(nt&536870912)===0||i!==Li))throw ks=Zc,hh;e.flags|=8192}}function Tu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ca():536870912,e.lanes|=i,Br|=i)}function Zs(e,i){if(!De)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function wt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(i)for(var p=e.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=s,i}function ay(e,i,s){var c=i.pendingProps;switch(me(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return s=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),mi(Bt),gn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ha(i)?ho(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wl())),wt(i),null;case 26:return s=i.memoizedState,e===null?(ho(i),s!==null?(wt(i),Rm(i,s)):(wt(i),i.flags&=-16777217)):s?s!==e.memoizedState?(ho(i),wt(i),Rm(i,s)):(wt(i),i.flags&=-16777217):(e.memoizedProps!==c&&ho(i),wt(i),i.flags&=-16777217),null;case 27:bn(i),s=de.current;var p=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ho(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return wt(i),null}e=he.current,Ha(i)?Xl(i):(e=Rp(p,c,s),i.stateNode=e,ho(i))}return wt(i),null;case 5:if(bn(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ho(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return wt(i),null}if(e=he.current,Ha(i))Xl(i);else{switch(p=Pu(de.current),e){case 1:e=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}e[it]=i,e[pt]=c;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)e.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=e;e:switch(en(e,s,c),s){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ho(i)}}return wt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&ho(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(e=de.current,Ha(i)){if(e=i.stateNode,s=i.memoizedProps,c=null,p=ye,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[it]=i,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Sp(e.nodeValue,s)),e||yn(i)}else e=Pu(e).createTextNode(c),e[it]=i,i.stateNode=e}return wt(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Ha(i),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(r(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[it]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),p=!1}else p=Wl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(co(i),i):(co(i),null)}if(co(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,e=e!==null&&e.memoizedState!==null,s){c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==p&&(c.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Tu(i,i.updateQueue),wt(i),null;case 4:return gn(),e===null&&$f(i.stateNode.containerInfo),wt(i),null;case 10:return mi(i.type),wt(i),null;case 19:if(fe(Vt),p=i.memoizedState,p===null)return wt(i),null;if(c=(i.flags&128)!==0,_=p.rendering,_===null)if(c)Zs(p,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=gu(e),_!==null){for(i.flags|=128,Zs(p,!1),e=_.updateQueue,i.updateQueue=e,Tu(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)Ms(s,e),s=s.sibling;return re(Vt,Vt.current&1|2),i.child}e=e.sibling}p.tail!==null&&Ht()>Eu&&(i.flags|=128,c=!0,Zs(p,!1),i.lanes=4194304)}else{if(!c)if(e=gu(_),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,Tu(i,e),Zs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!De)return wt(i),null}else 2*Ht()-p.renderingStartTime>Eu&&s!==536870912&&(i.flags|=128,c=!0,Zs(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(e=p.last,e!==null?e.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ht(),i.sibling=null,e=Vt.current,re(Vt,c?e&1|2:e&1),i):(wt(i),null);case 22:case 23:return co(i),Kc(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),s=i.updateQueue,s!==null&&Tu(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),e!==null&&fe(Fa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),mi(Bt),wt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function ry(e,i){switch(me(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return mi(Bt),gn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return bn(i),null;case 13:if(co(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Yo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return fe(Vt),null;case 4:return gn(),null;case 10:return mi(i.type),null;case 22:case 23:return co(i),Kc(),e!==null&&fe(Fa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return mi(Bt),null;case 25:return null;default:return null}}function Lm(e,i){switch(me(i),i.tag){case 3:mi(Bt),gn();break;case 26:case 27:case 5:bn(i);break;case 4:gn();break;case 13:co(i);break;case 19:fe(Vt);break;case 10:mi(i.type);break;case 22:case 23:co(i),Kc(),e!==null&&fe(Fa);break;case 24:mi(Bt)}}function Gs(e,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&e)===e){c=void 0;var _=s.create,b=s.inst;c=_(),b.destroy=c}s=s.next}while(s!==p)}}catch(M){ht(i,i.return,M)}}function ea(e,i,s){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&e)===e){var b=c.inst,M=b.destroy;if(M!==void 0){b.destroy=void 0,p=i;var I=s,Z=M;try{Z()}catch(ee){ht(p,I,ee)}}}c=c.next}while(c!==_)}}catch(ee){ht(i,i.return,ee)}}function Dm(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{yh(i,s)}catch(c){ht(e,e.return,c)}}}function km(e,i,s){s.props=ja(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){ht(e,i,c)}}function Fs(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(p){ht(e,i,p)}}function Di(e,i){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){ht(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){ht(e,i,p)}else s.current=null}function Pm(e){var i=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){ht(e,e.return,p)}}function Ef(e,i,s){try{var c=e.stateNode;Ay(c,e.type,s,i),c[pt]=i}catch(p){ht(e,e.return,p)}}function Im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function bf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,i,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ku));else if(c!==4&&(c===27&&la(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(wf(e,i,s),e=e.sibling;e!==null;)wf(e,i,s),e=e.sibling}function Cu(e,i,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(c!==4&&(c===27&&la(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Cu(e,i,s),e=e.sibling;e!==null;)Cu(e,i,s),e=e.sibling}function Om(e){var i=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);en(i,c,s),i[it]=e,i[pt]=s}catch(_){ht(e,e.return,_)}}var mo=!1,Dt=!1,Af=!1,zm=typeof WeakSet=="function"?WeakSet:Set,jt=null;function sy(e,i){if(e=e.containerInfo,Xf=Vu,e=Pa(e),Ia(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{s.nodeType,_.nodeType}catch{s=null;break e}var b=0,M=-1,I=-1,Z=0,ee=0,ie=e,G=null;t:for(;;){for(var F;ie!==s||p!==0&&ie.nodeType!==3||(M=b+p),ie!==_||c!==0&&ie.nodeType!==3||(I=b+c),ie.nodeType===3&&(b+=ie.nodeValue.length),(F=ie.firstChild)!==null;)G=ie,ie=F;for(;;){if(ie===e)break t;if(G===s&&++Z===p&&(M=b),G===_&&++ee===c&&(I=b),(F=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=F}s=M===-1||I===-1?null:{start:M,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qf={focusedElem:e,selectionRange:s},Vu=!1,jt=i;jt!==null;)if(i=jt,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,jt=e;else for(;jt!==null;){switch(i=jt,_=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,s=i,p=_.memoizedProps,_=_.memoizedState,c=s.stateNode;try{var Le=ja(s.type,p,s.elementType===s.type);e=c.getSnapshotBeforeUpdate(Le,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){ht(s,s.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)td(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,jt=e;break}jt=i.return}}function Um(e,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:ta(e,s),c&4&&Gs(5,s);break;case 1:if(ta(e,s),c&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(b){ht(s,s.return,b)}else{var p=ja(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ht(s,s.return,b)}}c&64&&Dm(s),c&512&&Fs(s,s.return);break;case 3:if(ta(e,s),c&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{yh(e,i)}catch(b){ht(s,s.return,b)}}break;case 27:i===null&&c&4&&Om(s);case 26:case 5:ta(e,s),i===null&&c&4&&Pm(s),c&512&&Fs(s,s.return);break;case 12:ta(e,s);break;case 13:ta(e,s),c&4&&Hm(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=gy.bind(null,s),Py(e,s))));break;case 22:if(c=s.memoizedState!==null||mo,!c){i=i!==null&&i.memoizedState!==null||Dt,p=mo;var _=Dt;mo=c,(Dt=i)&&!_?na(e,s,(s.subtreeFlags&8772)!==0):ta(e,s),mo=p,Dt=_}break;case 30:break;default:ta(e,s)}}function Bm(e){var i=e.alternate;i!==null&&(e.alternate=null,Bm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&tn(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ct=null,Tn=!1;function po(e,i,s){for(s=s.child;s!==null;)Vm(e,i,s),s=s.sibling}function Vm(e,i,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Zn,s)}catch{}switch(s.tag){case 26:Dt||Di(s,i),po(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Dt||Di(s,i);var c=Ct,p=Tn;la(s.type)&&(Ct=s.stateNode,Tn=!1),po(e,i,s),el(s.stateNode),Ct=c,Tn=p;break;case 5:Dt||Di(s,i);case 6:if(c=Ct,p=Tn,Ct=null,po(e,i,s),Ct=c,Tn=p,Ct!==null)if(Tn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(_){ht(s,i,_)}else try{Ct.removeChild(s.stateNode)}catch(_){ht(s,i,_)}break;case 18:Ct!==null&&(Tn?(e=Ct,Mp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ll(e)):Mp(Ct,s.stateNode));break;case 4:c=Ct,p=Tn,Ct=s.stateNode.containerInfo,Tn=!0,po(e,i,s),Ct=c,Tn=p;break;case 0:case 11:case 14:case 15:Dt||ea(2,s,i),Dt||ea(4,s,i),po(e,i,s);break;case 1:Dt||(Di(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&km(s,i,c)),po(e,i,s);break;case 21:po(e,i,s);break;case 22:Dt=(c=Dt)||s.memoizedState!==null,po(e,i,s),Dt=c;break;default:po(e,i,s)}}function Hm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(s){ht(i,i.return,s)}}function ly(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new zm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new zm),i;default:throw Error(r(435,e.tag))}}function Mf(e,i){var s=ly(e);i.forEach(function(c){var p=vy.bind(null,e,c);s.has(c)||(s.add(c),c.then(p,p))})}function On(e,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],_=e,b=i,M=b;e:for(;M!==null;){switch(M.tag){case 27:if(la(M.type)){Ct=M.stateNode,Tn=!1;break e}break;case 5:Ct=M.stateNode,Tn=!1;break e;case 3:case 4:Ct=M.stateNode.containerInfo,Tn=!0;break e}M=M.return}if(Ct===null)throw Error(r(160));Vm(_,b,p),Ct=null,Tn=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)qm(i,e),i=i.sibling}var pi=null;function qm(e,i){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(i,e),zn(e),c&4&&(ea(3,e,e.return),Gs(3,e),ea(5,e,e.return));break;case 1:On(i,e),zn(e),c&512&&(Dt||s===null||Di(s,s.return)),c&64&&mo&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=pi;if(On(i,e),zn(e),c&512&&(Dt||s===null||Di(s,s.return)),c&4){var _=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":_=p.getElementsByTagName("title")[0],(!_||_[zt]||_[it]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(c),p.head.insertBefore(_,p.querySelector("head > title"))),en(_,c,s),_[it]=e,kt(_),c=_;break e;case"link":var b=Op("link","href",p).get(c+(s.href||""));if(b){for(var M=0;M<b.length;M++)if(_=b[M],_.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&_.getAttribute("rel")===(s.rel==null?null:s.rel)&&_.getAttribute("title")===(s.title==null?null:s.title)&&_.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(M,1);break t}}_=p.createElement(c),en(_,c,s),p.head.appendChild(_);break;case"meta":if(b=Op("meta","content",p).get(c+(s.content||""))){for(M=0;M<b.length;M++)if(_=b[M],_.getAttribute("content")===(s.content==null?null:""+s.content)&&_.getAttribute("name")===(s.name==null?null:s.name)&&_.getAttribute("property")===(s.property==null?null:s.property)&&_.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&_.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(M,1);break t}}_=p.createElement(c),en(_,c,s),p.head.appendChild(_);break;default:throw Error(r(468,c))}_[it]=e,kt(_),c=_}e.stateNode=c}else zp(p,e.type,e.stateNode);else e.stateNode=Ip(p,c,e.memoizedProps);else _!==c?(_===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):_.count--,c===null?zp(p,e.type,e.stateNode):Ip(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,s.memoizedProps)}break;case 27:On(i,e),zn(e),c&512&&(Dt||s===null||Di(s,s.return)),s!==null&&c&4&&Ef(e,e.memoizedProps,s.memoizedProps);break;case 5:if(On(i,e),zn(e),c&512&&(Dt||s===null||Di(s,s.return)),e.flags&32){p=e.stateNode;try{Fn(p,"")}catch(F){ht(e,e.return,F)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,Ef(e,p,s!==null?s.memoizedProps:p)),c&1024&&(Af=!0);break;case 6:if(On(i,e),zn(e),c&4){if(e.stateNode===null)throw Error(r(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(F){ht(e,e.return,F)}}break;case 3:if(zu=null,p=pi,pi=Iu(i.containerInfo),On(i,e),pi=p,zn(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{ll(i.containerInfo)}catch(F){ht(e,e.return,F)}Af&&(Af=!1,Zm(e));break;case 4:c=pi,pi=Iu(e.stateNode.containerInfo),On(i,e),zn(e),pi=c;break;case 12:On(i,e),zn(e);break;case 13:On(i,e),zn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pf=Ht()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Mf(e,c)));break;case 22:p=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,Z=mo,ee=Dt;if(mo=Z||p,Dt=ee||I,On(i,e),Dt=ee,mo=Z,zn(e),c&8192)e:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(s===null||I||mo||Dt||$a(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(_=I.stateNode,p)b=_.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{M=I.stateNode;var ie=I.memoizedProps.style,G=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;M.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){ht(I,I.return,F)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(F){ht(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Mf(e,s))));break;case 19:On(i,e),zn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Mf(e,c)));break;case 30:break;case 21:break;default:On(i,e),zn(e)}}function zn(e){var i=e.flags;if(i&2){try{for(var s,c=e.return;c!==null;){if(Im(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var p=s.stateNode,_=bf(e);Cu(e,_,p);break;case 5:var b=s.stateNode;s.flags&32&&(Fn(b,""),s.flags&=-33);var M=bf(e);Cu(e,M,b);break;case 3:case 4:var I=s.stateNode.containerInfo,Z=bf(e);wf(e,Z,I);break;default:throw Error(r(161))}}catch(ee){ht(e,e.return,ee)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Zm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Zm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ta(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Um(e,i.alternate,i),i=i.sibling}function $a(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ea(4,i,i.return),$a(i);break;case 1:Di(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&km(i,i.return,s),$a(i);break;case 27:el(i.stateNode);case 26:case 5:Di(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}e=e.sibling}}function na(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=e,_=i,b=_.flags;switch(_.tag){case 0:case 11:case 15:na(p,_,s),Gs(4,_);break;case 1:if(na(p,_,s),c=_,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){ht(c,c.return,Z)}if(c=_,p=c.updateQueue,p!==null){var M=c.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)_h(I[p],M)}catch(Z){ht(c,c.return,Z)}}s&&b&64&&Dm(_),Fs(_,_.return);break;case 27:Om(_);case 26:case 5:na(p,_,s),s&&c===null&&b&4&&Pm(_),Fs(_,_.return);break;case 12:na(p,_,s);break;case 13:na(p,_,s),s&&b&4&&Hm(p,_);break;case 22:_.memoizedState===null&&na(p,_,s),Fs(_,_.return);break;case 30:break;default:na(p,_,s)}i=i.sibling}}function Nf(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Rs(s))}function Rf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Rs(e))}function ki(e,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gm(e,i,s,c),i=i.sibling}function Gm(e,i,s,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ki(e,i,s,c),p&2048&&Gs(9,i);break;case 1:ki(e,i,s,c);break;case 3:ki(e,i,s,c),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Rs(e)));break;case 12:if(p&2048){ki(e,i,s,c),e=i.stateNode;try{var _=i.memoizedProps,b=_.id,M=_.onPostCommit;typeof M=="function"&&M(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ht(i,i.return,I)}}else ki(e,i,s,c);break;case 13:ki(e,i,s,c);break;case 23:break;case 22:_=i.stateNode,b=i.alternate,i.memoizedState!==null?_._visibility&2?ki(e,i,s,c):Ys(e,i):_._visibility&2?ki(e,i,s,c):(_._visibility|=2,Or(e,i,s,c,(i.subtreeFlags&10256)!==0)),p&2048&&Nf(b,i);break;case 24:ki(e,i,s,c),p&2048&&Rf(i.alternate,i);break;default:ki(e,i,s,c)}}function Or(e,i,s,c,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var _=e,b=i,M=s,I=c,Z=b.flags;switch(b.tag){case 0:case 11:case 15:Or(_,b,M,I,p),Gs(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Or(_,b,M,I,p):Ys(_,b):(ee._visibility|=2,Or(_,b,M,I,p)),p&&Z&2048&&Nf(b.alternate,b);break;case 24:Or(_,b,M,I,p),p&&Z&2048&&Rf(b.alternate,b);break;default:Or(_,b,M,I,p)}i=i.sibling}}function Ys(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,c=i,p=c.flags;switch(c.tag){case 22:Ys(s,c),p&2048&&Nf(c.alternate,c);break;case 24:Ys(s,c),p&2048&&Rf(c.alternate,c);break;default:Ys(s,c)}i=i.sibling}}var js=8192;function zr(e){if(e.subtreeFlags&js)for(e=e.child;e!==null;)Fm(e),e=e.sibling}function Fm(e){switch(e.tag){case 26:zr(e),e.flags&js&&e.memoizedState!==null&&jy(pi,e.memoizedState,e.memoizedProps);break;case 5:zr(e);break;case 3:case 4:var i=pi;pi=Iu(e.stateNode.containerInfo),zr(e),pi=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=js,js=16777216,zr(e),js=i):zr(e));break;default:zr(e)}}function Ym(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $s(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];jt=c,$m(c,e)}Ym(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jm(e),e=e.sibling}function jm(e){switch(e.tag){case 0:case 11:case 15:$s(e),e.flags&2048&&ea(9,e,e.return);break;case 3:$s(e);break;case 12:$s(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Su(e)):$s(e);break;default:$s(e)}}function Su(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];jt=c,$m(c,e)}Ym(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ea(8,i,i.return),Su(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Su(i));break;default:Su(i)}e=e.sibling}}function $m(e,i){for(;jt!==null;){var s=jt;switch(s.tag){case 0:case 11:case 15:ea(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Rs(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,jt=c;else e:for(s=e;jt!==null;){c=jt;var p=c.sibling,_=c.return;if(Bm(c),c===s){jt=null;break e}if(p!==null){p.return=_,jt=p;break e}jt=_}}}var uy={getCacheForType:function(e){var i=an(Bt),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},cy=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,$e=null,nt=0,lt=0,Un=null,ia=!1,Ur=!1,Lf=!1,go=0,Rt=0,oa=0,Ka=0,Df=0,Wn=0,Br=0,Ks=null,Cn=null,kf=!1,Pf=0,Eu=1/0,bu=null,aa=null,Wt=0,ra=null,Vr=null,Hr=0,If=0,Of=null,Km=null,Js=0,zf=null;function Bn(){if((st&2)!==0&&nt!==0)return nt&-nt;if($.T!==null){var e=Mr;return e!==0?e:Gf()}return Me()}function Jm(){Wn===0&&(Wn=(nt&536870912)===0||De?rr():536870912);var e=Qn.current;return e!==null&&(e.flags|=32),Wn}function Vn(e,i,s){(e===yt&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(qr(e,0),sa(e,nt,Wn,!1)),Si(e,s),((st&2)===0||e!==yt)&&(e===yt&&((st&2)===0&&(Ka|=s),Rt===4&&sa(e,nt,Wn,!1)),Pi(e))}function Xm(e,i,s){if((st&6)!==0)throw Error(r(327));var c=!s&&(i&124)===0&&(i&e.expiredLanes)===0||An(e,i),p=c?hy(e,i):Vf(e,i,!0),_=c;do{if(p===0){Ur&&!c&&sa(e,i,0,!1);break}else{if(s=e.current.alternate,_&&!fy(s)){p=Vf(e,i,!1),_=!1;continue}if(p===2){if(_=i,e.errorRecoveryDisabledLanes&_)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var M=e;p=Ks;var I=M.current.memoizedState.isDehydrated;if(I&&(qr(M,b).flags|=256),b=Vf(M,b,!1),b!==2){if(Lf&&!I){M.errorRecoveryDisabledLanes|=_,Ka|=_,p=4;break e}_=Cn,Cn=p,_!==null&&(Cn===null?Cn=_:Cn.push.apply(Cn,_))}p=b}if(_=!1,p!==2)continue}}if(p===1){qr(e,0),sa(e,i,0,!0);break}e:{switch(c=e,_=p,_){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:sa(c,i,Wn,!ia);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(p=Pf+300-Ht(),10<p)){if(sa(c,i,Wn,!ia),So(c,0,!0)!==0)break e;c.timeoutHandle=wp(Qm.bind(null,c,s,Cn,bu,kf,i,Wn,Ka,Br,ia,_,2,-0,0),p);break e}Qm(c,s,Cn,bu,kf,i,Wn,Ka,Br,ia,_,0,-0,0)}}break}while(!0);Pi(e)}function Qm(e,i,s,c,p,_,b,M,I,Z,ee,ie,G,F){if(e.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:Yy},Fm(i),ie=$y(),ie!==null)){e.cancelPendingCommit=ie(ap.bind(null,e,i,_,s,c,p,b,M,I,ee,1,G,F)),sa(e,_,b,!Z);return}ap(e,i,_,s,c,p,b,M,I)}function fy(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],_=p.getSnapshot;p=p.value;try{if(!cn(_(),p))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sa(e,i,s,c){i&=~Df,i&=~Ka,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var p=i;0<p;){var _=31-Zt(p),b=1<<_;c[_]=-1,p&=~b}s!==0&&sr(e,s,i)}function wu(){return(st&6)===0?(Xs(0),!1):!0}function Uf(){if($e!==null){if(lt===0)var e=$e.return;else e=$e,hi=Xn=null,ef(e),Pr=null,Hs=0,e=$e;for(;e!==null;)Lm(e.alternate,e),e=e.return;$e=null}}function qr(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ny(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Uf(),yt=e,$e=s=Jn(e.current,null),nt=i,lt=0,Un=null,ia=!1,Ur=An(e,i),Lf=!1,Br=Wn=Df=Ka=oa=Rt=0,Cn=Ks=null,kf=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var p=31-Zt(c),_=1<<p;i|=e[p],c&=~_}return go=i,za(),s}function Wm(e,i){Ze=null,$.H=hu,i===Ds||i===iu?(i=gh(),lt=3):i===hh?(i=gh(),lt=4):lt=i===vm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Un=i,$e===null&&(Rt=1,_u(e,dn(i,e.current)))}function ep(){var e=$.H;return $.H=hu,e===null?hu:e}function tp(){var e=$.A;return $.A=uy,e}function Bf(){Rt=4,ia||(nt&4194048)!==nt&&Qn.current!==null||(Ur=!0),(oa&134217727)===0&&(Ka&134217727)===0||yt===null||sa(yt,nt,Wn,!1)}function Vf(e,i,s){var c=st;st|=2;var p=ep(),_=tp();(yt!==e||nt!==i)&&(bu=null,qr(e,i)),i=!1;var b=Rt;e:do try{if(lt!==0&&$e!==null){var M=$e,I=Un;switch(lt){case 8:Uf(),b=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(i=!0);var Z=lt;if(lt=0,Un=null,Zr(e,M,I,Z),s&&Ur){b=0;break e}break;default:Z=lt,lt=0,Un=null,Zr(e,M,I,Z)}}dy(),b=Rt;break}catch(ee){Wm(e,ee)}while(!0);return i&&e.shellSuspendCounter++,hi=Xn=null,st=c,$.H=p,$.A=_,$e===null&&(yt=null,nt=0,za()),b}function dy(){for(;$e!==null;)np($e)}function hy(e,i){var s=st;st|=2;var c=ep(),p=tp();yt!==e||nt!==i?(bu=null,Eu=Ht()+500,qr(e,i)):Ur=An(e,i);e:do try{if(lt!==0&&$e!==null){i=$e;var _=Un;t:switch(lt){case 1:lt=0,Un=null,Zr(e,i,_,1);break;case 2:case 9:if(mh(_)){lt=0,Un=null,ip(i);break}i=function(){lt!==2&&lt!==9||yt!==e||(lt=7),Pi(e)},_.then(i,i);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:mh(_)?(lt=0,Un=null,ip(i)):(lt=0,Un=null,Zr(e,i,_,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var M=$e;if(!b||Up(b)){lt=0,Un=null;var I=M.sibling;if(I!==null)$e=I;else{var Z=M.return;Z!==null?($e=Z,Au(Z)):$e=null}break t}}lt=0,Un=null,Zr(e,i,_,5);break;case 6:lt=0,Un=null,Zr(e,i,_,6);break;case 8:Uf(),Rt=6;break e;default:throw Error(r(462))}}my();break}catch(ee){Wm(e,ee)}while(!0);return hi=Xn=null,$.H=c,$.A=p,st=s,$e!==null?0:(yt=null,nt=0,za(),Rt)}function my(){for(;$e!==null&&!Co();)np($e)}function np(e){var i=Nm(e.alternate,e,go);e.memoizedProps=e.pendingProps,i===null?Au(e):$e=i}function ip(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Sm(s,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=Sm(s,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:ef(i);default:Lm(s,i),i=$e=Ms(i,go),i=Nm(s,i,go)}e.memoizedProps=e.pendingProps,i===null?Au(e):$e=i}function Zr(e,i,s,c){hi=Xn=null,ef(i),Pr=null,Hs=0;var p=i.return;try{if(iy(e,p,i,s,nt)){Rt=1,_u(e,dn(s,e.current)),$e=null;return}}catch(_){if(p!==null)throw $e=p,_;Rt=1,_u(e,dn(s,e.current)),$e=null;return}i.flags&32768?(De||c===1?e=!0:Ur||(nt&536870912)!==0?e=!1:(ia=e=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),op(i,e)):Au(i)}function Au(e){var i=e;do{if((i.flags&32768)!==0){op(i,ia);return}e=i.return;var s=ay(i.alternate,i,go);if(s!==null){$e=s;return}if(i=i.sibling,i!==null){$e=i;return}$e=i=e}while(i!==null);Rt===0&&(Rt=5)}function op(e,i){do{var s=ry(e.alternate,e);if(s!==null){s.flags&=32767,$e=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){$e=e;return}$e=e=s}while(e!==null);Rt=6,$e=null}function ap(e,i,s,c,p,_,b,M,I){e.cancelPendingCommit=null;do Mu();while(Wt!==0);if((st&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(_=i.lanes|i.childLanes,_|=In,ds(e,s,_,b,M,I),e===yt&&($e=yt=null,nt=0),Vr=i,ra=e,Hr=s,If=_,Of=p,Km=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_y(ri,function(){return cp(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,p=ue.p,ue.p=2,b=st,st|=4;try{sy(e,i,s)}finally{st=b,ue.p=p,$.T=c}}Wt=1,rp(),sp(),lp()}}function rp(){if(Wt===1){Wt=0;var e=ra,i=Vr,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var c=ue.p;ue.p=2;var p=st;st|=4;try{qm(i,e);var _=Qf,b=Pa(e.containerInfo),M=_.focusedElem,I=_.selectionRange;if(b!==M&&M&&M.ownerDocument&&xr(M.ownerDocument.documentElement,M)){if(I!==null&&Ia(M)){var Z=I.start,ee=I.end;if(ee===void 0&&(ee=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min(ee,M.value.length);else{var ie=M.ownerDocument||document,G=ie&&ie.defaultView||window;if(G.getSelection){var F=G.getSelection(),Le=M.textContent.length,Ne=Math.min(I.start,Le),dt=I.end===void 0?Ne:Math.min(I.end,Le);!F.extend&&Ne>dt&&(b=dt,dt=Ne,Ne=b);var B=ws(M,Ne),U=ws(M,dt);if(B&&U&&(F.rangeCount!==1||F.anchorNode!==B.node||F.anchorOffset!==B.offset||F.focusNode!==U.node||F.focusOffset!==U.offset)){var q=ie.createRange();q.setStart(B.node,B.offset),F.removeAllRanges(),Ne>dt?(F.addRange(q),F.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),F.addRange(q))}}}}for(ie=[],F=M;F=F.parentNode;)F.nodeType===1&&ie.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ie.length;M++){var ne=ie[M];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Vu=!!Xf,Qf=Xf=null}finally{st=p,ue.p=c,$.T=s}}e.current=i,Wt=2}}function sp(){if(Wt===2){Wt=0;var e=ra,i=Vr,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var c=ue.p;ue.p=2;var p=st;st|=4;try{Um(e,i.alternate,i)}finally{st=p,ue.p=c,$.T=s}}Wt=3}}function lp(){if(Wt===4||Wt===3){Wt=0,ya();var e=ra,i=Vr,s=Hr,c=Km;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,Vr=ra=null,up(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(aa=null),te(s),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=$.T,p=ue.p,ue.p=2,$.T=null;try{for(var _=e.onRecoverableError,b=0;b<c.length;b++){var M=c[b];_(M.value,{componentStack:M.stack})}}finally{$.T=i,ue.p=p}}(Hr&3)!==0&&Mu(),Pi(e),p=e.pendingLanes,(s&4194090)!==0&&(p&42)!==0?e===zf?Js++:(Js=0,zf=e):Js=0,Xs(0)}}function up(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Rs(i)))}function Mu(e){return rp(),sp(),lp(),cp()}function cp(){if(Wt!==5)return!1;var e=ra,i=If;If=0;var s=te(Hr),c=$.T,p=ue.p;try{ue.p=32>s?32:s,$.T=null,s=Of,Of=null;var _=ra,b=Hr;if(Wt=0,Vr=ra=null,Hr=0,(st&6)!==0)throw Error(r(331));var M=st;if(st|=4,jm(_.current),Gm(_,_.current,b,s),st=M,Xs(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Zn,_)}catch{}return!0}finally{ue.p=p,$.T=c,up(e,i)}}function fp(e,i,s){i=dn(s,i),i=pf(e.stateNode,i,2),e=Jo(e,i,2),e!==null&&(Si(e,2),Pi(e))}function ht(e,i,s){if(e.tag===3)fp(e,e,s);else for(;i!==null;){if(i.tag===3){fp(i,e,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(aa===null||!aa.has(c))){e=dn(s,e),s=pm(2),c=Jo(i,s,2),c!==null&&(gm(s,c,i,e),Si(c,2),Pi(c));break}}i=i.return}}function Hf(e,i,s){var c=e.pingCache;if(c===null){c=e.pingCache=new cy;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(s)||(Lf=!0,p.add(s),e=py.bind(null,e,i,s),i.then(e,e))}function py(e,i,s){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,yt===e&&(nt&s)===s&&(Rt===4||Rt===3&&(nt&62914560)===nt&&300>Ht()-Pf?(st&2)===0&&qr(e,0):Df|=s,Br===nt&&(Br=0)),Pi(e)}function dp(e,i){i===0&&(i=Ca()),e=Go(e,i),e!==null&&(Si(e,i),Pi(e))}function gy(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),dp(e,s)}function vy(e,i){var s=0;switch(e.tag){case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),dp(e,s)}function _y(e,i){return oi(e,i)}var Nu=null,Gr=null,qf=!1,Ru=!1,Zf=!1,Ja=0;function Pi(e){e!==Gr&&e.next===null&&(Gr===null?Nu=Gr=e:Gr=Gr.next=e),Ru=!0,qf||(qf=!0,xy())}function Xs(e,i){if(!Zf&&Ru){Zf=!0;do for(var s=!1,c=Nu;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var _=0;else{var b=c.suspendedLanes,M=c.pingedLanes;_=(1<<31-Zt(42|e)+1)-1,_&=p&~(b&~M),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(s=!0,gp(c,_))}else _=nt,_=So(c,c===yt?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||An(c,_)||(s=!0,gp(c,_));c=c.next}while(s);Zf=!1}}function yy(){hp()}function hp(){Ru=qf=!1;var e=0;Ja!==0&&(My()&&(e=Ja),Ja=0);for(var i=Ht(),s=null,c=Nu;c!==null;){var p=c.next,_=mp(c,i);_===0?(c.next=null,s===null?Nu=p:s.next=p,p===null&&(Gr=s)):(s=c,(e!==0||(_&3)!==0)&&(Ru=!0)),c=p}Xs(e)}function mp(e,i){for(var s=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var b=31-Zt(_),M=1<<b,I=p[b];I===-1?((M&s)===0||(M&c)!==0)&&(p[b]=fs(M,i)):I<=i&&(e.expiredLanes|=M),_&=~M}if(i=yt,s=nt,s=So(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===i&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&To(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||An(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(c!==null&&To(c),te(s)){case 2:case 8:s=Zi;break;case 32:s=ri;break;case 268435456:s=xi;break;default:s=ri}return c=pp.bind(null,e),s=oi(s,c),e.callbackPriority=i,e.callbackNode=s,i}return c!==null&&c!==null&&To(c),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,i){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Mu()&&e.callbackNode!==s)return null;var c=nt;return c=So(e,e===yt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Xm(e,c,i),mp(e,Ht()),e.callbackNode!=null&&e.callbackNode===s?pp.bind(null,e):null)}function gp(e,i){if(Mu())return null;Xm(e,i,!0)}function xy(){Ry(function(){(st&6)!==0?oi(xa,yy):hp()})}function Gf(){return Ja===0&&(Ja=rr()),Ja}function vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Lo(""+e)}function _p(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function Ty(e,i,s,c,p){if(i==="submit"&&s&&s.stateNode===p){var _=vp((p[pt]||null).action),b=c.submitter;b&&(i=(i=b[pt]||null)?vp(i.formAction):b.getAttribute("formAction"),i!==null&&(_=i,b=null));var M=new Na("action","action",null,c,p);e.push({event:M,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ja!==0){var I=b?_p(p,b):new FormData(p);cf(s,{pending:!0,data:I,method:p.method,action:_},null,I)}}else typeof _=="function"&&(M.preventDefault(),I=b?_p(p,b):new FormData(p),cf(s,{pending:!0,data:I,method:p.method,action:_},_,I))},currentTarget:p}]})}}for(var Ff=0;Ff<oo.length;Ff++){var Yf=oo[Ff],Cy=Yf.toLowerCase(),Sy=Yf[0].toUpperCase()+Yf.slice(1);Pn(Cy,"on"+Sy)}Pn($l,"onAnimationEnd"),Pn(kn,"onAnimationIteration"),Pn(Oa,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Uc,"onTransitionRun"),Pn(Er,"onTransitionStart"),Pn(Bc,"onTransitionCancel"),Pn(As,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ey=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function yp(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],p=c.event;c=c.listeners;e:{var _=void 0;if(i)for(var b=c.length-1;0<=b;b--){var M=c[b],I=M.instance,Z=M.currentTarget;if(M=M.listener,I!==_&&p.isPropagationStopped())break e;_=M,p.currentTarget=Z;try{_(p)}catch(ee){vu(ee)}p.currentTarget=null,_=I}else for(b=0;b<c.length;b++){if(M=c[b],I=M.instance,Z=M.currentTarget,M=M.listener,I!==_&&p.isPropagationStopped())break e;_=M,p.currentTarget=Z;try{_(p)}catch(ee){vu(ee)}p.currentTarget=null,_=I}}}}function Ke(e,i){var s=i[Mt];s===void 0&&(s=i[Mt]=new Set);var c=e+"__bubble";s.has(c)||(xp(i,e,2,!1),s.add(c))}function jf(e,i,s){var c=0;i&&(c|=4),xp(s,e,c,i)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[Lu]){e[Lu]=!0,Ml.forEach(function(s){s!=="selectionchange"&&(Ey.has(s)||jf(s,!1,e),jf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Lu]||(i[Lu]=!0,jf("selectionchange",!1,i))}}function xp(e,i,s,c){switch(Gp(i)){case 2:var p=Xy;break;case 8:p=Qy;break;default:p=ld}s=p.bind(null,i,s,e),p=void 0,!Ma||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(i,s,{capture:!0,passive:p}):e.addEventListener(i,s,!0):p!==void 0?e.addEventListener(i,s,{passive:p}):e.addEventListener(i,s,!1)}function Kf(e,i,s,c,p){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var M=c.stateNode.containerInfo;if(M===p)break;if(b===4)for(b=c.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;M!==null;){if(b=Ut(M),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){c=_=b;continue e}M=M.parentNode}}c=c.return}Nn(function(){var Z=_,ee=Do(s),ie=[];e:{var G=Kl.get(e);if(G!==void 0){var F=Na,Le=e;switch(e){case"keypress":if(Nt(s)===0)break e;case"keydown":case"keyup":F=Rc;break;case"focusin":Le="focus",F=vs;break;case"focusout":Le="blur",F=vs;break;case"beforeblur":case"afterblur":F=vs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Dc;break;case $l:case kn:case Oa:F=wc;break;case As:F=kc;break;case"scroll":case"scrollend":F=Ec;break;case"wheel":F=Bl;break;case"copy":case"cut":case"paste":F=_s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=xs;break;case"toggle":case"beforetoggle":F=eo}var Ne=(i&4)!==0,dt=!Ne&&(e==="scroll"||e==="scrollend"),B=Ne?G!==null?G+"Capture":null:G;Ne=[];for(var U=Z,q;U!==null;){var ne=U;if(q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||q===null||B===null||(ne=ot(U,B),ne!=null&&Ne.push(Ws(U,ne,q))),dt)break;U=U.return}0<Ne.length&&(G=new F(G,Le,null,s,ee),ie.push({event:G,listeners:Ne}))}}if((i&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",G&&s!==Aa&&(Le=s.relatedTarget||s.fromElement)&&(Ut(Le)||Le[vn]))break e;if((F||G)&&(G=ee.window===ee?ee:(G=ee.ownerDocument)?G.defaultView||G.parentWindow:window,F?(Le=s.relatedTarget||s.toElement,F=Z,Le=Le?Ut(Le):null,Le!==null&&(dt=f(Le),Ne=Le.tag,Le!==dt||Ne!==5&&Ne!==27&&Ne!==6)&&(Le=null)):(F=null,Le=Z),F!==Le)){if(Ne=Io,ne="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=xs,ne="onPointerLeave",B="onPointerEnter",U="pointer"),dt=F==null?G:ln(F),q=Le==null?G:ln(Le),G=new Ne(ne,U+"leave",F,s,ee),G.target=dt,G.relatedTarget=q,ne=null,Ut(ee)===Z&&(Ne=new Ne(B,U+"enter",Le,s,ee),Ne.target=q,Ne.relatedTarget=dt,ne=Ne),dt=ne,F&&Le)t:{for(Ne=F,B=Le,U=0,q=Ne;q;q=Fr(q))U++;for(q=0,ne=B;ne;ne=Fr(ne))q++;for(;0<U-q;)Ne=Fr(Ne),U--;for(;0<q-U;)B=Fr(B),q--;for(;U--;){if(Ne===B||B!==null&&Ne===B.alternate)break t;Ne=Fr(Ne),B=Fr(B)}Ne=null}else Ne=null;F!==null&&Tp(ie,G,F,Ne,!1),Le!==null&&dt!==null&&Tp(ie,dt,Le,Ne,!0)}}e:{if(G=Z?ln(Z):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var xe=Uo;else if(no(G))if(Ss)xe=zc;else{xe=Oc;var Fe=bs}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?Z&&wa(Z.elementType)&&(xe=Uo):xe=di;if(xe&&(xe=xe(e,Z))){Gl(ie,xe,s,ee);break e}Fe&&Fe(e,G,Z),e==="focusout"&&Z&&G.type==="number"&&Z.memoizedProps.value!=null&&No(G,"number",G.value)}switch(Fe=Z?ln(Z):window,e){case"focusin":(no(Fe)||Fe.contentEditable==="true")&&(Dn=Fe,Ho=Z,io=null);break;case"focusout":io=Ho=Dn=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Yl(ie,s,ee);break;case"selectionchange":if(Tr)break;case"keydown":case"keyup":Yl(ie,s,ee)}var be;if(to)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Oo?_r(e,s)&&(Re="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Re="onCompositionStart");Re&&(Cs&&s.locale!=="ko"&&(Oo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Oo&&(be=Po()):(jn=ee,ci="value"in jn?jn.value:jn.textContent,Oo=!0)),Fe=Du(Z,Re),0<Fe.length&&(Re=new Rn(Re,e,null,s,ee),ie.push({event:Re,listeners:Fe}),be?Re.data=be:(be=ql(s),be!==null&&(Re.data=be)))),(be=Vl?Zl(e,s):Ic(e,s))&&(Re=Du(Z,"onBeforeInput"),0<Re.length&&(Fe=new Rn("onBeforeInput","beforeinput",null,s,ee),ie.push({event:Fe,listeners:Re}),Fe.data=be)),Ty(ie,e,Z,s,ee)}yp(ie,i)})}function Ws(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Du(e,i){for(var s=i+"Capture",c=[];e!==null;){var p=e,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=ot(e,s),p!=null&&c.unshift(Ws(e,p,_)),p=ot(e,i),p!=null&&c.push(Ws(e,p,_))),e.tag===3)return c;e=e.return}return[]}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tp(e,i,s,c,p){for(var _=i._reactName,b=[];s!==null&&s!==c;){var M=s,I=M.alternate,Z=M.stateNode;if(M=M.tag,I!==null&&I===c)break;M!==5&&M!==26&&M!==27||Z===null||(I=Z,p?(Z=ot(s,_),Z!=null&&b.unshift(Ws(s,Z,I))):p||(Z=ot(s,_),Z!=null&&b.push(Ws(s,Z,I)))),s=s.return}b.length!==0&&e.push({event:i,listeners:b})}var by=/\r\n?/g,wy=/\u0000|\uFFFD/g;function Cp(e){return(typeof e=="string"?e:""+e).replace(by,`
`).replace(wy,"")}function Sp(e,i){return i=Cp(i),Cp(e)===i}function ku(){}function ft(e,i,s,c,p,_){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Fn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Fn(e,""+c);break;case"className":cr(e,"class",c);break;case"tabIndex":cr(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,s,c);break;case"style":Ro(e,c,_);break;case"data":if(i!=="object"){cr(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Lo(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(s==="formAction"?(i!=="input"&&ft(e,i,"name",p.name,p,null),ft(e,i,"formEncType",p.formEncType,p,null),ft(e,i,"formMethod",p.formMethod,p,null),ft(e,i,"formTarget",p.formTarget,p,null)):(ft(e,i,"encType",p.encType,p,null),ft(e,i,"method",p.method,p,null),ft(e,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Lo(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=ku);break;case"onScroll":c!=null&&Ke("scroll",e);break;case"onScrollEnd":c!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=Lo(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),ur(e,"popover",c);break;case"xlinkActuate":ui(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ui(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ui(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ui(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ui(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ui(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ui(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ui(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ui(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ur(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ms.get(s)||s,ur(e,s,c))}}function Jf(e,i,s,c,p,_){switch(s){case"style":Ro(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof c=="string"?Fn(e,c):(typeof c=="number"||typeof c=="bigint")&&Fn(e,""+c);break;case"onScroll":c!=null&&Ke("scroll",e);break;case"onScrollEnd":c!=null&&Ke("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),i=s.slice(2,p?s.length-7:void 0),_=e[pt]||null,_=_!=null?_[s]:null,typeof _=="function"&&e.removeEventListener(i,_,p),typeof c=="function")){typeof _!="function"&&_!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,c,p);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):ur(e,s,c)}}}function en(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var c=!1,p=!1,_;for(_ in s)if(s.hasOwnProperty(_)){var b=s[_];if(b!=null)switch(_){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(e,i,_,b,s,null)}}p&&ft(e,i,"srcSet",s.srcSet,s,null),c&&ft(e,i,"src",s.src,s,null);return;case"input":Ke("invalid",e);var M=_=b=p=null,I=null,Z=null;for(c in s)if(s.hasOwnProperty(c)){var ee=s[c];if(ee!=null)switch(c){case"name":p=ee;break;case"type":b=ee;break;case"checked":I=ee;break;case"defaultChecked":Z=ee;break;case"value":_=ee;break;case"defaultValue":M=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:ft(e,i,c,ee,s,null)}}Ll(e,_,M,I,Z,b,p,!1),Mo(e);return;case"select":Ke("invalid",e),c=b=_=null;for(p in s)if(s.hasOwnProperty(p)&&(M=s[p],M!=null))switch(p){case"value":_=M;break;case"defaultValue":b=M;break;case"multiple":c=M;default:ft(e,i,p,M,s,null)}i=_,s=b,e.multiple=!!c,i!=null?_n(e,!!c,i,!1):s!=null&&_n(e,!!c,s,!0);return;case"textarea":Ke("invalid",e),_=p=c=null;for(b in s)if(s.hasOwnProperty(b)&&(M=s[b],M!=null))switch(b){case"value":c=M;break;case"defaultValue":p=M;break;case"children":_=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:ft(e,i,b,M,s,null)}Ei(e,c,p,_),Mo(e);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(c=s[I],c!=null))switch(I){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(e,i,I,c,s,null)}return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(c=0;c<Qs.length;c++)Ke(Qs[c],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in s)if(s.hasOwnProperty(Z)&&(c=s[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ft(e,i,Z,c,s,null)}return;default:if(wa(i)){for(ee in s)s.hasOwnProperty(ee)&&(c=s[ee],c!==void 0&&Jf(e,i,ee,c,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(c=s[M],c!=null&&ft(e,i,M,c,s,null))}function Ay(e,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,b=null,M=null,I=null,Z=null,ee=null;for(F in s){var ie=s[F];if(s.hasOwnProperty(F)&&ie!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ie;default:c.hasOwnProperty(F)||ft(e,i,F,null,c,ie)}}for(var G in c){var F=c[G];if(ie=s[G],c.hasOwnProperty(G)&&(F!=null||ie!=null))switch(G){case"type":_=F;break;case"name":p=F;break;case"checked":Z=F;break;case"defaultChecked":ee=F;break;case"value":b=F;break;case"defaultValue":M=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==ie&&ft(e,i,G,F,c,ie)}}nn(e,b,M,I,Z,ee,_,p);return;case"select":F=b=M=G=null;for(_ in s)if(I=s[_],s.hasOwnProperty(_)&&I!=null)switch(_){case"value":break;case"multiple":F=I;default:c.hasOwnProperty(_)||ft(e,i,_,null,c,I)}for(p in c)if(_=c[p],I=s[p],c.hasOwnProperty(p)&&(_!=null||I!=null))switch(p){case"value":G=_;break;case"defaultValue":M=_;break;case"multiple":b=_;default:_!==I&&ft(e,i,p,_,c,I)}i=M,s=b,c=F,G!=null?_n(e,!!s,G,!1):!!c!=!!s&&(i!=null?_n(e,!!s,i,!0):_n(e,!!s,s?[]:"",!1));return;case"textarea":F=G=null;for(M in s)if(p=s[M],s.hasOwnProperty(M)&&p!=null&&!c.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ft(e,i,M,null,c,p)}for(b in c)if(p=c[b],_=s[b],c.hasOwnProperty(b)&&(p!=null||_!=null))switch(b){case"value":G=p;break;case"defaultValue":F=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&ft(e,i,b,p,c,_)}Et(e,G,F);return;case"option":for(var Le in s)if(G=s[Le],s.hasOwnProperty(Le)&&G!=null&&!c.hasOwnProperty(Le))switch(Le){case"selected":e.selected=!1;break;default:ft(e,i,Le,null,c,G)}for(I in c)if(G=c[I],F=s[I],c.hasOwnProperty(I)&&G!==F&&(G!=null||F!=null))switch(I){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ft(e,i,I,G,c,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)G=s[Ne],s.hasOwnProperty(Ne)&&G!=null&&!c.hasOwnProperty(Ne)&&ft(e,i,Ne,null,c,G);for(Z in c)if(G=c[Z],F=s[Z],c.hasOwnProperty(Z)&&G!==F&&(G!=null||F!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:ft(e,i,Z,G,c,F)}return;default:if(wa(i)){for(var dt in s)G=s[dt],s.hasOwnProperty(dt)&&G!==void 0&&!c.hasOwnProperty(dt)&&Jf(e,i,dt,void 0,c,G);for(ee in c)G=c[ee],F=s[ee],!c.hasOwnProperty(ee)||G===F||G===void 0&&F===void 0||Jf(e,i,ee,G,c,F);return}}for(var B in s)G=s[B],s.hasOwnProperty(B)&&G!=null&&!c.hasOwnProperty(B)&&ft(e,i,B,null,c,G);for(ie in c)G=c[ie],F=s[ie],!c.hasOwnProperty(ie)||G===F||G==null&&F==null||ft(e,i,ie,G,c,F)}var Xf=null,Qf=null;function Pu(e){return e.nodeType===9?e:e.ownerDocument}function Ep(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bp(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Wf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ed=null;function My(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,Ny=typeof clearTimeout=="function"?clearTimeout:void 0,Ap=typeof Promise=="function"?Promise:void 0,Ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Ap<"u"?function(e){return Ap.resolve(null).then(e).catch(Ly)}:wp;function Ly(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function Mp(e,i){var s=i,c=0,p=0;do{var _=s.nextSibling;if(e.removeChild(s),_&&_.nodeType===8)if(s=_.data,s==="/$"){if(0<c&&8>c){s=c;var b=e.ownerDocument;if(s&1&&el(b.documentElement),s&2&&el(b.body),s&4)for(s=b.head,el(s),b=s.firstChild;b;){var M=b.nextSibling,I=b.nodeName;b[zt]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=M}}if(p===0){e.removeChild(_),ll(i);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=_}while(s);ll(i)}function td(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":td(s),tn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Dy(e,i,s,c){for(;e.nodeType===1;){var p=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[zt])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function ky(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=gi(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Py(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function gi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var id=null;function Np(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function Rp(e,i,s){switch(i=Pu(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function el(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);tn(e)}var ei=new Map,Lp=new Set;function Iu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vo=ue.d;ue.d={f:Iy,r:Oy,D:zy,C:Uy,L:By,m:Vy,X:qy,S:Hy,M:Zy};function Iy(){var e=vo.f(),i=wu();return e||i}function Oy(e){var i=li(e);i!==null&&i.tag===5&&i.type==="form"?Xh(i):vo.r(e)}var Yr=typeof document>"u"?null:document;function Dp(e,i,s){var c=Yr;if(c&&typeof i=="string"&&i){var p=Jt(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Lp.has(p)||(Lp.add(p),e={rel:e,crossOrigin:s,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),en(i,"link",e),kt(i),c.head.appendChild(i)))}}function zy(e){vo.D(e),Dp("dns-prefetch",e,null)}function Uy(e,i){vo.C(e,i),Dp("preconnect",e,i)}function By(e,i,s){vo.L(e,i,s);var c=Yr;if(c&&e&&i){var p='link[rel="preload"][as="'+Jt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Jt(s.imageSizes)+'"]')):p+='[href="'+Jt(e)+'"]';var _=p;switch(i){case"style":_=jr(e);break;case"script":_=$r(e)}ei.has(_)||(e=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),ei.set(_,e),c.querySelector(p)!==null||i==="style"&&c.querySelector(tl(_))||i==="script"&&c.querySelector(nl(_))||(i=c.createElement("link"),en(i,"link",e),kt(i),c.head.appendChild(i)))}}function Vy(e,i){vo.m(e,i);var s=Yr;if(s&&e){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Jt(c)+'"][href="'+Jt(e)+'"]',_=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$r(e)}if(!ei.has(_)&&(e=E({rel:"modulepreload",href:e},i),ei.set(_,e),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(_)))return}c=s.createElement("link"),en(c,"link",e),kt(c),s.head.appendChild(c)}}}function Hy(e,i,s){vo.S(e,i,s);var c=Yr;if(c&&e){var p=Gi(c).hoistableStyles,_=jr(e);i=i||"default";var b=p.get(_);if(!b){var M={loading:0,preload:null};if(b=c.querySelector(tl(_)))M.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},s),(s=ei.get(_))&&od(e,s);var I=b=c.createElement("link");kt(I),en(I,"link",e),I._p=new Promise(function(Z,ee){I.onload=Z,I.onerror=ee}),I.addEventListener("load",function(){M.loading|=1}),I.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Ou(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:M},p.set(_,b)}}}function qy(e,i){vo.X(e,i);var s=Yr;if(s&&e){var c=Gi(s).hoistableScripts,p=$r(e),_=c.get(p);_||(_=s.querySelector(nl(p)),_||(e=E({src:e,async:!0},i),(i=ei.get(p))&&ad(e,i),_=s.createElement("script"),kt(_),en(_,"link",e),s.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function Zy(e,i){vo.M(e,i);var s=Yr;if(s&&e){var c=Gi(s).hoistableScripts,p=$r(e),_=c.get(p);_||(_=s.querySelector(nl(p)),_||(e=E({src:e,async:!0,type:"module"},i),(i=ei.get(p))&&ad(e,i),_=s.createElement("script"),kt(_),en(_,"link",e),s.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(p,_))}}function kp(e,i,s,c){var p=(p=de.current)?Iu(p):null;if(!p)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=jr(s.href),s=Gi(p).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=jr(s.href);var _=Gi(p).hoistableStyles,b=_.get(e);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,b),(_=p.querySelector(tl(e)))&&!_._p&&(b.instance=_,b.state.loading=5),ei.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ei.set(e,s),_||Gy(p,e,s,b.state))),i&&c===null)throw Error(r(528,""));return b}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$r(s),s=Gi(p).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function jr(e){return'href="'+Jt(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Pp(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Gy(e,i,s,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),en(i,"link",s),kt(i),e.head.appendChild(i))}function $r(e){return'[src="'+Jt(e)+'"]'}function nl(e){return"script[async]"+e}function Ip(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Jt(s.href)+'"]');if(c)return i.instance=c,kt(c),c;var p=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),kt(c),en(c,"style",p),Ou(c,s.precedence,e),i.instance=c;case"stylesheet":p=jr(s.href);var _=e.querySelector(tl(p));if(_)return i.state.loading|=4,i.instance=_,kt(_),_;c=Pp(s),(p=ei.get(p))&&od(c,p),_=(e.ownerDocument||e).createElement("link"),kt(_);var b=_;return b._p=new Promise(function(M,I){b.onload=M,b.onerror=I}),en(_,"link",c),i.state.loading|=4,Ou(_,s.precedence,e),i.instance=_;case"script":return _=$r(s.src),(p=e.querySelector(nl(_)))?(i.instance=p,kt(p),p):(c=s,(p=ei.get(_))&&(c=E({},s),ad(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),kt(p),en(p,"link",c),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ou(c,s.precedence,e));return i.instance}function Ou(e,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,_=p,b=0;b<c.length;b++){var M=c[b];if(M.dataset.precedence===i)_=M;else if(_!==p)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ad(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var zu=null;function Op(e,i,s){if(zu===null){var c=new Map,p=zu=new Map;p.set(s,c)}else p=zu,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),p=0;p<s.length;p++){var _=s[p];if(!(_[zt]||_[it]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var b=_.getAttribute(i)||"";b=e+b;var M=c.get(b);M?M.push(_):c.set(b,[_])}}return c}function zp(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function Fy(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Up(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function Yy(){}function jy(e,i,s){if(il===null)throw Error(r(475));var c=il;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=jr(s.href),_=e.querySelector(tl(p));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Uu.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=_,kt(_);return}_=e.ownerDocument||e,s=Pp(s),(p=ei.get(p))&&od(s,p),_=_.createElement("link"),kt(_);var b=_;b._p=new Promise(function(M,I){b.onload=M,b.onerror=I}),en(_,"link",s),i.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Uu.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function $y(){if(il===null)throw Error(r(475));var e=il;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bu=null;function rd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bu=new Map,i.forEach(Ky,e),Bu=null,Uu.call(e))}function Ky(e,i){if(!(i.state.loading&4)){var s=Bu.get(e);if(s)var c=s.get(null);else{s=new Map,Bu.set(e,s);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var b=p[_];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),c=b)}c&&s.set(null,c)}p=i.instance,b=p.getAttribute("data-precedence"),_=s.get(b)||c,_===c&&s.set(null,p),s.set(b,p),this.count++,c=Uu.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),_?_.parentNode.insertBefore(p,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var ol={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Jy(e,i,s,c,p,_,b,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.hiddenUpdates=Eo(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Bp(e,i,s,c,p,_,b,M,I,Z,ee,ie){return e=new Jy(e,i,s,b,M,I,Z,ie),i=1,_===!0&&(i|=24),_=mn(3,null,null,i),e.current=_,_.stateNode=e,i=Vc(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:s,cache:i},Gc(_),e}function Vp(e){return e?(e=so,e):so}function Hp(e,i,s,c,p,_){p=Vp(p),c.context===null?c.context=p:c.pendingContext=p,c=Ko(i),c.payload={element:s},_=_===void 0?null:_,_!==null&&(c.callback=_),s=Jo(e,c,i),s!==null&&(Vn(s,e,i),Ps(s,e,i))}function qp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function sd(e,i){qp(e,i),(e=e.alternate)&&qp(e,i)}function Zp(e){if(e.tag===13){var i=Go(e,67108864);i!==null&&Vn(i,e,67108864),sd(e,67108864)}}var Vu=!0;function Xy(e,i,s,c){var p=$.T;$.T=null;var _=ue.p;try{ue.p=2,ld(e,i,s,c)}finally{ue.p=_,$.T=p}}function Qy(e,i,s,c){var p=$.T;$.T=null;var _=ue.p;try{ue.p=8,ld(e,i,s,c)}finally{ue.p=_,$.T=p}}function ld(e,i,s,c){if(Vu){var p=ud(c);if(p===null)Kf(e,i,c,Hu,s),Fp(e,c);else if(e0(p,e,i,s,c))c.stopPropagation();else if(Fp(e,c),i&4&&-1<Wy.indexOf(e)){for(;p!==null;){var _=li(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var b=Gn(_.pendingLanes);if(b!==0){var M=_;for(M.pendingLanes|=2,M.entangledLanes|=2;b;){var I=1<<31-Zt(b);M.entanglements[1]|=I,b&=~I}Pi(_),(st&6)===0&&(Eu=Ht()+500,Xs(0))}}break;case 13:M=Go(_,2),M!==null&&Vn(M,_,2),wu(),sd(_,2)}if(_=ud(c),_===null&&Kf(e,i,c,Hu,s),_===p)break;p=_}p!==null&&c.stopPropagation()}else Kf(e,i,c,null,s)}}function ud(e){return e=Do(e),cd(e)}var Hu=null;function cd(e){if(Hu=null,e=Ut(e),e!==null){var i=f(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=g(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Hu=e,null}function Gp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case xa:return 2;case Zi:return 8;case ri:case Ta:return 32;case xi:return 268435456;default:return 32}default:return 32}}var fd=!1,ua=null,ca=null,fa=null,al=new Map,rl=new Map,da=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(e,i){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(i.pointerId)}}function sl(e,i,s,c,p,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:_,targetContainers:[p]},i!==null&&(i=li(i),i!==null&&Zp(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function e0(e,i,s,c,p){switch(i){case"focusin":return ua=sl(ua,e,i,s,c,p),!0;case"dragenter":return ca=sl(ca,e,i,s,c,p),!0;case"mouseover":return fa=sl(fa,e,i,s,c,p),!0;case"pointerover":var _=p.pointerId;return al.set(_,sl(al.get(_)||null,e,i,s,c,p)),!0;case"gotpointercapture":return _=p.pointerId,rl.set(_,sl(rl.get(_)||null,e,i,s,c,p)),!0}return!1}function Yp(e){var i=Ut(e.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=g(s),i!==null){e.blockedOn=i,ut(e.priority,function(){if(s.tag===13){var c=Bn();c=bo(c);var p=Go(s,c);p!==null&&Vn(p,s,c),sd(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Aa=c,s.target.dispatchEvent(c),Aa=null}else return i=li(s),i!==null&&Zp(i),e.blockedOn=s,!1;i.shift()}return!0}function jp(e,i,s){qu(e)&&s.delete(i)}function t0(){fd=!1,ua!==null&&qu(ua)&&(ua=null),ca!==null&&qu(ca)&&(ca=null),fa!==null&&qu(fa)&&(fa=null),al.forEach(jp),rl.forEach(jp)}function Zu(e,i){e.blockedOn===i&&(e.blockedOn=null,fd||(fd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,t0)))}var Gu=null;function $p(e){Gu!==e&&(Gu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Gu===e&&(Gu=null);for(var i=0;i<e.length;i+=3){var s=e[i],c=e[i+1],p=e[i+2];if(typeof c!="function"){if(cd(c||s)===null)continue;break}var _=li(s);_!==null&&(e.splice(i,3),i-=3,cf(_,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function ll(e){function i(I){return Zu(I,e)}ua!==null&&Zu(ua,e),ca!==null&&Zu(ca,e),fa!==null&&Zu(fa,e),al.forEach(i),rl.forEach(i);for(var s=0;s<da.length;s++){var c=da[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<da.length&&(s=da[0],s.blockedOn===null);)Yp(s),s.blockedOn===null&&da.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],_=s[c+1],b=p[pt]||null;if(typeof _=="function")b||$p(s);else if(b){var M=null;if(_&&_.hasAttribute("formAction")){if(p=_,b=_[pt]||null)M=b.formAction;else if(cd(p)!==null)continue}else M=b.action;typeof M=="function"?s[c+1]=M:(s.splice(c,3),c-=3),$p(s)}}}function dd(e){this._internalRoot=e}Fu.prototype.render=dd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,c=Bn();Hp(s,c,e,i,null,null)},Fu.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Hp(e.current,2,null,e,null,null),wu(),i[vn]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Me();e={blockedOn:null,target:e,priority:i};for(var s=0;s<da.length&&i!==0&&i<da[s].priority;s++);da.splice(s,0,e),s===0&&Yp(e)}};var Kp=n.version;if(Kp!=="19.1.0")throw Error(r(527,Kp,"19.1.0"));ue.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var n0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{Zn=Yu.inject(n0),qt=Yu}catch{}}return cl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var s=!1,c="",p=fm,_=dm,b=hm,M=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=Bp(e,1,!1,null,null,s,c,p,_,b,M,null),e[vn]=i.current,$f(e),new dd(i)},cl.hydrateRoot=function(e,i,s){if(!l(e))throw Error(r(299));var c=!1,p="",_=fm,b=dm,M=hm,I=null,Z=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(Z=s.formState)),i=Bp(e,1,!0,i,s??null,c,p,_,b,M,I,Z),i.context=Vp(null),s=i.current,c=Bn(),c=bo(c),p=Ko(c),p.callback=null,Jo(s,p,c),s=c,i.current.lanes=s,Si(i,s),Pi(i),e[vn]=i.current,$f(e),new Fu(i)},cl.version="19.1.0",cl}var ag;function d0(){if(ag)return pd.exports;ag=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),pd.exports=f0(),pd.exports}var h0=d0();const m0=Fd(h0);var fl={},rg;function p0(){if(rg)return fl;rg=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=g,fl.serialize=v;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,f=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function g(N,D){const R=new f,O=N.length;if(O<2)return R;const J=(D==null?void 0:D.decode)||E;let H=0;do{const Y=N.indexOf("=",H);if(Y===-1)break;const Q=N.indexOf(";",H),W=Q===-1?O:Q;if(Y>W){H=N.lastIndexOf(";",Y-1)+1;continue}const K=y(N,H,Y),ce=x(N,Y,K),pe=N.slice(K,ce);if(R[pe]===void 0){let we=y(N,Y+1,W),se=x(N,W,we);const Ae=J(N.slice(we,se));R[pe]=Ae}H=W+1}while(H<O);return R}function y(N,D,R){do{const O=N.charCodeAt(D);if(O!==32&&O!==9)return D}while(++D<R);return R}function x(N,D,R){for(;D>R;){const O=N.charCodeAt(--D);if(O!==32&&O!==9)return D+1}return R}function v(N,D,R){const O=(R==null?void 0:R.encode)||encodeURIComponent;if(!a.test(N))throw new TypeError(`argument name is invalid: ${N}`);const J=O(D);if(!n.test(J))throw new TypeError(`argument val is invalid: ${D}`);let H=N+"="+J;if(!R)return H;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);H+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);H+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);H+="; Path="+R.path}if(R.expires){if(!A(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);H+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(H+="; HttpOnly"),R.secure&&(H+="; Secure"),R.partitioned&&(H+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return H}function E(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function A(N){return l.call(N)==="[object Date]"}return fl}p0();var sg="popstate";function g0(a={}){function n(l,f){let{pathname:g="/",search:y="",hash:x=""}=nr(l.location.hash.substring(1));return!g.startsWith("/")&&!g.startsWith(".")&&(g="/"+g),Ed("",{pathname:g,search:y,hash:x},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function t(l,f){let g=l.document.querySelector("base"),y="";if(g&&g.getAttribute("href")){let x=l.location.href,v=x.indexOf("#");y=v===-1?x:x.slice(0,v)}return y+"#"+(typeof f=="string"?f:Sl(f))}function r(l,f){ni(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return _0(n,t,r,a)}function St(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function ni(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function v0(){return Math.random().toString(36).substring(2,10)}function lg(a,n){return{usr:a.state,key:a.key,idx:n}}function Ed(a,n,t=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?nr(n):n,state:t,key:n&&n.key||r||v0()}}function Sl({pathname:a="/",search:n="",hash:t=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(a+=t.charAt(0)==="#"?t:"#"+t),a}function nr(a){let n={};if(a){let t=a.indexOf("#");t>=0&&(n.hash=a.substring(t),a=a.substring(0,t));let r=a.indexOf("?");r>=0&&(n.search=a.substring(r),a=a.substring(0,r)),a&&(n.pathname=a)}return n}function _0(a,n,t,r={}){let{window:l=document.defaultView,v5Compat:f=!1}=r,g=l.history,y="POP",x=null,v=E();v==null&&(v=0,g.replaceState({...g.state,idx:v},""));function E(){return(g.state||{idx:null}).idx}function A(){y="POP";let J=E(),H=J==null?null:J-v;v=J,x&&x({action:y,location:O.location,delta:H})}function N(J,H){y="PUSH";let Y=Ed(O.location,J,H);t&&t(Y,J),v=E()+1;let Q=lg(Y,v),W=O.createHref(Y);try{g.pushState(Q,"",W)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(W)}f&&x&&x({action:y,location:O.location,delta:1})}function D(J,H){y="REPLACE";let Y=Ed(O.location,J,H);t&&t(Y,J),v=E();let Q=lg(Y,v),W=O.createHref(Y);g.replaceState(Q,"",W),f&&x&&x({action:y,location:O.location,delta:0})}function R(J){return y0(J)}let O={get action(){return y},get location(){return a(l,g)},listen(J){if(x)throw new Error("A history only accepts one active listener");return l.addEventListener(sg,A),x=J,()=>{l.removeEventListener(sg,A),x=null}},createHref(J){return n(l,J)},createURL:R,encodeLocation(J){let H=R(J);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:N,replace:D,go(J){return g.go(J)}};return O}function y0(a,n=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Sl(a);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Fv(a,n,t="/"){return x0(a,n,t,!1)}function x0(a,n,t,r){let l=typeof n=="string"?nr(n):n,f=yo(l.pathname||"/",t);if(f==null)return null;let g=Yv(a);T0(g);let y=null;for(let x=0;y==null&&x<g.length;++x){let v=D0(f);y=R0(g[x],v,r)}return y}function Yv(a,n=[],t=[],r=""){let l=(f,g,y)=>{let x={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};x.relativePath.startsWith("/")&&(St(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length));let v=_o([r,x.relativePath]),E=t.concat(x);f.children&&f.children.length>0&&(St(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Yv(f.children,n,E,v)),!(f.path==null&&!f.index)&&n.push({path:v,score:M0(v,f.index),routesMeta:E})};return a.forEach((f,g)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))l(f,g);else for(let x of jv(f.path))l(f,g,x)}),n}function jv(a){let n=a.split("/");if(n.length===0)return[];let[t,...r]=n,l=t.endsWith("?"),f=t.replace(/\?$/,"");if(r.length===0)return l?[f,""]:[f];let g=jv(r.join("/")),y=[];return y.push(...g.map(x=>x===""?f:[f,x].join("/"))),l&&y.push(...g),y.map(x=>a.startsWith("/")&&x===""?"/":x)}function T0(a){a.sort((n,t)=>n.score!==t.score?t.score-n.score:N0(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var C0=/^:[\w-]+$/,S0=3,E0=2,b0=1,w0=10,A0=-2,ug=a=>a==="*";function M0(a,n){let t=a.split("/"),r=t.length;return t.some(ug)&&(r+=A0),n&&(r+=E0),t.filter(l=>!ug(l)).reduce((l,f)=>l+(C0.test(f)?S0:f===""?b0:w0),r)}function N0(a,n){return a.length===n.length&&a.slice(0,-1).every((r,l)=>r===n[l])?a[a.length-1]-n[n.length-1]:0}function R0(a,n,t=!1){let{routesMeta:r}=a,l={},f="/",g=[];for(let y=0;y<r.length;++y){let x=r[y],v=y===r.length-1,E=f==="/"?n:n.slice(f.length)||"/",A=ic({path:x.relativePath,caseSensitive:x.caseSensitive,end:v},E),N=x.route;if(!A&&v&&t&&!r[r.length-1].route.index&&(A=ic({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),g.push({params:l,pathname:_o([f,A.pathname]),pathnameBase:O0(_o([f,A.pathnameBase])),route:N}),A.pathnameBase!=="/"&&(f=_o([f,A.pathnameBase]))}return g}function ic(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[t,r]=L0(a.path,a.caseSensitive,a.end),l=n.match(t);if(!l)return null;let f=l[0],g=f.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:r.reduce((v,{paramName:E,isOptional:A},N)=>{if(E==="*"){let R=y[N]||"";g=f.slice(0,f.length-R.length).replace(/(.)\/+$/,"$1")}const D=y[N];return A&&!D?v[E]=void 0:v[E]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:f,pathnameBase:g,pattern:a}}function L0(a,n=!1,t=!0){ni(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,y,x)=>(r.push({paramName:y,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(r.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),r]}function D0(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ni(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function yo(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=a.charAt(t);return r&&r!=="/"?null:a.slice(t)||"/"}function k0(a,n="/"){let{pathname:t,search:r="",hash:l=""}=typeof a=="string"?nr(a):a;return{pathname:t?t.startsWith("/")?t:P0(t,n):n,search:z0(r),hash:U0(l)}}function P0(a,n){let t=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function yd(a,n,t,r){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I0(a){return a.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function $d(a){let n=I0(a);return n.map((t,r)=>r===n.length-1?t.pathname:t.pathnameBase)}function Kd(a,n,t,r=!1){let l;typeof a=="string"?l=nr(a):(l={...a},St(!l.pathname||!l.pathname.includes("?"),yd("?","pathname","search",l)),St(!l.pathname||!l.pathname.includes("#"),yd("#","pathname","hash",l)),St(!l.search||!l.search.includes("#"),yd("#","search","hash",l)));let f=a===""||l.pathname==="",g=f?"/":l.pathname,y;if(g==null)y=t;else{let A=n.length-1;if(!r&&g.startsWith("..")){let N=g.split("/");for(;N[0]==="..";)N.shift(),A-=1;l.pathname=N.join("/")}y=A>=0?n[A]:"/"}let x=k0(l,y),v=g&&g!=="/"&&g.endsWith("/"),E=(f||g===".")&&t.endsWith("/");return!x.pathname.endsWith("/")&&(v||E)&&(x.pathname+="/"),x}var _o=a=>a.join("/").replace(/\/\/+/g,"/"),O0=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),z0=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,U0=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function B0(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var $v=["POST","PUT","PATCH","DELETE"];new Set($v);var V0=["GET",...$v];new Set(V0);var rs=z.createContext(null);rs.displayName="DataRouter";var mc=z.createContext(null);mc.displayName="DataRouterState";var Kv=z.createContext({isTransitioning:!1});Kv.displayName="ViewTransition";var H0=z.createContext(new Map);H0.displayName="Fetchers";var q0=z.createContext(null);q0.displayName="Await";var _i=z.createContext(null);_i.displayName="Navigation";var bl=z.createContext(null);bl.displayName="Location";var yi=z.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Jd=z.createContext(null);Jd.displayName="RouteError";function Z0(a,{relative:n}={}){St(ss(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=z.useContext(_i),{hash:l,pathname:f,search:g}=wl(a,{relative:n}),y=f;return t!=="/"&&(y=f==="/"?t:_o([t,f])),r.createHref({pathname:y,search:g,hash:l})}function ss(){return z.useContext(bl)!=null}function Vi(){return St(ss(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(bl).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xv(a){z.useContext(_i).static||z.useLayoutEffect(a)}function Hi(){let{isDataRoute:a}=z.useContext(yi);return a?nx():G0()}function G0(){St(ss(),"useNavigate() may be used only in the context of a <Router> component.");let a=z.useContext(rs),{basename:n,navigator:t}=z.useContext(_i),{matches:r}=z.useContext(yi),{pathname:l}=Vi(),f=JSON.stringify($d(r)),g=z.useRef(!1);return Xv(()=>{g.current=!0}),z.useCallback((x,v={})=>{if(ni(g.current,Jv),!g.current)return;if(typeof x=="number"){t.go(x);return}let E=Kd(x,JSON.parse(f),l,v.relative==="path");a==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:_o([n,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[n,t,f,l,a])}z.createContext(null);function Xd(){let{matches:a}=z.useContext(yi),n=a[a.length-1];return n?n.params:{}}function wl(a,{relative:n}={}){let{matches:t}=z.useContext(yi),{pathname:r}=Vi(),l=JSON.stringify($d(t));return z.useMemo(()=>Kd(a,JSON.parse(l),r,n==="path"),[a,l,r,n])}function F0(a,n){return Qv(a,n)}function Qv(a,n,t,r){var H;St(ss(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(_i),{matches:f}=z.useContext(yi),g=f[f.length-1],y=g?g.params:{},x=g?g.pathname:"/",v=g?g.pathnameBase:"/",E=g&&g.route;{let Y=E&&E.path||"";Wv(x,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=Vi(),N;if(n){let Y=typeof n=="string"?nr(n):n;St(v==="/"||((H=Y.pathname)==null?void 0:H.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),N=Y}else N=A;let D=N.pathname||"/",R=D;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");R="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let O=Fv(a,{pathname:R});ni(E||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ni(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=J0(O&&O.map(Y=>Object.assign({},Y,{params:Object.assign({},y,Y.params),pathname:_o([v,l.encodeLocation?l.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:_o([v,l.encodeLocation?l.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),f,t,r);return n&&J?z.createElement(bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},J):J}function Y0(){let a=tx(),n=B0(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),t=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},g=null;return console.error("Error handled by React Router default ErrorBoundary:",a),g=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:f},"ErrorBoundary")," or"," ",z.createElement("code",{style:f},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},n),t?z.createElement("pre",{style:l},t):null,g)}var j0=z.createElement(Y0,null),$0=class extends z.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){console.error("React Router caught the following error during render",a,n)}render(){return this.state.error!==void 0?z.createElement(yi.Provider,{value:this.props.routeContext},z.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K0({routeContext:a,match:n,children:t}){let r=z.useContext(rs);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(yi.Provider,{value:a},t)}function J0(a,n=[],t=null,r=null){if(a==null){if(!t)return null;if(t.errors)a=t.matches;else if(n.length===0&&!t.initialized&&t.matches.length>0)a=t.matches;else return null}let l=a,f=t==null?void 0:t.errors;if(f!=null){let x=l.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);St(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let g=!1,y=-1;if(t)for(let x=0;x<l.length;x++){let v=l[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=x),v.route.id){let{loaderData:E,errors:A}=t,N=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||N){g=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((x,v,E)=>{let A,N=!1,D=null,R=null;t&&(A=f&&v.route.id?f[v.route.id]:void 0,D=v.route.errorElement||j0,g&&(y<0&&E===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,R=null):y===E&&(N=!0,R=v.route.hydrateFallbackElement||null)));let O=n.concat(l.slice(0,E+1)),J=()=>{let H;return A?H=D:N?H=R:v.route.Component?H=z.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=x,z.createElement(K0,{match:v,routeContext:{outlet:x,matches:O,isDataRoute:t!=null},children:H})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?z.createElement($0,{location:t.location,revalidation:t.revalidation,component:D,error:A,children:J(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):J()},null)}function Qd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X0(a){let n=z.useContext(rs);return St(n,Qd(a)),n}function Q0(a){let n=z.useContext(mc);return St(n,Qd(a)),n}function W0(a){let n=z.useContext(yi);return St(n,Qd(a)),n}function Wd(a){let n=W0(a),t=n.matches[n.matches.length-1];return St(t.route.id,`${a} can only be used on routes that contain a unique "id"`),t.route.id}function ex(){return Wd("useRouteId")}function tx(){var r;let a=z.useContext(Jd),n=Q0("useRouteError"),t=Wd("useRouteError");return a!==void 0?a:(r=n.errors)==null?void 0:r[t]}function nx(){let{router:a}=X0("useNavigate"),n=Wd("useNavigate"),t=z.useRef(!1);return Xv(()=>{t.current=!0}),z.useCallback(async(l,f={})=>{ni(t.current,Jv),t.current&&(typeof l=="number"?a.navigate(l):await a.navigate(l,{fromRouteId:n,...f}))},[a,n])}var cg={};function Wv(a,n,t){!n&&!cg[a]&&(cg[a]=!0,ni(!1,t))}z.memo(ix);function ix({routes:a,future:n,state:t}){return Qv(a,void 0,t,n)}function ox({to:a,replace:n,state:t,relative:r}){St(ss(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=z.useContext(_i);ni(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=z.useContext(yi),{pathname:g}=Vi(),y=Hi(),x=Kd(a,$d(f),g,r==="path"),v=JSON.stringify(x);return z.useEffect(()=>{y(JSON.parse(v),{replace:n,state:t,relative:r})},[y,v,r,n,t]),null}function ti(a){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ax({basename:a="/",children:n=null,location:t,navigationType:r="POP",navigator:l,static:f=!1}){St(!ss(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=a.replace(/^\/*/,"/"),y=z.useMemo(()=>({basename:g,navigator:l,static:f,future:{}}),[g,l,f]);typeof t=="string"&&(t=nr(t));let{pathname:x="/",search:v="",hash:E="",state:A=null,key:N="default"}=t,D=z.useMemo(()=>{let R=yo(x,g);return R==null?null:{location:{pathname:R,search:v,hash:E,state:A,key:N},navigationType:r}},[g,x,v,E,A,N,r]);return ni(D!=null,`<Router basename="${g}"> is not able to match the URL "${x}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(_i.Provider,{value:y},z.createElement(bl.Provider,{children:n,value:D}))}function rx({children:a,location:n}){return F0(bd(a),n)}function bd(a,n=[]){let t=[];return z.Children.forEach(a,(r,l)=>{if(!z.isValidElement(r))return;let f=[...n,l];if(r.type===z.Fragment){t.push.apply(t,bd(r.props.children,f));return}St(r.type===ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let g={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(g.children=bd(r.props.children,f)),t.push(g)}),t}var Xu="get",Qu="application/x-www-form-urlencoded";function pc(a){return a!=null&&typeof a.tagName=="string"}function sx(a){return pc(a)&&a.tagName.toLowerCase()==="button"}function lx(a){return pc(a)&&a.tagName.toLowerCase()==="form"}function ux(a){return pc(a)&&a.tagName.toLowerCase()==="input"}function cx(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function fx(a,n){return a.button===0&&(!n||n==="_self")&&!cx(a)}var ju=null;function dx(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var hx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xd(a){return a!=null&&!hx.has(a)?(ni(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):a}function mx(a,n){let t,r,l,f,g;if(lx(a)){let y=a.getAttribute("action");r=y?yo(y,n):null,t=a.getAttribute("method")||Xu,l=xd(a.getAttribute("enctype"))||Qu,f=new FormData(a)}else if(sx(a)||ux(a)&&(a.type==="submit"||a.type==="image")){let y=a.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=a.getAttribute("formaction")||y.getAttribute("action");if(r=x?yo(x,n):null,t=a.getAttribute("formmethod")||y.getAttribute("method")||Xu,l=xd(a.getAttribute("formenctype"))||xd(y.getAttribute("enctype"))||Qu,f=new FormData(y,a),!dx()){let{name:v,type:E,value:A}=a;if(E==="image"){let N=v?`${v}.`:"";f.append(`${N}x`,"0"),f.append(`${N}y`,"0")}else v&&f.append(v,A)}}else{if(pc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xu,r=null,l=Qu,g=a}return f&&l==="text/plain"&&(g=f,f=void 0),{action:r,method:t.toLowerCase(),encType:l,formData:f,body:g}}function eh(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}async function px(a,n){if(a.id in n)return n[a.id];try{let t=await import(a.module);return n[a.id]=t,t}catch(t){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gx(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function vx(a,n,t){let r=await Promise.all(a.map(async l=>{let f=n.routes[l.route.id];if(f){let g=await px(f,t);return g.links?g.links():[]}return[]}));return Tx(r.flat(1).filter(gx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function fg(a,n,t,r,l,f){let g=(x,v)=>t[v]?x.route.id!==t[v].route.id:!0,y=(x,v)=>{var E;return t[v].pathname!==x.pathname||((E=t[v].route.path)==null?void 0:E.endsWith("*"))&&t[v].params["*"]!==x.params["*"]};return f==="assets"?n.filter((x,v)=>g(x,v)||y(x,v)):f==="data"?n.filter((x,v)=>{var A;let E=r.routes[x.route.id];if(!E||!E.hasLoader)return!1;if(g(x,v)||y(x,v))return!0;if(x.route.shouldRevalidate){let N=x.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(a,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function _x(a,n,{includeHydrateFallback:t}={}){return yx(a.map(r=>{let l=n.routes[r.route.id];if(!l)return[];let f=[l.module];return l.clientActionModule&&(f=f.concat(l.clientActionModule)),l.clientLoaderModule&&(f=f.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(f=f.concat(l.hydrateFallbackModule)),l.imports&&(f=f.concat(l.imports)),f}).flat(1))}function yx(a){return[...new Set(a)]}function xx(a){let n={},t=Object.keys(a).sort();for(let r of t)n[r]=a[r];return n}function Tx(a,n){let t=new Set;return new Set(n),a.reduce((r,l)=>{let f=JSON.stringify(xx(l));return t.has(f)||(t.add(f),r.push({key:f,link:l})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Cx=new Set([100,101,204,205]);function Sx(a,n){let t=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return t.pathname==="/"?t.pathname="_root.data":n&&yo(t.pathname,n)==="/"?t.pathname=`${n.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function e_(){let a=z.useContext(rs);return eh(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Ex(){let a=z.useContext(mc);return eh(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var th=z.createContext(void 0);th.displayName="FrameworkContext";function t_(){let a=z.useContext(th);return eh(a,"You must render this element inside a <HydratedRouter> element"),a}function bx(a,n){let t=z.useContext(th),[r,l]=z.useState(!1),[f,g]=z.useState(!1),{onFocus:y,onBlur:x,onMouseEnter:v,onMouseLeave:E,onTouchStart:A}=n,N=z.useRef(null);z.useEffect(()=>{if(a==="render"&&g(!0),a==="viewport"){let O=H=>{H.forEach(Y=>{g(Y.isIntersecting)})},J=new IntersectionObserver(O,{threshold:.5});return N.current&&J.observe(N.current),()=>{J.disconnect()}}},[a]),z.useEffect(()=>{if(r){let O=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(O)}}},[r]);let D=()=>{l(!0)},R=()=>{l(!1),g(!1)};return t?a!=="intent"?[f,N,{}]:[f,N,{onFocus:dl(y,D),onBlur:dl(x,R),onMouseEnter:dl(v,D),onMouseLeave:dl(E,R),onTouchStart:dl(A,D)}]:[!1,N,{}]}function dl(a,n){return t=>{a&&a(t),t.defaultPrevented||n(t)}}function wx({page:a,...n}){let{router:t}=e_(),r=z.useMemo(()=>Fv(t.routes,a,t.basename),[t.routes,a,t.basename]);return r?z.createElement(Mx,{page:a,matches:r,...n}):null}function Ax(a){let{manifest:n,routeModules:t}=t_(),[r,l]=z.useState([]);return z.useEffect(()=>{let f=!1;return vx(a,n,t).then(g=>{f||l(g)}),()=>{f=!0}},[a,n,t]),r}function Mx({page:a,matches:n,...t}){let r=Vi(),{manifest:l,routeModules:f}=t_(),{basename:g}=e_(),{loaderData:y,matches:x}=Ex(),v=z.useMemo(()=>fg(a,n,x,l,r,"data"),[a,n,x,l,r]),E=z.useMemo(()=>fg(a,n,x,l,r,"assets"),[a,n,x,l,r]),A=z.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let R=new Set,O=!1;if(n.forEach(H=>{var Q;let Y=l.routes[H.route.id];!Y||!Y.hasLoader||(!v.some(W=>W.route.id===H.route.id)&&H.route.id in y&&((Q=f[H.route.id])!=null&&Q.shouldRevalidate)||Y.hasClientLoader?O=!0:R.add(H.route.id))}),R.size===0)return[];let J=Sx(a,g);return O&&R.size>0&&J.searchParams.set("_routes",n.filter(H=>R.has(H.route.id)).map(H=>H.route.id).join(",")),[J.pathname+J.search]},[g,y,r,l,v,n,a,f]),N=z.useMemo(()=>_x(E,l),[E,l]),D=Ax(E);return z.createElement(z.Fragment,null,A.map(R=>z.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),N.map(R=>z.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),D.map(({key:R,link:O})=>z.createElement("link",{key:R,...O})))}function Nx(...a){return n=>{a.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var n_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n_&&(window.__reactRouterVersion="7.6.1")}catch{}function Rx({basename:a,children:n,window:t}){let r=z.useRef();r.current==null&&(r.current=g0({window:t,v5Compat:!0}));let l=r.current,[f,g]=z.useState({action:l.action,location:l.location}),y=z.useCallback(x=>{z.startTransition(()=>g(x))},[g]);return z.useLayoutEffect(()=>l.listen(y),[l,y]),z.createElement(ax,{basename:a,children:n,location:f.location,navigationType:f.action,navigator:l})}var i_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o_=z.forwardRef(function({onClick:n,discover:t="render",prefetch:r="none",relative:l,reloadDocument:f,replace:g,state:y,target:x,to:v,preventScrollReset:E,viewTransition:A,...N},D){let{basename:R}=z.useContext(_i),O=typeof v=="string"&&i_.test(v),J,H=!1;if(typeof v=="string"&&O&&(J=v,n_))try{let se=new URL(window.location.href),Ae=v.startsWith("//")?new URL(se.protocol+v):new URL(v),Oe=yo(Ae.pathname,R);Ae.origin===se.origin&&Oe!=null?v=Oe+Ae.search+Ae.hash:H=!0}catch{ni(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Z0(v,{relative:l}),[Q,W,K]=bx(r,N),ce=kx(v,{replace:g,state:y,target:x,preventScrollReset:E,relative:l,viewTransition:A});function pe(se){n&&n(se),se.defaultPrevented||ce(se)}let we=z.createElement("a",{...N,...K,href:J||Y,onClick:H||f?n:pe,ref:Nx(D,W),target:x,"data-discover":!O&&t==="render"?"true":void 0});return Q&&!O?z.createElement(z.Fragment,null,we,z.createElement(wx,{page:Y})):we});o_.displayName="Link";var a_=z.forwardRef(function({"aria-current":n="page",caseSensitive:t=!1,className:r="",end:l=!1,style:f,to:g,viewTransition:y,children:x,...v},E){let A=wl(g,{relative:v.relative}),N=Vi(),D=z.useContext(mc),{navigator:R,basename:O}=z.useContext(_i),J=D!=null&&Ux(A)&&y===!0,H=R.encodeLocation?R.encodeLocation(A).pathname:A.pathname,Y=N.pathname,Q=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&O&&(Q=yo(Q,O)||Q);const W=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let K=Y===H||!l&&Y.startsWith(H)&&Y.charAt(W)==="/",ce=Q!=null&&(Q===H||!l&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),pe={isActive:K,isPending:ce,isTransitioning:J},we=K?n:void 0,se;typeof r=="function"?se=r(pe):se=[r,K?"active":null,ce?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let Ae=typeof f=="function"?f(pe):f;return z.createElement(o_,{...v,"aria-current":we,className:se,ref:E,style:Ae,to:g,viewTransition:y},typeof x=="function"?x(pe):x)});a_.displayName="NavLink";var Lx=z.forwardRef(({discover:a="render",fetcherKey:n,navigate:t,reloadDocument:r,replace:l,state:f,method:g=Xu,action:y,onSubmit:x,relative:v,preventScrollReset:E,viewTransition:A,...N},D)=>{let R=Ox(),O=zx(y,{relative:v}),J=g.toLowerCase()==="get"?"get":"post",H=typeof y=="string"&&i_.test(y),Y=Q=>{if(x&&x(Q),Q.defaultPrevented)return;Q.preventDefault();let W=Q.nativeEvent.submitter,K=(W==null?void 0:W.getAttribute("formmethod"))||g;R(W||Q.currentTarget,{fetcherKey:n,method:K,navigate:t,replace:l,state:f,relative:v,preventScrollReset:E,viewTransition:A})};return z.createElement("form",{ref:D,method:J,action:O,onSubmit:r?x:Y,...N,"data-discover":!H&&a==="render"?"true":void 0})});Lx.displayName="Form";function Dx(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(a){let n=z.useContext(rs);return St(n,Dx(a)),n}function kx(a,{target:n,replace:t,state:r,preventScrollReset:l,relative:f,viewTransition:g}={}){let y=Hi(),x=Vi(),v=wl(a,{relative:f});return z.useCallback(E=>{if(fx(E,n)){E.preventDefault();let A=t!==void 0?t:Sl(x)===Sl(v);y(a,{replace:A,state:r,preventScrollReset:l,relative:f,viewTransition:g})}},[x,y,v,t,r,n,a,l,f,g])}var Px=0,Ix=()=>`__${String(++Px)}__`;function Ox(){let{router:a}=r_("useSubmit"),{basename:n}=z.useContext(_i),t=ex();return z.useCallback(async(r,l={})=>{let{action:f,method:g,encType:y,formData:x,body:v}=mx(r,n);if(l.navigate===!1){let E=l.fetcherKey||Ix();await a.fetch(E,t,l.action||f,{preventScrollReset:l.preventScrollReset,formData:x,body:v,formMethod:l.method||g,formEncType:l.encType||y,flushSync:l.flushSync})}else await a.navigate(l.action||f,{preventScrollReset:l.preventScrollReset,formData:x,body:v,formMethod:l.method||g,formEncType:l.encType||y,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,n,t])}function zx(a,{relative:n}={}){let{basename:t}=z.useContext(_i),r=z.useContext(yi);St(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),f={...wl(a||".",{relative:n})},g=Vi();if(a==null){f.search=g.search;let y=new URLSearchParams(f.search),x=y.getAll("index");if(x.some(E=>E==="")){y.delete("index"),x.filter(A=>A).forEach(A=>y.append("index",A));let E=y.toString();f.search=E?`?${E}`:""}}return(!a||a===".")&&l.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(f.pathname=f.pathname==="/"?t:_o([t,f.pathname])),Sl(f)}function Ux(a,n={}){let t=z.useContext(Kv);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r_("useViewTransitionState"),l=wl(a,{relative:n.relative});if(!t.isTransitioning)return!1;let f=yo(t.currentLocation.pathname,r)||t.currentLocation.pathname,g=yo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ic(l.pathname,g)!=null||ic(l.pathname,f)!=null}[...Cx];const Xe="w-6 h-6",Bx=({className:a})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 270 60",className:a,preserveAspectRatio:"xMidYMid meet",children:[S.jsxs("g",{strokeLinecap:"round",strokeWidth:"3.5",fill:"none",children:[S.jsx("path",{d:"M20 22 Q30 12 40 22 T60 22",stroke:"#38BDF8"})," ",S.jsx("path",{d:"M20 30 Q30 20 40 30 T60 30",stroke:"#3B82F6"})," ",S.jsx("path",{d:"M20 38 Q30 28 40 38 T60 38",stroke:"#10B981"})," "]}),S.jsxs("text",{x:"75",y:"45",fontFamily:"Arial, sans-serif",fontSize:"38",fontWeight:"bold",children:[S.jsx("tspan",{fill:"#38BDF8",children:"sound"})," ",S.jsx("tspan",{fill:"#3B82F6",children:"X"}),"    ",S.jsx("tspan",{fill:"#10B981",children:"cape"}),"   "]})]}),Vx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})}),s_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),l_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),nh=({className:a})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503-6.498l4.498-2.25a49.095 49.095 0 01-4.498 2.25zM9 6.75L4.502 4.5A49.095 49.095 0 009 6.75zM15 9.75l4.498-2.25A49.095 49.095 0 0115 9.75zM4.502 4.5l-.234.468A49.095 49.095 0 004.502 4.5zm0 0v15M19.5 19.5v-15"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75c-1.246 0-2.25.26-2.25.563v2.187c0 .302 1.004.562 2.25.562s2.25-.26 2.25-.563v-2.187c0-.302-1.004-.562-2.25-.562zM15 9.75L9 6.75m0 0L4.502 4.5M15 9.75l4.498-2.25M4.502 4.5v15m15-15v15"})]}),wd=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),u_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15.356-6.062l1.06 1.06M20.438 6.438l-1.06 1.06M6.438 6.438l1.06-1.06m11.876 1.06l-1.06-1.06M12 2.25v1.5m0 15v1.5m-6.062-1.582l1.06-1.06M17.562 17.562l-1.06-1.06M6.438 17.562l1.06 1.06m11.876-1.06l-1.06 1.06"})}),c_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),Hx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),qx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.338 0 4.5 4.5 0 01-1.41 8.775H6.75z"})}),Zx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),dg=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Gx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),f_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),d_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c.621 0 1.125-.504 1.125-1.125V6.375c0-.621-.504-1.125-1.125-1.125S10.875 5.754 10.875 6.375v7.5c0 .621.504 1.125 1.125 1.125z"})}),ih=({className:a})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),oh=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9c0-1.105-1.343-2-3-2S3 7.895 3 9s1.343 2 3 2c.308 0 .608-.024.9-.07M9 9v10.5M9 19.5c0 1.105-1.343 2-3 2s-3-1.895-3-3 1.343-2 3-2c.308 0 .608-.024.9.07M19.5 9.75l-6 2.25M13.5 12V6.75M13.5 12l6-2.25m-6 2.25V19.5m0-9.75c0-1.105 1.343-2 3-2s3 1.895 3 3-1.343 2-3 2c-.308 0-.608-.024-.9-.07M13.5 12V6.75"})}),Fx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 6.75A5.25 5.25 0 006.75 12a5.25 5.25 0 005.25 5.25 5.25 5.25 0 005.25-5.25A5.25 5.25 0 0012 6.75z"})}),Yx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),Ad=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.875 5.79m.49-3.21a48.01 48.01 0 00-4.83-.372A48.348 48.348 0 006 2.25M12 2.25v2.55m0 0A48.012 48.012 0 0012 2.25m0 0A48.012 48.012 0 0112 2.25m0 0V1.125m0 0A2.25 2.25 0 009.75 3.375h4.5A2.25 2.25 0 0012 1.125z"})}),h_=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Qa=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.25l-1.25-2.25L13.5 11l2.25-1.25L17 7.5l1.25 2.25L20.5 11l-2.25 1.25z"})}),jx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.243-3.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72M13.501 18.72a9.094 9.094 0 01-3.741-.479 3 3 0 01-4.682-2.72m-.243-3.72a9.094 9.094 0 00-3.741-.479 3 3 0 004.682-2.72M12 12.472a4.5 4.5 0 100-9 4.5 4.5 0 000 9zM12 15.722V18.72M15.326 11.472l-1.654-2.94M8.674 11.472L10.328 8.53M12 3.722v2.98M12 12.472c0 .748-.448 1.423-1.103 1.778M12 12.472c0 .748.448 1.423 1.103 1.778"})}),$x=({className:a})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),Kx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75v4.5m0-4.5h-4.5m4.5 0L15 9M20.25 20.25v-4.5m0 4.5h-4.5m4.5 0L15 15"})}),Jx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"})}),Xx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 .75h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"})}),Qx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),Wx=({className:a})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${Xe} ${a}`,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 8.25H6.75a2.25 2.25 0 0 0-2.25 2.25v3c0 1.24 1.01 2.25 2.25 2.25h3M17.25 8.25L12 12.75m0 0L6.75 17.25M12 12.75l5.25 4.5M12 12.75l5.25-4.5M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})}),hl=({to:a,icon:n,label:t,exact:r=!1})=>{const l=Vi();let f=!1;return r?f=l.pathname===a:f=l.pathname===a||l.pathname.startsWith(`${a}/`),S.jsxs(a_,{to:a,end:r,className:({isActive:g})=>`flex flex-col items-center justify-center flex-1 p-2 rounded-lg transition-colors
         ${f||g?"text-brand-primary bg-brand-dark-card dark:bg-brand-dark-border":"text-brand-text-dim hover:bg-brand-dark-card dark:hover:bg-brand-dark-border"}`,children:[n,S.jsx("span",{className:"text-xs mt-1",children:t})]})},eT=({children:a})=>S.jsxs("div",{className:"flex flex-col h-screen antialiased",children:[S.jsx("main",{className:"flex-1 overflow-y-auto pb-20 bg-brand-dark-bg dark:bg-brand-dark-bg text-brand-text-light dark:text-brand-text-light",children:a}),S.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-brand-dark-bg dark:bg-slate-800 border-t border-brand-dark-border dark:border-slate-700 shadow-md p-2",children:S.jsxs("div",{className:"max-w-lg mx-auto flex justify-around items-center",children:[S.jsx(hl,{to:"/",icon:S.jsx(Vx,{className:Xe}),label:"Inicio",exact:!0}),S.jsx(hl,{to:"/projects",icon:S.jsx(s_,{className:Xe}),label:"Proyectos"}),S.jsx(hl,{to:"/gallery",icon:S.jsx(l_,{className:Xe}),label:"Galería"}),S.jsx(hl,{to:"/map",icon:S.jsx(nh,{className:Xe}),label:"Mapa"}),S.jsx(hl,{to:"/utilities",icon:S.jsx(u_,{className:Xe}),label:"Utilidades"})]})})]}),Ve=({onClick:a,type:n="button",variant:t="primary",size:r="md",className:l="",disabled:f=!1,children:g})=>{const y="font-semibold rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-dark-bg dark:focus:ring-offset-slate-800";let x="";switch(t){case"primary":x="bg-brand-primary hover:bg-brand-primary-hover text-white focus:ring-brand-primary";break;case"secondary":x="bg-brand-dark-card hover:bg-brand-dark-border text-brand-text-light border border-brand-dark-border focus:ring-brand-primary dark:bg-slate-700 dark:hover:bg-slate-600 dark:border-slate-600 dark:text-gray-200";break;case"danger":x="bg-red-600 hover:bg-red-700 text-white focus:ring-red-500";break;case"ghost":x="bg-transparent hover:bg-brand-dark-card text-brand-primary dark:hover:bg-slate-700 focus:ring-brand-primary";break}let v="";switch(r){case"sm":v="px-3 py-1.5 text-sm";break;case"md":v="px-4 py-2 text-base";break;case"lg":v="px-6 py-3 text-lg";break}const E=f?"opacity-50 cursor-not-allowed":"";return S.jsx("button",{type:n,onClick:a,disabled:f,className:`${y} ${x} ${v} ${E} ${l}`,children:g})},tT=()=>{const a=Hi();return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center text-center p-4 md:p-8 bg-gradient-to-b from-brand-dark-bg via-slate-900 to-brand-dark-bg text-brand-text-light",children:[S.jsxs("header",{className:"mb-8 md:mb-12",children:[S.jsx(Bx,{className:"w-64 h-auto md:w-80 mx-auto mb-2"}),S.jsx("p",{className:"text-md md:text-lg text-brand-text-dim mt-3 max-w-2xl mx-auto",children:"Tu compañero digital para la exploración sonora. Captura, organiza, enriquece con IA y redescubre el universo auditivo que te rodea."})]}),S.jsxs("section",{className:"mb-10 md:mb-12 max-w-3xl w-full",children:[S.jsx("h2",{className:"text-2xl font-semibold text-brand-primary mb-4",children:"¿Qué es soundXcape?"}),S.jsxs("p",{className:"text-brand-text-dim text-left md:text-center leading-relaxed space-y-3",children:[S.jsx("span",{children:"soundXcape te permite crear proyectos detallados para tus expediciones de grabación de sonido. Documenta cada captura con notas, fotos tomadas en el momento o subidas desde tu equipo, y grabaciones de voz (directas o importadas)."}),S.jsx("span",{children:"Organiza tus hallazgos con etiquetas, información técnica y coordenadas geográficas. Potencia tu creatividad con sugerencias de IA, y visualiza tus proyectos en un mapa interactivo."})]})]}),S.jsxs("nav",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 w-full max-w-md",children:[S.jsxs(Ve,{onClick:()=>a("/projects"),variant:"primary",size:"lg",className:"flex items-center justify-center py-3 md:py-4 text-lg",children:[S.jsx(s_,{className:"w-6 h-6 mr-2"}),"Ver Mis Proyectos"]}),S.jsxs(Ve,{onClick:()=>a("/gallery"),variant:"secondary",size:"lg",className:"flex items-center justify-center py-3 md:py-4 text-lg",children:[S.jsx(l_,{className:"w-6 h-6 mr-2"}),"Explorar Galería Multimedia"]})]}),S.jsx("footer",{className:"mt-12 md:mt-16 text-xs text-brand-text-dim opacity-70",children:S.jsxs("p",{children:["© ",new Date().getFullYear()," soundXcape. Redescubre el sonido."]})})]})};function ml(a,n){const[t,r]=z.useState(()=>{try{const l=window.localStorage.getItem(a);return l?JSON.parse(l):n}catch(l){return console.error(`Error reading localStorage key "${a}":`,l),n}});return z.useEffect(()=>{try{const l=t;window.localStorage.setItem(a,JSON.stringify(l))}catch(l){if(l instanceof DOMException&&(l.name==="QuotaExceededError"||l.name==="NS_ERROR_DOM_QUOTA_REACHED")){const f=l instanceof Error?l.message:String(l);console.warn(`INFO: LocalStorage Quota Exceeded for key "${a}". User has been alerted. Data not saved. Details: ${f}`);let g=`Storage Limit Reached for "${a}"!

Your browser's local storage is full. This usually happens if you have many recordings with photos or long audio notes. The latest changes to "${a}" (e.g., new recordings, photos, or voice notes) could not be saved.

To free up space, please try:
1. Deleting older projects or recordings, especially those with large media files.
2. Reducing the number of photos or the length of audio notes in new recordings.

After freeing up space, you may need to try your last action again.`;alert(g)}else console.error(`Error setting localStorage key "${a}":`,l)}},[a,t]),[t,r]}const qi=z.createContext(void 0),nT=({children:a})=>{const[n,t]=ml("soundscape_projects",[]),[r,l]=ml("soundscape_recordings",[]),[f,g]=ml("soundscape_reminders",[{id:"1",text:"Volver al bosque",time:"10:00 AM",date:new Date().toISOString().split("T")[0]},{id:"2",text:"Revisitar el parque de la ciudad",time:"2:00 PM",date:new Date(Date.now()+864e5).toISOString().split("T")[0]}]),[y,x]=ml("soundscape_darkMode",!0),[v,E]=ml("soundxcape_hasVisitedWelcome",!1),A=()=>x(W=>!W),N=()=>E(!0),D=W=>t(K=>[...K,W]),R=W=>t(K=>K.map(ce=>ce.id===W.id?W:ce)),O=W=>{t(K=>K.filter(ce=>ce.id!==W)),l(K=>K.filter(ce=>ce.projectId!==W))},J=W=>l(K=>[...K,W]),H=W=>l(K=>K.map(ce=>ce.id===W.id?W:ce)),Y=W=>l(K=>K.filter(ce=>ce.id!==W)),Q=W=>r.filter(K=>K.projectId===W);return S.jsx(qi.Provider,{value:{projects:n,setProjects:t,recordings:r,setRecordings:l,reminders:f,setReminders:g,darkMode:y,toggleDarkMode:A,hasVisitedWelcome:v,markWelcomeAsVisited:N,addProject:D,updateProject:R,deleteProject:O,addRecording:J,updateRecording:H,deleteRecording:Y,getRecordingsForProject:Q},children:a})},iT=({project:a,projectImageUrl:n})=>{const t=Hi();return S.jsxs("div",{className:"bg-brand-dark-card dark:bg-slate-800 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer flex flex-col overflow-hidden group",onClick:()=>t(`/project/${a.id}`),"aria-label":`Ver proyecto ${a.name}`,children:[n?S.jsx("img",{src:n,alt:`Imagen representativa de ${a.name}`,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}):S.jsx("div",{className:"w-full h-48 bg-brand-dark-bg dark:bg-slate-700 flex items-center justify-center rounded-t-lg",children:S.jsx(oh,{className:"w-16 h-16 text-brand-text-dim opacity-30"})}),S.jsxs("div",{className:"p-4 flex-grow flex flex-col justify-between",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-brand-text-light dark:text-white mb-1 truncate",title:a.name,children:a.name}),S.jsxs("p",{className:"text-sm text-brand-text-dim dark:text-gray-400 mb-0.5 truncate flex items-center",title:a.location,children:[S.jsx(nh,{className:"w-4 h-4 mr-1.5 opacity-70 flex-shrink-0"})," ",a.location||"Ubicación no especificada"]})]}),S.jsx("p",{className:"text-xs text-brand-text-dim dark:text-gray-500 mt-2",children:new Date(a.date).toLocaleDateString()})]})]})},Ui=({title:a,showBackButton:n=!1,backPath:t,actions:r})=>{const l=Hi(),f=()=>{l(t||-1)};return S.jsx("div",{className:"p-4 bg-brand-dark-card dark:bg-slate-800 shadow-md sticky top-0 z-10",children:S.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center",children:[n&&S.jsx(Ve,{variant:"ghost",size:"sm",onClick:f,className:"mr-2 p-1",children:S.jsx(c_,{className:"w-5 h-5 text-brand-text-light dark:text-gray-300"})}),S.jsx("h1",{className:"text-xl font-semibold text-brand-text-light dark:text-white",children:a})]}),r&&S.jsx("div",{className:"flex items-center space-x-2",children:r})]})})},oT=()=>{const a=Hi(),n=z.useContext(qi);if(!n)return S.jsx("p",{className:"p-4 text-center",children:"Cargando contexto..."});const{projects:t,getRecordingsForProject:r}=n;return S.jsxs("div",{className:"min-h-screen",children:[S.jsx(Ui,{title:"Mis Proyectos"}),S.jsxs("div",{className:"flex items-center justify-center mt-1 mb-4 md:mb-6 px-4",children:[S.jsx("hr",{className:"w-1/4 border-t border-brand-dark-border dark:border-slate-700 opacity-50"}),S.jsx("h2",{className:"mx-4 text-xl md:text-2xl font-light tracking-wider text-brand-text-dim dark:text-brand-text-dim uppercase",children:"Explora Tus Proyectos"}),S.jsx("hr",{className:"w-1/4 border-t border-brand-dark-border dark:border-slate-700 opacity-50"})]}),S.jsx("div",{className:"p-4 md:p-6",children:t.length===0?S.jsxs("div",{className:"text-center py-10",children:[S.jsx("img",{src:"https://picsum.photos/seed/soundscapeprojects/400/250",alt:"Inspiración para paisajes sonoros",className:"mx-auto rounded-lg mb-6 opacity-60 shadow-xl"}),S.jsx("h2",{className:"text-2xl font-semibold text-brand-text-light mb-3",children:"No Tienes Proyectos Aún"}),S.jsx("p",{className:"text-brand-text-dim dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Comienza tu aventura sonora. Crea tu primer proyecto y empieza a capturar el mundo en sonidos y imágenes."}),S.jsxs(Ve,{onClick:()=>a("/new-project"),size:"lg",children:[S.jsx(wd,{className:"w-5 h-5 mr-2 inline-block"}),"Crear Nuevo Proyecto"]})]}):S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(l=>{const f=r(l.id),g=f.length>0&&f[0].photos.length>0?f[0].photos[0].url:void 0;return S.jsx(iT,{project:l,projectImageUrl:g},l.id)})})}),S.jsx(Ve,{onClick:()=>a("/new-project"),className:"fixed bottom-24 right-4 bg-brand-primary hover:bg-brand-primary-hover text-white p-4 rounded-full shadow-xl z-20","aria-label":"Añadir nuevo proyecto",children:S.jsx(wd,{className:"w-6 h-6"})})]})};var gl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var aT=gl.exports,hg;function rT(){return hg||(hg=1,function(a,n){(function(t,r){r(n)})(aT,function(t){var r="1.9.4";function l(o){var u,m,T,C;for(m=1,T=arguments.length;m<T;m++){C=arguments[m];for(u in C)o[u]=C[u]}return o}var f=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function g(o,u){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var T=m.call(arguments,2);return function(){return o.apply(u,T.length?T.concat(m.call(arguments)):arguments)}}var y=0;function x(o){return"_leaflet_id"in o||(o._leaflet_id=++y),o._leaflet_id}function v(o,u,m){var T,C,w,P;return P=function(){T=!1,C&&(w.apply(m,C),C=!1)},w=function(){T?C=arguments:(o.apply(m,arguments),setTimeout(P,u),T=!0)},w}function E(o,u,m){var T=u[1],C=u[0],w=T-C;return o===T&&m?o:((o-C)%w+w)%w+C}function A(){return!1}function N(o,u){if(u===!1)return o;var m=Math.pow(10,u===void 0?6:u);return Math.round(o*m)/m}function D(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function R(o){return D(o).split(/\s+/)}function O(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?f(o.options):{});for(var m in u)o.options[m]=u[m];return o.options}function J(o,u,m){var T=[];for(var C in o)T.push(encodeURIComponent(m?C.toUpperCase():C)+"="+encodeURIComponent(o[C]));return(!u||u.indexOf("?")===-1?"?":"&")+T.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function Y(o,u){return o.replace(H,function(m,T){var C=u[T];if(C===void 0)throw new Error("No value provided for variable "+m);return typeof C=="function"&&(C=C(u)),C})}var Q=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function W(o,u){for(var m=0;m<o.length;m++)if(o[m]===u)return m;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ce(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var pe=0;function we(o){var u=+new Date,m=Math.max(0,16-(u-pe));return pe=u+m,window.setTimeout(o,m)}var se=window.requestAnimationFrame||ce("RequestAnimationFrame")||we,Ae=window.cancelAnimationFrame||ce("CancelAnimationFrame")||ce("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Oe(o,u,m){if(m&&se===we)o.call(u);else return se.call(window,g(o,u))}function ve(o){o&&Ae.call(window,o)}var Ye={__proto__:null,extend:l,create:f,bind:g,get lastId(){return y},stamp:x,throttle:v,wrapNum:E,falseFn:A,formatNum:N,trim:D,splitWords:R,setOptions:O,getParamString:J,template:Y,isArray:Q,indexOf:W,emptyImageUrl:K,requestFn:se,cancelFn:Ae,requestAnimFrame:Oe,cancelAnimFrame:ve};function He(){}He.extend=function(o){var u=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,T=f(m);T.constructor=u,u.prototype=T;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(u[C]=this[C]);return o.statics&&l(u,o.statics),o.includes&&(Qe(o.includes),l.apply(null,[T].concat(o.includes))),l(T,o),delete T.statics,delete T.includes,T.options&&(T.options=m.options?f(m.options):{},l(T.options,o.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,P=T._initHooks.length;w<P;w++)T._initHooks[w].call(this)}},u},He.include=function(o){var u=this.prototype.options;return l(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},He.mergeOptions=function(o){return l(this.prototype.options,o),this},He.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Qe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=Q(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(o,u,m){if(typeof o=="object")for(var T in o)this._on(T,o[T],u);else{o=R(o);for(var C=0,w=o.length;C<w;C++)this._on(o[C],u,m)}return this},off:function(o,u,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var T in o)this._off(T,o[T],u);else{o=R(o);for(var C=arguments.length===1,w=0,P=o.length;w<P;w++)C?this._off(o[w]):this._off(o[w],u,m)}return this},_on:function(o,u,m,T){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,m)===!1){m===this&&(m=void 0);var C={fn:u,ctx:m};T&&(C.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(C)}},_off:function(o,u,m){var T,C,w;if(this._events&&(T=this._events[o],!!T)){if(arguments.length===1){if(this._firingCount)for(C=0,w=T.length;C<w;C++)T[C].fn=A;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var P=this._listens(o,u,m);if(P!==!1){var V=T[P];this._firingCount&&(V.fn=A,this._events[o]=T=T.slice()),T.splice(P,1)}}},fire:function(o,u,m){if(!this.listens(o,m))return this;var T=l({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var C=this._events[o];if(C){this._firingCount=this._firingCount+1||1;for(var w=0,P=C.length;w<P;w++){var V=C[w],j=V.fn;V.once&&this.off(o,j,V.ctx),j.call(V.ctx||this,T)}this._firingCount--}}return m&&this._propagateEvent(T),this},listens:function(o,u,m,T){typeof o!="string"&&console.warn('"string" type argument expected');var C=u;typeof u!="function"&&(T=!!u,C=void 0,m=void 0);var w=this._events&&this._events[o];if(w&&w.length&&this._listens(o,C,m)!==!1)return!0;if(T){for(var P in this._eventParents)if(this._eventParents[P].listens(o,u,m,T))return!0}return!1},_listens:function(o,u,m){if(!this._events)return!1;var T=this._events[o]||[];if(!u)return!!T.length;m===this&&(m=void 0);for(var C=0,w=T.length;C<w;C++)if(T[C].fn===u&&T[C].ctx===m)return C;return!1},once:function(o,u,m){if(typeof o=="object")for(var T in o)this._on(T,o[T],u,!0);else{o=R(o);for(var C=0,w=o.length;C<w;C++)this._on(o[C],u,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[x(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[x(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,l({layer:o.target,propagatedFrom:o.target},o),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var ue=He.extend($);function ae(o,u,m){this.x=m?Math.round(o):o,this.y=m?Math.round(u):u}var je=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(o){return this.clone()._add(k(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(k(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ae(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ae(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=je(this.x),this.y=je(this.y),this},distanceTo:function(o){o=k(o);var u=o.x-this.x,m=o.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(o){return o=k(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=k(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function k(o,u,m){return o instanceof ae?o:Q(o)?new ae(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new ae(o.x,o.y):new ae(o,u,m)}function X(o,u){if(o)for(var m=u?[o,u]:o,T=0,C=m.length;T<C;T++)this.extend(m[T])}X.prototype={extend:function(o){var u,m;if(!o)return this;if(o instanceof ae||typeof o[0]=="number"||"x"in o)u=m=k(o);else if(o=fe(o),u=o.min,m=o.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,m;return typeof o[0]=="number"||o instanceof ae?o=k(o):o=fe(o),o instanceof X?(u=o.min,m=o.max):u=m=o,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=fe(o);var u=this.min,m=this.max,T=o.min,C=o.max,w=C.x>=u.x&&T.x<=m.x,P=C.y>=u.y&&T.y<=m.y;return w&&P},overlaps:function(o){o=fe(o);var u=this.min,m=this.max,T=o.min,C=o.max,w=C.x>u.x&&T.x<m.x,P=C.y>u.y&&T.y<m.y;return w&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,m=this.max,T=Math.abs(u.x-m.x)*o,C=Math.abs(u.y-m.y)*o;return fe(k(u.x-T,u.y-C),k(m.x+T,m.y+C))},equals:function(o){return o?(o=fe(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function fe(o,u){return!o||o instanceof X?o:new X(o,u)}function re(o,u){if(o)for(var m=u?[o,u]:o,T=0,C=m.length;T<C;T++)this.extend(m[T])}re.prototype={extend:function(o){var u=this._southWest,m=this._northEast,T,C;if(o instanceof _e)T=o,C=o;else if(o instanceof re){if(T=o._southWest,C=o._northEast,!T||!C)return this}else return o?this.extend(de(o)||he(o)):this;return!u&&!m?(this._southWest=new _e(T.lat,T.lng),this._northEast=new _e(C.lat,C.lng)):(u.lat=Math.min(T.lat,u.lat),u.lng=Math.min(T.lng,u.lng),m.lat=Math.max(C.lat,m.lat),m.lng=Math.max(C.lng,m.lng)),this},pad:function(o){var u=this._southWest,m=this._northEast,T=Math.abs(u.lat-m.lat)*o,C=Math.abs(u.lng-m.lng)*o;return new re(new _e(u.lat-T,u.lng-C),new _e(m.lat+T,m.lng+C))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof _e||"lat"in o?o=de(o):o=he(o);var u=this._southWest,m=this._northEast,T,C;return o instanceof re?(T=o.getSouthWest(),C=o.getNorthEast()):T=C=o,T.lat>=u.lat&&C.lat<=m.lat&&T.lng>=u.lng&&C.lng<=m.lng},intersects:function(o){o=he(o);var u=this._southWest,m=this._northEast,T=o.getSouthWest(),C=o.getNorthEast(),w=C.lat>=u.lat&&T.lat<=m.lat,P=C.lng>=u.lng&&T.lng<=m.lng;return w&&P},overlaps:function(o){o=he(o);var u=this._southWest,m=this._northEast,T=o.getSouthWest(),C=o.getNorthEast(),w=C.lat>u.lat&&T.lat<m.lat,P=C.lng>u.lng&&T.lng<m.lng;return w&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=he(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(o,u){return o instanceof re?o:new re(o,u)}function _e(o,u,m){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,m!==void 0&&(this.alt=+m)}_e.prototype={equals:function(o,u){if(!o)return!1;o=de(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+N(this.lat,o)+", "+N(this.lng,o)+")"},distanceTo:function(o){return Je.distance(this,de(o))},wrap:function(){return Je.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,m=u/Math.cos(Math.PI/180*this.lat);return he([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};function de(o,u,m){return o instanceof _e?o:Q(o)&&typeof o[0]!="object"?o.length===3?new _e(o[0],o[1],o[2]):o.length===2?new _e(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new _e(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new _e(o,u,m)}var mt={latLngToPoint:function(o,u){var m=this.projection.project(o),T=this.scale(u);return this.transformation._transform(m,T)},pointToLatLng:function(o,u){var m=this.scale(u),T=this.transformation.untransform(o,m);return this.projection.unproject(T)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(o),T=this.transformation.transform(u.min,m),C=this.transformation.transform(u.max,m);return new X(T,C)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?E(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?E(o.lat,this.wrapLat,!0):o.lat,T=o.alt;return new _e(m,u,T)},wrapLatLngBounds:function(o){var u=o.getCenter(),m=this.wrapLatLng(u),T=u.lat-m.lat,C=u.lng-m.lng;if(T===0&&C===0)return o;var w=o.getSouthWest(),P=o.getNorthEast(),V=new _e(w.lat-T,w.lng-C),j=new _e(P.lat-T,P.lng-C);return new re(V,j)}},Je=l({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var m=Math.PI/180,T=o.lat*m,C=u.lat*m,w=Math.sin((u.lat-o.lat)*m/2),P=Math.sin((u.lng-o.lng)*m/2),V=w*w+Math.cos(T)*Math.cos(C)*P*P,j=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*j}}),gn=6378137,Hn={R:gn,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,m=this.MAX_LATITUDE,T=Math.max(Math.min(m,o.lat),-m),C=Math.sin(T*u);return new ae(this.R*o.lng*u,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(o){var u=180/Math.PI;return new _e((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=gn*Math.PI;return new X([-o,-o],[o,o])}()};function bn(o,u,m,T){if(Q(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=m,this._d=T}bn.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new ae((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function qn(o,u,m,T){return new bn(o,u,m,T)}var oi=l({},Je,{code:"EPSG:3857",projection:Hn,transformation:function(){var o=.5/(Math.PI*Hn.R);return qn(o,.5,-o,.5)}()}),To=l({},oi,{code:"EPSG:900913"});function Co(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function ya(o,u){var m="",T,C,w,P,V,j;for(T=0,w=o.length;T<w;T++){for(V=o[T],C=0,P=V.length;C<P;C++)j=V[C],m+=(C?"L":"M")+j.x+" "+j.y;m+=u?Se.svg?"z":"x":""}return m||"M0 0"}var Ht=document.documentElement.style,ai="ActiveXObject"in window,xa=ai&&!document.addEventListener,Zi="msLaunchUri"in navigator&&!("documentMode"in document),ri=Mt("webkit"),Ta=Mt("android"),xi=Mt("android 2")||Mt("android 3"),us=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ir=Ta&&Mt("Google")&&us<537&&!("AudioNode"in window),Zn=!!window.opera,qt=!Zi&&Mt("chrome"),wn=Mt("gecko")&&!ri&&!Zn&&!ai,Zt=!qt&&Mt("safari"),or=Mt("phantom"),ar="OTransition"in Ht,cs=navigator.platform.indexOf("Win")===0,Ti=ai&&"transition"in Ht,Ci="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xi,Gn="MozPerspective"in Ht,So=!window.L_DISABLE_3D&&(Ti||Ci||Gn)&&!ar&&!or,An=typeof orientation<"u"||Mt("mobile"),fs=An&&ri,rr=An&&Ci,Ca=!window.PointerEvent&&window.MSPointerEvent,Eo=!!(window.PointerEvent||Ca),Si="ontouchstart"in window||!!window.TouchEvent,ds=!window.L_NO_TOUCH&&(Si||Eo),sr=An&&Zn,lr=An&&wn,bo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,te=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return o}(),Me=function(){return!!document.createElement("canvas").getContext}(),ut=!!(document.createElementNS&&Co("svg").createSVGRect),We=!!ut&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),it=!ut&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),pt=navigator.platform.indexOf("Mac")===0,vn=navigator.platform.indexOf("Linux")===0;function Mt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Se={ie:ai,ielt9:xa,edge:Zi,webkit:ri,android:Ta,android23:xi,androidStock:ir,opera:Zn,chrome:qt,gecko:wn,safari:Zt,phantom:or,opera12:ar,win:cs,ie3d:Ti,webkit3d:Ci,gecko3d:Gn,any3d:So,mobile:An,mobileWebkit:fs,mobileWebkit3d:rr,msPointer:Ca,pointer:Eo,touch:ds,touchNative:Si,mobileOpera:sr,mobileGecko:lr,retina:bo,passiveEvents:te,canvas:Me,svg:ut,vml:it,inlineSvg:We,mac:pt,linux:vn},si=Se.msPointer?"MSPointerDown":"pointerdown",Mn=Se.msPointer?"MSPointerMove":"pointermove",zt=Se.msPointer?"MSPointerUp":"pointerup",tn=Se.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:si,touchmove:Mn,touchend:zt,touchcancel:tn},li={touchstart:Rl,touchmove:Sa,touchend:Sa,touchcancel:Sa},ln={},Gi=!1;function kt(o,u,m){return u==="touchstart"&&Cc(),li[u]?(m=li[u].bind(this,m),o.addEventListener(Ut[u],m,!1),m):(console.warn("wrong event specified:",u),A)}function Ml(o,u,m){if(!Ut[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(Ut[u],m,!1)}function Nl(o){ln[o.pointerId]=o}function Fi(o){ln[o.pointerId]&&(ln[o.pointerId]=o)}function Yi(o){delete ln[o.pointerId]}function Cc(){Gi||(document.addEventListener(si,Nl,!0),document.addEventListener(Mn,Fi,!0),document.addEventListener(zt,Yi,!0),document.addEventListener(tn,Yi,!0),Gi=!0)}function Sa(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in ln)u.touches.push(ln[m]);u.changedTouches=[u],o(u)}}function Rl(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Nt(u),Sa(o,u)}function Sc(o){var u={},m,T;for(T in o)m=o[T],u[T]=m&&m.bind?m.bind(o):m;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var ur=200;function cr(o,u){o.addEventListener("dblclick",u);var m=0,T;function C(w){if(w.detail!==1){T=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var P=ps(w);if(!(P.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!P.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var V=Date.now();V-m<=ur?(T++,T===2&&u(Sc(w))):T=1,m=V}}}return o.addEventListener("click",C),{dblclick:u,simDblclick:C}}function ui(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var Ea=No(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wo=No(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ji=wo==="webkitTransition"||wo==="OTransition"?wo+"End":"transitionend";function fr(o){return typeof o=="string"?document.getElementById(o):o}function $i(o,u){var m=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(o,null);m=T?T[u]:null}return m==="auto"?null:m}function tt(o,u,m){var T=document.createElement(o);return T.className=u||"",m&&m.appendChild(T),T}function gt(o){var u=o.parentNode;u&&u.removeChild(o)}function Kt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ki(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Ao(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Mo(o,u){if(o.classList!==void 0)return o.classList.contains(u);var m=Jt(o);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function ze(o,u){if(o.classList!==void 0)for(var m=R(u),T=0,C=m.length;T<C;T++)o.classList.add(m[T]);else if(!Mo(o,u)){var w=Jt(o);hs(o,(w?w+" ":"")+u)}}function vt(o,u){o.classList!==void 0?o.classList.remove(u):hs(o,D((" "+Jt(o)+" ").replace(" "+u+" "," ")))}function hs(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function Jt(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function nn(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&Ll(o,u)}function Ll(o,u){var m=!1,T="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(T)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):o.style.filter+=" progid:"+T+"(opacity="+u+")"}function No(o){for(var u=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in u)return o[m];return!1}function _n(o,u,m){var T=u||new ae(0,0);o.style[Ea]=(Se.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(m?" scale("+m+")":"")}function Et(o,u){o._leaflet_pos=u,Se.any3d?_n(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function Ei(o){return o._leaflet_pos||new ae(0,0)}var Fn,ba,dr;if("onselectstart"in document)Fn=function(){Pe(window,"selectstart",Nt)},ba=function(){ot(window,"selectstart",Nt)};else{var Ro=No(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Fn=function(){if(Ro){var o=document.documentElement.style;dr=o[Ro],o[Ro]="none"}},ba=function(){Ro&&(document.documentElement.style[Ro]=dr,dr=void 0)}}function wa(){Pe(window,"dragstart",Nt)}function ms(){ot(window,"dragstart",Nt)}var hr,Lo;function Aa(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Do(),hr=o,Lo=o.style.outlineStyle,o.style.outlineStyle="none",Pe(window,"keydown",Do))}function Do(){hr&&(hr.style.outlineStyle=Lo,hr=void 0,Lo=void 0,ot(window,"keydown",Do))}function Ji(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function bi(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var Dl={__proto__:null,TRANSFORM:Ea,TRANSITION:wo,TRANSITION_END:ji,get:fr,getStyle:$i,create:tt,remove:gt,empty:Kt,toFront:Ki,toBack:Ao,hasClass:Mo,addClass:ze,removeClass:vt,setClass:hs,getClass:Jt,setOpacity:nn,testProp:No,setTransform:_n,setPosition:Et,getPosition:Ei,get disableTextSelection(){return Fn},get enableTextSelection(){return ba},disableImageDrag:wa,enableImageDrag:ms,preventOutline:Aa,restoreOutline:Do,getSizedParentNode:Ji,getScale:bi};function Pe(o,u,m,T){if(u&&typeof u=="object")for(var C in u)Xi(o,C,u[C],m);else{u=R(u);for(var w=0,P=u.length;w<P;w++)Xi(o,u[w],m,T)}return this}var Nn="_leaflet_events";function ot(o,u,m,T){if(arguments.length===1)Yn(o),delete o[Nn];else if(u&&typeof u=="object")for(var C in u)jn(o,C,u[C],m);else if(u=R(u),arguments.length===2)Yn(o,function(V){return W(u,V)!==-1});else for(var w=0,P=u.length;w<P;w++)jn(o,u[w],m,T);return this}function Yn(o,u){for(var m in o[Nn]){var T=m.split(/\d/)[0];(!u||u(T))&&jn(o,T,null,null,m)}}var Ma={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xi(o,u,m,T){var C=u+x(m)+(T?"_"+x(T):"");if(o[Nn]&&o[Nn][C])return this;var w=function(V){return m.call(T||o,V||window.event)},P=w;!Se.touchNative&&Se.pointer&&u.indexOf("touch")===0?w=kt(o,u,w):Se.touch&&u==="dblclick"?w=cr(o,w):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Ma[u]||u,w,Se.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(w=function(V){V=V||window.event,Wi(o,V)&&P(V)},o.addEventListener(Ma[u],w,!1)):o.addEventListener(u,P,!1):o.attachEvent("on"+u,w),o[Nn]=o[Nn]||{},o[Nn][C]=w}function jn(o,u,m,T,C){C=C||u+x(m)+(T?"_"+x(T):"");var w=o[Nn]&&o[Nn][C];if(!w)return this;!Se.touchNative&&Se.pointer&&u.indexOf("touch")===0?Ml(o,u,w):Se.touch&&u==="dblclick"?ui(o,w):"removeEventListener"in o?o.removeEventListener(Ma[u]||u,w,!1):o.detachEvent("on"+u,w),o[Nn][C]=null}function ci(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function ko(o){return Xi(o,"wheel",ci),this}function Po(o){return Pe(o,"mousedown touchstart dblclick contextmenu",ci),o._leaflet_disable_click=!0,this}function Nt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function $n(o){return Nt(o),ci(o),this}function ps(o){if(o.composedPath)return o.composedPath();for(var u=[],m=o.target;m;)u.push(m),m=m.parentNode;return u}function Xt(o,u){if(!u)return new ae(o.clientX,o.clientY);var m=bi(u),T=m.boundingClientRect;return new ae((o.clientX-T.left)/m.x-u.clientLeft,(o.clientY-T.top)/m.y-u.clientTop)}var Qi=Se.linux&&Se.chrome?window.devicePixelRatio:Se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Na(o){return Se.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Qi:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Wi(o,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var Ec={__proto__:null,on:Pe,off:ot,stopPropagation:ci,disableScrollPropagation:ko,disableClickPropagation:Po,preventDefault:Nt,stop:$n,getPropagationPath:ps,getMousePosition:Xt,getWheelDelta:Na,isExternalTarget:Wi,addListener:Pe,removeListener:ot},mr=ue.extend({run:function(o,u,m,T){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Ei(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Oe(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var m=this._startPos.add(this._offset.multiplyBy(o));u&&m._round(),Et(this._el,m),this.fire("step")},_complete:function(){ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ge=ue.extend({options:{crs:oi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=O(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(de(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wo&&Se.any3d&&!Se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(de(o),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var T=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,m.zoom):this._tryAnimatedPan(o,m.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(Se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,m){var T=this.getZoomScale(u),C=this.getSize().divideBy(2),w=o instanceof ae?o:this.latLngToContainerPoint(o),P=w.subtract(C).multiplyBy(1-1/T),V=this.containerPointToLatLng(C.add(P));return this.setView(V,u,{zoom:m})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():he(o);var m=k(u.paddingTopLeft||u.padding||[0,0]),T=k(u.paddingBottomRight||u.padding||[0,0]),C=this.getBoundsZoom(o,!1,m.add(T));if(C=typeof u.maxZoom=="number"?Math.min(u.maxZoom,C):C,C===1/0)return{center:o.getCenter(),zoom:C};var w=T.subtract(m).divideBy(2),P=this.project(o.getSouthWest(),C),V=this.project(o.getNorthEast(),C),j=this.unproject(P.add(V).divideBy(2).add(w),C);return{center:j,zoom:C}},fitBounds:function(o,u){if(o=he(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=k(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){ze(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,m){if(m=m||{},m.animate===!1||!Se.any3d)return this.setView(o,u,m);this._stop();var T=this.project(this.getCenter()),C=this.project(o),w=this.getSize(),P=this._zoom;o=de(o),u=u===void 0?P:u;var V=Math.max(w.x,w.y),j=V*this.getZoomScale(P,u),oe=C.distanceTo(T)||1,me=1.42,ye=me*me;function Ce(Tt){var Xn=Tt?-1:1,hi=Tt?j:V,Ri=j*j-V*V+Xn*ye*ye*oe*oe,mi=2*hi*ye*oe,qa=Ri/mi,Ar=Math.sqrt(qa*qa+1)-qa,Za=Ar<1e-9?-18:Math.log(Ar);return Za}function De(Tt){return(Math.exp(Tt)-Math.exp(-Tt))/2}function _t(Tt){return(Math.exp(Tt)+Math.exp(-Tt))/2}function bt(Tt){return De(Tt)/_t(Tt)}var Ft=Ce(0);function yn(Tt){return V*(_t(Ft)/_t(Ft+me*Tt))}function Xl(Tt){return V*(_t(Ft)*bt(Ft+me*Tt)-De(Ft))/ye}function Ql(Tt){return 1-Math.pow(1-Tt,1.5)}var Ha=Date.now(),Yo=(Ce(1)-Ft)/me,Wl=m.duration?1e3*m.duration:1e3*Yo*.8;function jo(){var Tt=(Date.now()-Ha)/Wl,Xn=Ql(Tt)*Yo;Tt<=1?(this._flyToFrame=Oe(jo,this),this._move(this.unproject(T.add(C.subtract(T).multiplyBy(Xl(Xn)/oe)),P),this.getScaleZoom(V/yn(Xn),P),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),jo.call(this),this},flyToBounds:function(o,u){var m=this._getBoundsCenterZoom(o,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(o){return o=he(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var m=this.getCenter(),T=this._limitCenter(m,this._zoom,he(o));return m.equals(T)||this.panTo(T,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var m=k(u.paddingTopLeft||u.padding||[0,0]),T=k(u.paddingBottomRight||u.padding||[0,0]),C=this.project(this.getCenter()),w=this.project(o),P=this.getPixelBounds(),V=fe([P.min.add(m),P.max.subtract(T)]),j=V.getSize();if(!V.contains(w)){this._enforcingBounds=!0;var oe=w.subtract(V.getCenter()),me=V.extend(w).getSize().subtract(j);C.x+=oe.x<0?-me.x:me.x,C.y+=oe.y<0?-me.y:me.y,this.panTo(this.unproject(C),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=l({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),T=u.divideBy(2).round(),C=m.divideBy(2).round(),w=T.subtract(C);return!w.x&&!w.y?this:(o.animate&&o.pan?this.panBy(w):(o.pan&&this._rawPanBy(w),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=l({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=g(this._handleGeolocationResponse,this),m=g(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,o):navigator.geolocation.getCurrentPosition(u,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,m=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,m=o.coords.longitude,T=new _e(u,m),C=T.toBounds(o.coords.accuracy*2),w=this._locateOptions;if(w.setView){var P=this.getBoundsZoom(C);this.setView(T,w.maxZoom?Math.min(P,w.maxZoom):P)}var V={latlng:T,bounds:C,timestamp:o.timestamp};for(var j in o.coords)typeof o.coords[j]=="number"&&(V[j]=o.coords[j]);this.fire("locationfound",V)}},addHandler:function(o,u){if(!u)return this;var m=this[o]=new u(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)gt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),T=tt("div",m,u||this._mapPane);return o&&(this._panes[o]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new re(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,m){o=he(o),m=k(m||[0,0]);var T=this.getZoom()||0,C=this.getMinZoom(),w=this.getMaxZoom(),P=o.getNorthWest(),V=o.getSouthEast(),j=this.getSize().subtract(m),oe=fe(this.project(V,T),this.project(P,T)).getSize(),me=Se.any3d?this.options.zoomSnap:1,ye=j.x/oe.x,Ce=j.y/oe.y,De=u?Math.max(ye,Ce):Math.min(ye,Ce);return T=this.getScaleZoom(De,T),me&&(T=Math.round(T/(me/100))*(me/100),T=u?Math.ceil(T/me)*me:Math.floor(T/me)*me),Math.max(C,Math.min(w,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var m=this._getTopLeftPoint(o,u);return new X(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(o)/m.scale(u)},getScaleZoom:function(o,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var T=m.zoom(o*m.scale(u));return isNaN(T)?1/0:T},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(de(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(k(o),u)},layerPointToLatLng:function(o){var u=k(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(de(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(de(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(he(o))},distance:function(o,u){return this.options.crs.distance(de(o),de(u))},containerPointToLayerPoint:function(o){return k(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return k(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(k(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(o)))},mouseEventToContainerPoint:function(o){return Xt(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=fr(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(u,"scroll",this._onScroll,this),this._containerId=x(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Se.any3d,ze(o,"leaflet-container"+(Se.touch?" leaflet-touch":"")+(Se.retina?" leaflet-retina":"")+(Se.ielt9?" leaflet-oldie":"")+(Se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=$i(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ze(o.markerPane,"leaflet-zoom-hide"),ze(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,m){Et(this._mapPane,new ae(0,0));var T=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var C=this._zoom!==u;this._moveStart(C,m)._move(o,u)._moveEnd(C),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,m,T){u===void 0&&(u=this._zoom);var C=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),T?m&&m.pinch&&this.fire("zoom",m):((C||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Et(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[x(this._container)]=this;var u=o?ot:Pe;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Se.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ve(this._resizeRequest),this._resizeRequest=Oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var m=[],T,C=u==="mouseout"||u==="mouseover",w=o.target||o.srcElement,P=!1;w;){if(T=this._targets[x(w)],T&&(u==="click"||u==="preclick")&&this._draggableMoved(T)){P=!0;break}if(T&&T.listens(u,!0)&&(C&&!Wi(w,o)||(m.push(T),C))||w===this._container)break;w=w.parentNode}return!m.length&&!P&&!C&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var m=o.type;m==="mousedown"&&Aa(u),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,m){if(o.type==="click"){var T=l({},o);T.type="preclick",this._fireDOMEvent(T,T.type,m)}var C=this._findEventTargets(o,u);if(m){for(var w=[],P=0;P<m.length;P++)m[P].listens(u,!0)&&w.push(m[P]);C=w.concat(C)}if(C.length){u==="contextmenu"&&Nt(o);var V=C[0],j={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var oe=V.getLatLng&&(!V._radius||V._radius<=10);j.containerPoint=oe?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(o),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=oe?V.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(P=0;P<C.length;P++)if(C[P].fire(u,j,!0),j.originalEvent._stopped||C[P].options.bubblingMouseEvents===!1&&W(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return Ei(this._mapPane)||new ae(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var m=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var m=this.getSize()._divideBy(2);return this.project(o,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,m){var T=this._getNewPixelOrigin(m,u);return this.project(o,u)._subtract(T)},_latLngBoundsToNewLayerBounds:function(o,u,m){var T=this._getNewPixelOrigin(m,u);return fe([this.project(o.getSouthWest(),u)._subtract(T),this.project(o.getNorthWest(),u)._subtract(T),this.project(o.getSouthEast(),u)._subtract(T),this.project(o.getNorthEast(),u)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,m){if(!m)return o;var T=this.project(o,u),C=this.getSize().divideBy(2),w=new X(T.subtract(C),T.add(C)),P=this._getBoundsOffset(w,m,u);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?o:this.unproject(T.add(P),u)},_limitOffset:function(o,u){if(!u)return o;var m=this.getPixelBounds(),T=new X(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(T,u))},_getBoundsOffset:function(o,u,m){var T=fe(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),C=T.min.subtract(o.min),w=T.max.subtract(o.max),P=this._rebound(C.x,-w.x),V=this._rebound(C.y,-w.y);return new ae(P,V)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),m=this.getMaxZoom(),T=Se.any3d?this.options.zoomSnap:1;return T&&(o=Math.round(o/T)*T),Math.max(u,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var m=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var o=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var m=Ea,T=this._proxy.style[m];_n(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),T===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();_n(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(u),C=this._getCenterOffset(o)._divideBy(1-1/T);return m.animate!==!0&&!this.getSize().contains(C)?!1:(Oe(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,m,T){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,ze(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ra(o,u){return new Ge(o,u)}var on=He.extend({options:{position:"topright"},initialize:function(o){O(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),m=this.getPosition(),T=o._controlCorners[m];return ze(u,"leaflet-control"),m.indexOf("bottom")!==-1?T.insertBefore(u,T.firstChild):T.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Io=function(o){return new on(o)};Ge.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",m=this._controlContainer=tt("div",u+"control-container",this._container);function T(C,w){var P=u+C+" "+u+w;o[C+w]=tt("div",P,m)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)gt(this._controlCorners[o]);gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kl=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,m,T){return m<T?-1:T<m?1:0}},initialize:function(o,u,m){O(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in o)this._addLayer(o[T],T);for(T in u)this._addLayer(u[T],T,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return on.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(x(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){ze(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(ze(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=tt("div",o),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Po(u),ko(u);var T=this._section=tt("section",o+"-list");m&&(this._map.on("click",this.collapse,this),Pe(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=tt("a",o+"-toggle",u);C.href="#",C.title="Layers",C.setAttribute("role","button"),Pe(C,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){Nt(w),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=tt("div",o+"-base",T),this._separator=tt("div",o+"-separator",T),this._overlaysList=tt("div",o+"-overlays",T),u.appendChild(T)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&x(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(g(function(T,C){return this.options.sortFunction(T.layer,C.layer,T.name,C.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Kt(this._baseLayersList),Kt(this._overlaysList),this._layerControlInputs=[];var o,u,m,T,C=0;for(m=0;m<this._layers.length;m++)T=this._layers[m],this._addItem(T),u=u||T.overlay,o=o||!T.overlay,C+=T.overlay?0:1;return this.options.hideSingleBase&&(o=o&&C>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(x(o.target)),m=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(o,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=m,T.firstChild},_addItem:function(o){var u=document.createElement("label"),m=this._map.hasLayer(o.layer),T;o.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=m):T=this._createRadioElement("leaflet-base-layers_"+x(this),m),this._layerControlInputs.push(T),T.layerId=x(o.layer),Pe(T,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+o.name;var w=document.createElement("span");u.appendChild(w),w.appendChild(T),w.appendChild(C);var P=o.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,m,T=[],C=[];this._handlingClick=!0;for(var w=o.length-1;w>=0;w--)u=o[w],m=this._getLayer(u.layerId).layer,u.checked?T.push(m):u.checked||C.push(m);for(w=0;w<C.length;w++)this._map.hasLayer(C[w])&&this._map.removeLayer(C[w]);for(w=0;w<T.length;w++)this._map.hasLayer(T[w])||this._map.addLayer(T[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,m,T=this._map.getZoom(),C=o.length-1;C>=0;C--)u=o[C],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&T<m.options.minZoom||m.options.maxZoom!==void 0&&T>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Pe(o,"click",Nt),this.expand();var u=this;setTimeout(function(){ot(o,"click",Nt),u._preventClick=!1})}}),bc=function(o,u,m){return new kl(o,u,m)},gs=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",m=tt("div",u+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,m,T,C){var w=tt("a",m,T);return w.innerHTML=o,w.href="#",w.title=u,w.setAttribute("role","button"),w.setAttribute("aria-label",u),Po(w),Pe(w,"click",$n),Pe(w,"click",C,this),Pe(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";vt(this._zoomInButton,u),vt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(ze(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(ze(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gs,this.addControl(this.zoomControl))});var vs=function(o){return new gs(o)},Pl=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",m=tt("div",u),T=this.options;return this._addScales(T,u+"-line",m),o.on(T.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,m){o.metric&&(this._mScale=tt("div",u,m)),o.imperial&&(this._iScale=tt("div",u,m))},_update:function(){var o=this._map,u=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/o)},_updateImperial:function(o){var u=o*3.2808399,m,T,C;u>5280?(m=u/5280,T=this._getRoundNum(m),this._updateScale(this._iScale,T+" mi",T/m)):(C=this._getRoundNum(u),this._updateScale(this._iScale,C+" ft",C/u))},_updateScale:function(o,u,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),m=o/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),wc=function(o){return new Pl(o)},Ac='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_s=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Se.inlineSvg?Ac+" ":"")+"Leaflet</a>"},initialize:function(o){O(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),Po(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&new _s().addTo(this)});var Mc=function(o){return new _s(o)};on.Layers=kl,on.Zoom=gs,on.Scale=Pl,on.Attribution=_s,Io.layers=bc,Io.zoom=vs,Io.scale=wc,Io.attribution=Mc;var Rn=He.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rn.addTo=function(o,u){return o.addHandler(u,this),this};var Nc={Events:$},Il=Se.touch?"touchstart mousedown":"mousedown",wi=ue.extend({options:{clickTolerance:3},initialize:function(o,u,m,T){O(this,T),this._element=o,this._dragStartTarget=u||o,this._preventOutline=m},enable:function(){this._enabled||(Pe(this._dragStartTarget,Il,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wi._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Il,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Mo(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){wi._dragging===this&&this.finishDrag();return}if(!(wi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(wi._dragging=this,this._preventOutline&&Aa(this._element),wa(),Fn(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,m=Ji(this._element);this._startPoint=new ae(u.clientX,u.clientY),this._startPos=Ei(this._element),this._parentScale=bi(m);var T=o.type==="mousedown";Pe(document,T?"mousemove":"touchmove",this._onMove,this),Pe(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,m=new ae(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Nt(o),this._moved||(this.fire("dragstart"),this._moved=!0,ze(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ze(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Et(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),ms(),ba();var u=this._moved&&this._moving;this._moving=!1,wi._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Ol(o,u,m){var T,C=[1,4,2,8],w,P,V,j,oe,me,ye,Ce;for(w=0,me=o.length;w<me;w++)o[w]._code=eo(o[w],u);for(V=0;V<4;V++){for(ye=C[V],T=[],w=0,me=o.length,P=me-1;w<me;P=w++)j=o[w],oe=o[P],j._code&ye?oe._code&ye||(Ce=gr(oe,j,ye,u,m),Ce._code=eo(Ce,u),T.push(Ce)):(oe._code&ye&&(Ce=gr(oe,j,ye,u,m),Ce._code=eo(Ce,u),T.push(Ce)),T.push(j));o=T}return o}function pr(o,u){var m,T,C,w,P,V,j,oe,me;if(!o||o.length===0)throw new Error("latlngs not passed");Gt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var ye=de([0,0]),Ce=he(o),De=Ce.getNorthWest().distanceTo(Ce.getSouthWest())*Ce.getNorthEast().distanceTo(Ce.getNorthWest());De<1700&&(ye=ys(o));var _t=o.length,bt=[];for(m=0;m<_t;m++){var Ft=de(o[m]);bt.push(u.project(de([Ft.lat-ye.lat,Ft.lng-ye.lng])))}for(V=j=oe=0,m=0,T=_t-1;m<_t;T=m++)C=bt[m],w=bt[T],P=C.y*w.x-w.y*C.x,j+=(C.x+w.x)*P,oe+=(C.y+w.y)*P,V+=P*3;V===0?me=bt[0]:me=[j/V,oe/V];var yn=u.unproject(k(me));return de([yn.lat+ye.lat,yn.lng+ye.lng])}function ys(o){for(var u=0,m=0,T=0,C=0;C<o.length;C++){var w=de(o[C]);u+=w.lat,m+=w.lng,T++}return de([u/T,m/T])}var Rc={__proto__:null,clipPolygon:Ol,polygonCenter:pr,centroid:ys};function zl(o,u){if(!u||!o.length)return o.slice();var m=u*u;return o=kc(o,m),o=Dc(o,m),o}function xs(o,u,m){return Math.sqrt(to(o,u,m,!0))}function Lc(o,u,m){return to(o,u,m)}function Dc(o,u){var m=o.length,T=typeof Uint8Array<"u"?Uint8Array:Array,C=new T(m);C[0]=C[m-1]=1,Ts(o,C,u,0,m-1);var w,P=[];for(w=0;w<m;w++)C[w]&&P.push(o[w]);return P}function Ts(o,u,m,T,C){var w=0,P,V,j;for(V=T+1;V<=C-1;V++)j=to(o[V],o[T],o[C],!0),j>w&&(P=V,w=j);w>m&&(u[P]=1,Ts(o,u,m,T,P),Ts(o,u,m,P,C))}function kc(o,u){for(var m=[o[0]],T=1,C=0,w=o.length;T<w;T++)Pc(o[T],o[C])>u&&(m.push(o[T]),C=T);return C<w-1&&m.push(o[w-1]),m}var Ul;function Bl(o,u,m,T,C){var w=T?Ul:eo(o,m),P=eo(u,m),V,j,oe;for(Ul=P;;){if(!(w|P))return[o,u];if(w&P)return!1;V=w||P,j=gr(o,u,V,m,C),oe=eo(j,m),V===w?(o=j,w=oe):(u=j,P=oe)}}function gr(o,u,m,T,C){var w=u.x-o.x,P=u.y-o.y,V=T.min,j=T.max,oe,me;return m&8?(oe=o.x+w*(j.y-o.y)/P,me=j.y):m&4?(oe=o.x+w*(V.y-o.y)/P,me=V.y):m&2?(oe=j.x,me=o.y+P*(j.x-o.x)/w):m&1&&(oe=V.x,me=o.y+P*(V.x-o.x)/w),new ae(oe,me,C)}function eo(o,u){var m=0;return o.x<u.min.x?m|=1:o.x>u.max.x&&(m|=2),o.y<u.min.y?m|=4:o.y>u.max.y&&(m|=8),m}function Pc(o,u){var m=u.x-o.x,T=u.y-o.y;return m*m+T*T}function to(o,u,m,T){var C=u.x,w=u.y,P=m.x-C,V=m.y-w,j=P*P+V*V,oe;return j>0&&(oe=((o.x-C)*P+(o.y-w)*V)/j,oe>1?(C=m.x,w=m.y):oe>0&&(C+=P*oe,w+=V*oe)),P=o.x-C,V=o.y-w,T?P*P+V*V:new ae(C,w)}function Gt(o){return!Q(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Vl(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(o)}function Cs(o,u){var m,T,C,w,P,V,j,oe;if(!o||o.length===0)throw new Error("latlngs not passed");Gt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var me=de([0,0]),ye=he(o),Ce=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());Ce<1700&&(me=ys(o));var De=o.length,_t=[];for(m=0;m<De;m++){var bt=de(o[m]);_t.push(u.project(de([bt.lat-me.lat,bt.lng-me.lng])))}for(m=0,T=0;m<De-1;m++)T+=_t[m].distanceTo(_t[m+1])/2;if(T===0)oe=_t[0];else for(m=0,w=0;m<De-1;m++)if(P=_t[m],V=_t[m+1],C=P.distanceTo(V),w+=C,w>T){j=(w-T)/C,oe=[V.x-j*(V.x-P.x),V.y-j*(V.y-P.y)];break}var Ft=u.unproject(k(oe));return de([Ft.lat+me.lat,Ft.lng+me.lng])}var Hl={__proto__:null,simplify:zl,pointToSegmentDistance:xs,closestPointOnSegment:Lc,clipSegment:Bl,_getEdgeIntersection:gr,_getBitCode:eo,_sqClosestPointOnSegment:to,isFlat:Gt,_flat:Vl,polylineCenter:Cs},vr={project:function(o){return new ae(o.lng,o.lat)},unproject:function(o){return new _e(o.y,o.x)},bounds:new X([-180,-90],[180,90])},_r={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,m=this.R,T=o.lat*u,C=this.R_MINOR/m,w=Math.sqrt(1-C*C),P=w*Math.sin(T),V=Math.tan(Math.PI/4-T/2)/Math.pow((1-P)/(1+P),w/2);return T=-m*Math.log(Math.max(V,1e-10)),new ae(o.lng*u*m,T)},unproject:function(o){for(var u=180/Math.PI,m=this.R,T=this.R_MINOR/m,C=Math.sqrt(1-T*T),w=Math.exp(-o.y/m),P=Math.PI/2-2*Math.atan(w),V=0,j=.1,oe;V<15&&Math.abs(j)>1e-7;V++)oe=C*Math.sin(P),oe=Math.pow((1-oe)/(1+oe),C/2),j=Math.PI/2-2*Math.atan(w*oe)-P,P+=j;return new _e(P*u,o.x*u/m)}},ql={__proto__:null,LonLat:vr,Mercator:_r,SphericalMercator:Hn},Oo=l({},Je,{code:"EPSG:3395",projection:_r,transformation:function(){var o=.5/(Math.PI*_r.R);return qn(o,.5,-o,.5)}()}),Zl=l({},Je,{code:"EPSG:4326",projection:vr,transformation:qn(1/180,1,-1/180,.5)}),Ic=l({},mt,{projection:vr,transformation:qn(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var m=u.lng-o.lng,T=u.lat-o.lat;return Math.sqrt(m*m+T*T)},infinite:!0});mt.Earth=Je,mt.EPSG3395=Oo,mt.EPSG3857=oi,mt.EPSG900913=To,mt.EPSG4326=Zl,mt.Simple=Ic;var Ln=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[x(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[x(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=x(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=x(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return x(o)in this._layers},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},_addLayers:function(o){o=o?Q(o)?o:[o]:[];for(var u=0,m=o.length;u<m;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[x(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=x(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,m=this._getZoomSpan();for(var T in this._zoomBoundLayers){var C=this._zoomBoundLayers[T].options;o=C.minZoom===void 0?o:Math.min(o,C.minZoom),u=C.maxZoom===void 0?u:Math.max(u,C.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var no=Ln.extend({initialize:function(o,u){O(this,u),this._layers={};var m,T;if(o)for(m=0,T=o.length;m<T;m++)this.addLayer(o[m])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),m,T;for(m in this._layers)T=this._layers[m],T[o]&&T[o].apply(T,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return x(o)}}),Gl=function(o,u){return new no(o,u)},un=no.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),no.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),no.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new re;for(var u in this._layers){var m=this._layers[u];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),La=function(o,u){return new un(o,u)},zo=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){O(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(T,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(o,u){var m=this.options,T=m[u+"Size"];typeof T=="number"&&(T=[T,T]);var C=k(T),w=k(u==="shadow"&&m.shadowAnchor||m.iconAnchor||C&&C.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(m.className||""),w&&(o.style.marginLeft=-w.x+"px",o.style.marginTop=-w.y+"px"),C&&(o.style.width=C.x+"px",o.style.height=C.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return Se.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function yr(o){return new zo(o)}var Uo=zo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Uo.imagePath!="string"&&(Uo.imagePath=this._detectIconPath()),(this.options.imagePath||Uo.imagePath)+zo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(m,T,C){var w=T.exec(m);return w&&w[C]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=tt("div","leaflet-default-icon-path",document.body),u=$i(o,"background-image")||$i(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Ss=Rn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new wi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ze(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,m=u._map,T=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,w=Ei(u._icon),P=m.getPixelBounds(),V=m.getPixelOrigin(),j=fe(P.min._subtract(V).add(C),P.max._subtract(V).subtract(C));if(!j.contains(w)){var oe=k((Math.max(j.max.x,w.x)-j.max.x)/(P.max.x-j.max.x)-(Math.min(j.min.x,w.x)-j.min.x)/(P.min.x-j.min.x),(Math.max(j.max.y,w.y)-j.max.y)/(P.max.y-j.max.y)-(Math.min(j.min.y,w.y)-j.min.y)/(P.min.y-j.min.y)).multiplyBy(T);m.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),Et(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Oe(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(ve(this._panRequest),this._panRequest=Oe(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,m=u._shadow,T=Ei(u._icon),C=u._map.layerPointToLatLng(T);m&&Et(m,T),u._latlng=C,o.latlng=C,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Bo=Ln.extend({options:{icon:new Uo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){O(this,u),this._latlng=de(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=de(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),T=!1;m!==this._icon&&(this._icon&&this._removeIcon(),T=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),ze(m,u),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(m,"focus",this._panOnFocus,this);var C=o.icon.createShadow(this._shadow),w=!1;C!==this._shadow&&(this._removeShadow(),w=!0),C&&(ze(C,u),C.alt=""),this._shadow=C,o.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&w&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Et(this._icon,o),this._shadow&&Et(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(ze(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ss)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ss(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&nn(this._icon,o),this._shadow&&nn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,m=u.iconSize?k(u.iconSize):k(0,0),T=u.iconAnchor?k(u.iconAnchor):k(0,0);o.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:m.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Es(o,u){return new Bo(o,u)}var fi=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return O(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Da=fi.extend({options:{fill:!0,radius:10},initialize:function(o,u){O(this,u),this._latlng=de(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=de(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return fi.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,m=this._clickTolerance(),T=[o+m,u+m];this._pxBounds=new X(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fl(o,u){return new Da(o,u)}var bs=Da.extend({initialize:function(o,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),O(this,u),this._latlng=de(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:fi.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,m=this._map,T=m.options.crs;if(T.distance===Je.distance){var C=Math.PI/180,w=this._mRadius/Je.R/C,P=m.project([u+w,o]),V=m.project([u-w,o]),j=P.add(V).divideBy(2),oe=m.unproject(j).lat,me=Math.acos((Math.cos(w*C)-Math.sin(u*C)*Math.sin(oe*C))/(Math.cos(u*C)*Math.cos(oe*C)))/C;(isNaN(me)||me===0)&&(me=w/Math.cos(Math.PI/180*u)),this._point=j.subtract(m.getPixelOrigin()),this._radius=isNaN(me)?0:j.x-m.project([oe,o-me]).x,this._radiusY=j.y-P.y}else{var ye=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ye).x}this._updateBounds()}});function Oc(o,u,m){return new bs(o,u,m)}var di=fi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){O(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,m=null,T=to,C,w,P=0,V=this._parts.length;P<V;P++)for(var j=this._parts[P],oe=1,me=j.length;oe<me;oe++){C=j[oe-1],w=j[oe];var ye=T(o,C,w,!0);ye<u&&(u=ye,m=T(o,C,w))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=de(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new re,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],m=Gt(o),T=0,C=o.length;T<C;T++)m?(u[T]=de(o[T]),this._bounds.extend(u[T])):u[T]=this._convertLatLngs(o[T]);return u},_project:function(){var o=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new ae(o,o);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,m){var T=o[0]instanceof _e,C=o.length,w,P;if(T){for(P=[],w=0;w<C;w++)P[w]=this._map.latLngToLayerPoint(o[w]),m.extend(P[w]);u.push(P)}else for(w=0;w<C;w++)this._projectLatlngs(o[w],u,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,T,C,w,P,V,j;for(m=0,C=0,w=this._rings.length;m<w;m++)for(j=this._rings[m],T=0,P=j.length;T<P-1;T++)V=Bl(j[T],j[T+1],o,T,!0),V&&(u[C]=u[C]||[],u[C].push(V[0]),(V[1]!==j[T+1]||T===P-2)&&(u[C].push(V[1]),C++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,m=0,T=o.length;m<T;m++)o[m]=zl(o[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var m,T,C,w,P,V,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,w=this._parts.length;m<w;m++)for(V=this._parts[m],T=0,P=V.length,C=P-1;T<P;C=T++)if(!(!u&&T===0)&&xs(o,V[C],V[T])<=j)return!0;return!1}});function zc(o,u){return new di(o,u)}di._flat=Vl;var Vo=di.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=di.prototype._convertLatLngs.call(this,o),m=u.length;return m>=2&&u[0]instanceof _e&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(o){di.prototype._setLatLngs.call(this,o),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,m=new ae(u,u);if(o=new X(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,C=this._rings.length,w;T<C;T++)w=Ol(this._rings[T],o,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,m,T,C,w,P,V,j,oe;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(w=0,j=this._parts.length;w<j;w++)for(m=this._parts[w],P=0,oe=m.length,V=oe-1;P<oe;V=P++)T=m[P],C=m[V],T.y>o.y!=C.y>o.y&&o.x<(C.x-T.x)*(o.y-T.y)/(C.y-T.y)+T.x&&(u=!u);return u||di.prototype._containsPoint.call(this,o,!0)}});function cn(o,u){return new Vo(o,u)}var fn=un.extend({initialize:function(o,u){O(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=Q(o)?o:o.features,m,T,C;if(u){for(m=0,T=u.length;m<T;m++)C=u[m],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var w=this.options;if(w.filter&&!w.filter(o))return this;var P=ka(o,w);return P?(P.feature=Ho(o),P.defaultOptions=P.options,this.resetStyle(P),w.onEachFeature&&w.onEachFeature(o,P),this.addLayer(P)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=l({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function ka(o,u){var m=o.type==="Feature"?o.geometry:o,T=m?m.coordinates:null,C=[],w=u&&u.pointToLayer,P=u&&u.coordsToLatLng||xr,V,j,oe,me;if(!T&&!m)return null;switch(m.type){case"Point":return V=P(T),ws(w,o,V,u);case"MultiPoint":for(oe=0,me=T.length;oe<me;oe++)V=P(T[oe]),C.push(ws(w,o,V,u));return new un(C);case"LineString":case"MultiLineString":return j=Pa(T,m.type==="LineString"?0:1,P),new di(j,u);case"Polygon":case"MultiPolygon":return j=Pa(T,m.type==="Polygon"?1:2,P),new Vo(j,u);case"GeometryCollection":for(oe=0,me=m.geometries.length;oe<me;oe++){var ye=ka({geometry:m.geometries[oe],type:"Feature",properties:o.properties},u);ye&&C.push(ye)}return new un(C);case"FeatureCollection":for(oe=0,me=m.features.length;oe<me;oe++){var Ce=ka(m.features[oe],u);Ce&&C.push(Ce)}return new un(C);default:throw new Error("Invalid GeoJSON object.")}}function ws(o,u,m,T){return o?o(u,m):new Bo(m,T&&T.markersInheritOptions&&T)}function xr(o){return new _e(o[1],o[0],o[2])}function Pa(o,u,m){for(var T=[],C=0,w=o.length,P;C<w;C++)P=u?Pa(o[C],u-1,m):(m||xr)(o[C]),T.push(P);return T}function Ia(o,u){return o=de(o),o.alt!==void 0?[N(o.lng,u),N(o.lat,u),N(o.alt,u)]:[N(o.lng,u),N(o.lat,u)]}function Tr(o,u,m,T){for(var C=[],w=0,P=o.length;w<P;w++)C.push(u?Tr(o[w],Gt(o[w])?0:u-1,m,T):Ia(o[w],T));return!u&&m&&C.length>0&&C.push(C[0].slice()),C}function Dn(o,u){return o.feature?l({},o.feature,{geometry:u}):Ho(u)}function Ho(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var io={toGeoJSON:function(o){return Dn(this,{type:"Point",coordinates:Ia(this.getLatLng(),o)})}};Bo.include(io),bs.include(io),Da.include(io),di.include({toGeoJSON:function(o){var u=!Gt(this._latlngs),m=Tr(this._latlngs,u?1:0,!1,o);return Dn(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),Vo.include({toGeoJSON:function(o){var u=!Gt(this._latlngs),m=u&&!Gt(this._latlngs[0]),T=Tr(this._latlngs,m?2:u?1:0,!0,o);return u||(T=[T]),Dn(this,{type:(m?"Multi":"")+"Polygon",coordinates:T})}}),no.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(o).geometry.coordinates)}),Dn(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var m=u==="GeometryCollection",T=[];return this.eachLayer(function(C){if(C.toGeoJSON){var w=C.toGeoJSON(o);if(m)T.push(w.geometry);else{var P=Ho(w);P.type==="FeatureCollection"?T.push.apply(T,P.features):T.push(P)}}}),m?Dn(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Cr(o,u){return new fn(o,u)}var Yl=Cr,Kn=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,m){this._url=o,this._bounds=he(u),O(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ze(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ki(this._image),this},bringToBack:function(){return this._map&&Ao(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=he(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:tt("img");if(ze(u,"leaflet-image-layer"),this._zoomAnimated&&ze(u,"leaflet-zoom-animated"),this.options.className&&ze(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=g(this.fire,this,"load"),u.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;_n(this._image,m,u)},_reset:function(){var o=this._image,u=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();Et(o,u.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),qo=function(o,u,m){return new Kn(o,u,m)},Sr=Kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:tt("video");if(ze(u,"leaflet-image-layer"),this._zoomAnimated&&ze(u,"leaflet-zoom-animated"),this.options.className&&ze(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=g(this.fire,this,"load"),o){for(var m=u.getElementsByTagName("source"),T=[],C=0;C<m.length;C++)T.push(m[C].src);this._url=m.length>0?T:[u.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var P=tt("source");P.src=this._url[w],u.appendChild(P)}}});function jl(o,u,m){return new Sr(o,u,m)}var Ai=Kn.extend({_initImage:function(){var o=this._image=this._url;ze(o,"leaflet-image-layer"),this._zoomAnimated&&ze(o,"leaflet-zoom-animated"),this.options.className&&ze(o,this.options.className),o.onselectstart=A,o.onmousemove=A}});function $l(o,u,m){return new Ai(o,u,m)}var kn=Ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof _e||Q(o))?(this._latlng=de(o),O(this,u)):(O(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&nn(this._container,1),this.bringToFront(),this.options.interactive&&(ze(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(nn(this._container,0),this._removeTimeout=setTimeout(g(gt,void 0,this._container),200)):gt(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=de(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ki(this._container),this},bringToBack:function(){return this._map&&Ao(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof un){u=null;var m=this._source._layers;for(var T in m)if(m[T]._map){u=m[T];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=k(this.options.offset),m=this._getAnchor();this._zoomAnimated?Et(this._container,o.add(m)):u=u.add(o).add(m);var T=this._containerBottom=-u.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=T+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Ge.include({_initOverlay:function(o,u,m,T){var C=u;return C instanceof o||(C=new o(T).setContent(u)),m&&C.setLatLng(m),C}}),Ln.include({_initOverlay:function(o,u,m,T){var C=m;return C instanceof o?(O(C,T),C._source=this):(C=u&&!T?u:new o(T,this),C.setContent(m)),C}});var Oa=kn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,kn.prototype.openOn.call(this,o)},onAdd:function(o){kn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fi||this._source.on("preclick",ci))},onRemove:function(o){kn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fi||this._source.off("preclick",ci))},getEvents:function(){var o=kn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=tt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=tt("div",o+"-content-wrapper",u);if(this._contentNode=tt("div",o+"-content",m),Po(u),ko(this._contentNode),Pe(u,"contextmenu",ci),this._tipContainer=tt("div",o+"-tip-container",u),this._tip=tt("div",o+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=tt("a",o+"-close-button",u);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(T,"click",function(C){Nt(C),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var T=o.offsetHeight,C=this.options.maxHeight,w="leaflet-popup-scrolled";C&&T>C?(u.height=C+"px",ze(o,w)):vt(o,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();Et(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt($i(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,T=this._containerWidth,C=new ae(this._containerLeft,-m-this._containerBottom);C._add(Ei(this._container));var w=o.layerPointToContainerPoint(C),P=k(this.options.autoPanPadding),V=k(this.options.autoPanPaddingTopLeft||P),j=k(this.options.autoPanPaddingBottomRight||P),oe=o.getSize(),me=0,ye=0;w.x+T+j.x>oe.x&&(me=w.x+T-oe.x+j.x),w.x-me-V.x<0&&(me=w.x-V.x),w.y+m+j.y>oe.y&&(ye=w.y+m-oe.y+j.y),w.y-ye-V.y<0&&(ye=w.y-V.y),(me||ye)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([me,ye]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Uc=function(o,u){return new Oa(o,u)};Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(o,u,m){return this._initOverlay(Oa,o,u,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Ln.include({bindPopup:function(o,u){return this._popup=this._initOverlay(Oa,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof un||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){$n(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof fi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Er=kn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){kn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){kn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=kn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,m,T=this._map,C=this._container,w=T.latLngToContainerPoint(T.getCenter()),P=T.layerPointToContainerPoint(o),V=this.options.direction,j=C.offsetWidth,oe=C.offsetHeight,me=k(this.options.offset),ye=this._getAnchor();V==="top"?(u=j/2,m=oe):V==="bottom"?(u=j/2,m=0):V==="center"?(u=j/2,m=oe/2):V==="right"?(u=0,m=oe/2):V==="left"?(u=j,m=oe/2):P.x<w.x?(V="right",u=0,m=oe/2):(V="left",u=j+(me.x+ye.x)*2,m=oe/2),o=o.subtract(k(u,m,!0)).add(me).add(ye),vt(C,"leaflet-tooltip-right"),vt(C,"leaflet-tooltip-left"),vt(C,"leaflet-tooltip-top"),vt(C,"leaflet-tooltip-bottom"),ze(C,"leaflet-tooltip-"+V),Et(C,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&nn(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bc=function(o,u){return new Er(o,u)};Ge.include({openTooltip:function(o,u,m){return this._initOverlay(Er,o,u,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Ln.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Er,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof un||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(Pe(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Pe(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,m,T;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),T=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(u)}});var As=zo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Kt(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var T=k(m.bgPos);u.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Kl(o){return new As(o)}zo.Default=Uo;var oo=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){O(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),gt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ki(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ao(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ae?o:new ae(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,m=-o(-1/0,1/0),T=0,C=u.length,w;T<C;T++)w=u[T].style.zIndex,u[T]!==this._container&&w&&(m=o(m,+w));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Se.ielt9){nn(this._container,this.options.opacity);var o=+new Date,u=!1,m=!1;for(var T in this._tiles){var C=this._tiles[T];if(!(!C.current||!C.loaded)){var w=Math.min(1,(o-C.loaded)/200);nn(C.el,w),w<1?u=!0:(C.active?m=!0:this._onOpaqueTile(C),C.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(ve(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=u-Math.abs(o-m),this._onUpdateLevel(m)):(gt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var T=this._levels[o],C=this._map;return T||(T=this._levels[o]={},T.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=u,T.origin=C.project(C.unproject(C.getPixelOrigin()),o).round(),T.zoom=o,this._setZoomTransform(T,C.getCenter(),C.getZoom()),A(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var o,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var T=u.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)gt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,m,T){var C=Math.floor(o/2),w=Math.floor(u/2),P=m-1,V=new ae(+C,+w);V.z=+P;var j=this._tileCoordsToKey(V),oe=this._tiles[j];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),P>T?this._retainParent(C,w,P,T):!1)},_retainChildren:function(o,u,m,T){for(var C=2*o;C<2*o+2;C++)for(var w=2*u;w<2*u+2;w++){var P=new ae(C,w);P.z=m+1;var V=this._tileCoordsToKey(P),j=this._tiles[V];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);m+1<T&&this._retainChildren(C,w,m+1,T)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,m,T){var C=Math.round(u);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var w=this.options.updateWhenZooming&&C!==this._tileZoom;(!T||w)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,u)},_setZoomTransform:function(o,u,m){var T=this._map.getZoomScale(m,o.zoom),C=o.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(u,m)).round();Se.any3d?_n(o.el,C,T):Et(o.el,C)},_resetGrid:function(){var o=this._map,u=o.options.crs,m=this._tileSize=this.getTileSize(),T=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],T).x/m.x),Math.ceil(o.project([0,u.wrapLng[1]],T).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],T).y/m.x),Math.ceil(o.project([u.wrapLat[1],0],T).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),T=u.getZoomScale(m,this._tileZoom),C=u.project(o,this._tileZoom).floor(),w=u.getSize().divideBy(T*2);return new X(C.subtract(w),C.add(w))},_update:function(o){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(o),C=this._pxBoundsToTileRange(T),w=C.getCenter(),P=[],V=this.options.keepBuffer,j=new X(C.getBottomLeft().subtract([V,-V]),C.getTopRight().add([V,-V]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var me=this._tiles[oe].coords;(me.z!==this._tileZoom||!j.contains(new ae(me.x,me.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var ye=C.min.y;ye<=C.max.y;ye++)for(var Ce=C.min.x;Ce<=C.max.x;Ce++){var De=new ae(Ce,ye);if(De.z=this._tileZoom,!!this._isValidTile(De)){var _t=this._tiles[this._tileCoordsToKey(De)];_t?_t.current=!0:P.push(De)}}if(P.sort(function(Ft,yn){return Ft.distanceTo(w)-yn.distanceTo(w)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var bt=document.createDocumentFragment();for(Ce=0;Ce<P.length;Ce++)this._addTile(P[Ce],bt);this._level.el.appendChild(bt)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!u.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(o);return he(this.options.bounds).overlaps(T)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,m=this.getTileSize(),T=o.scaleBy(m),C=T.add(m),w=u.unproject(T,o.z),P=u.unproject(C,o.z);return[w,P]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),m=new re(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),m=new ae(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(o){var u=this._tiles[o];u&&(gt(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){ze(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=A,o.onmousemove=A,Se.ielt9&&this.options.opacity<1&&nn(o,this.options.opacity)},_addTile:function(o,u){var m=this._getTilePos(o),T=this._tileCoordsToKey(o),C=this.createTile(this._wrapCoords(o),g(this._tileReady,this,o));this._initTile(C),this.createTile.length<2&&Oe(g(this._tileReady,this,o,null,C)),Et(C,m),this._tiles[T]={el:C,coords:o,current:!0},u.appendChild(C),this.fire("tileloadstart",{tile:C,coords:o})},_tileReady:function(o,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:o});var T=this._tileCoordsToKey(o);m=this._tiles[T],m&&(m.loaded=+new Date,this._map._fadeAnimated?(nn(m.el,0),ve(this._fadeFrame),this._fadeFrame=Oe(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(ze(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Se.ielt9||!this._map._fadeAnimated?Oe(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new ae(this._wrapX?E(o.x,this._wrapX):o.x,this._wrapY?E(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new X(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Pn(o){return new oo(o)}var ao=oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=O(this,u),u.detectRetina&&Se.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var m=document.createElement("img");return Pe(m,"load",g(this._tileOnLoad,this,u,m)),Pe(m,"error",g(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var u={r:Se.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=m),u["-y"]=m}return Y(this._url,l(u,this.options))},_tileOnLoad:function(o,u){Se.ielt9?setTimeout(g(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,m){var T=this.options.errorTileUrl;T&&u.getAttribute("src")!==T&&(u.src=T),o(m,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,T=this.options.zoomOffset;return m&&(o=u-o),o+T},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=A,u.onerror=A,!u.complete)){u.src=K;var m=this._tiles[o].coords;gt(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",K),oo.prototype._removeTile.call(this,o)},_tileReady:function(o,u,m){if(!(!this._map||m&&m.getAttribute("src")===K))return oo.prototype._tileReady.call(this,o,u,m)}});function dn(o,u){return new ao(o,u)}var hn=ao.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var m=l({},this.defaultWmsParams);for(var T in u)T in this.options||(m[T]=u[T]);u=O(this,u);var C=u.detectRetina&&Se.retina?2:1,w=this.getTileSize();m.width=w.x*C,m.height=w.y*C,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ao.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),m=this._crs,T=fe(m.project(u[0]),m.project(u[1])),C=T.min,w=T.max,P=(this._wmsVersion>=1.3&&this._crs===Zl?[C.y,C.x,w.y,w.x]:[C.x,C.y,w.x,w.y]).join(","),V=ao.prototype.getTileUrl.call(this,o);return V+J(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(o,u){return l(this.wmsParams,o),u||this.redraw(),this}});function Zo(o,u){return new hn(o,u)}ao.WMS=hn,dn.wms=Zo;var In=Ln.extend({options:{padding:.1},initialize:function(o){O(this,o),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ze(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var m=this._map.getZoomScale(u,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,u),w=T.multiplyBy(-m).add(C).subtract(this._map._getNewPixelOrigin(o,u));Se.any3d?_n(this._container,w,m):Et(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new X(m,m.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),za=In.extend({options:{tolerance:0},getEvents:function(){var o=In.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){In.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Pe(o,"mousemove",this._onMouseMove,this),Pe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){ve(this._redrawRequest),delete this._ctx,gt(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){In.prototype._update.call(this);var o=this._bounds,u=this._container,m=o.getSize(),T=Se.retina?2:1;Et(u,o.min),u.width=T*m.x,u.height=T*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Se.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){In.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[x(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,m=u.next,T=u.prev;m?m.prev=T:this._drawLast=T,T?T.next=m:this._drawFirst=m,delete o._order,delete this._layers[x(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),m=[],T,C;for(C=0;C<u.length;C++){if(T=Number(u[C]),isNaN(T))return;m.push(T)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Oe(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)o=T.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var m,T,C,w,P=o._parts,V=P.length,j=this._ctx;if(V){for(j.beginPath(),m=0;m<V;m++){for(T=0,C=P[m].length;T<C;T++)w=P[m][T],j[T?"lineTo":"moveTo"](w.x,w.y);u&&j.closePath()}this._fillStroke(j,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,m=this._ctx,T=Math.max(Math.round(o._radius),1),C=(Math.max(Math.round(o._radiusY),1)||T)/T;C!==1&&(m.save(),m.scale(1,C)),m.beginPath(),m.arc(u.x,u.y/C,T,0,Math.PI*2,!1),C!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,u){var m=u.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),m,T,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(T=m);this._fireEvent(T?[T]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(vt(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var m,T,C=this._drawFirst;C;C=C.next)m=C.layer,m.options.interactive&&m._containsPoint(u)&&(T=m);T!==this._hoveredLayer&&(this._handleMouseOut(o),T&&(ze(this._container,"leaflet-interactive"),this._fireEvent([T],o,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,m){this._map._fireDOMEvent(u,m||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var m=u.next,T=u.prev;if(m)m.prev=T;else return;T?T.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var m=u.next,T=u.prev;if(T)T.next=m;else return;m?m.prev=T:T&&(this._drawLast=T),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function Ua(o){return Se.canvas?new za(o):null}var ro=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Go={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(In.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=ro("shape");ze(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=ro("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[x(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;gt(u),o.removeInteractiveTarget(u),delete this._layers[x(o)]},_updateStyle:function(o){var u=o._stroke,m=o._fill,T=o.options,C=o._container;C.stroked=!!T.stroke,C.filled=!!T.fill,T.stroke?(u||(u=o._stroke=ro("stroke")),C.appendChild(u),u.weight=T.weight+"px",u.color=T.color,u.opacity=T.opacity,T.dashArray?u.dashStyle=Q(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=T.lineCap.replace("butt","flat"),u.joinstyle=T.lineJoin):u&&(C.removeChild(u),o._stroke=null),T.fill?(m||(m=o._fill=ro("fill")),C.appendChild(m),m.color=T.fillColor||T.color,m.opacity=T.fillOpacity):m&&(C.removeChild(m),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),m=Math.round(o._radius),T=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+T+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){Ki(o._container)},_bringToBack:function(o){Ao(o._container)}},Ba=Se.vml?ro:Co,Mi=In.extend({_initContainer:function(){this._container=Ba("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ba("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gt(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){In.prototype._update.call(this);var o=this._bounds,u=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),Et(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=Ba("path");o.options.className&&ze(u,o.options.className),o.options.interactive&&ze(u,"leaflet-interactive"),this._updateStyle(o),this._layers[x(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){gt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[x(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,m=o.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,ya(o._parts,u))},_updateCircle:function(o){var u=o._point,m=Math.max(Math.round(o._radius),1),T=Math.max(Math.round(o._radiusY),1)||m,C="a"+m+","+T+" 0 1,0 ",w=o._empty()?"M0 0":"M"+(u.x-m)+","+u.y+C+m*2+",0 "+C+-m*2+",0 ";this._setPath(o,w)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){Ki(o._path)},_bringToBack:function(o){Ao(o._path)}});Se.vml&&Mi.include(Go);function so(o){return Se.svg||Se.vml?new Mi(o):null}Ge.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&Ua(o)||so(o)}});var Jl=Vo.extend({initialize:function(o,u){Vo.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=he(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function mn(o,u){return new Jl(o,u)}Mi.create=Ba,Mi.pointsToPath=ya,fn.geometryToLayer=ka,fn.coordsToLatLng=xr,fn.coordsToLatLngs=Pa,fn.latLngToCoords=Ia,fn.latLngsToCoords=Tr,fn.getFeature=Dn,fn.asFeature=Ho,Ge.mergeOptions({boxZoom:!0});var br=Rn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Fn(),wa(),this._startPoint=this._map.mouseEventToContainerPoint(o),Pe(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),ze(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new X(this._point,this._startPoint),m=u.getSize();Et(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(gt(this._box),vt(this._container,"leaflet-crosshair")),ba(),ms(),ot(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var u=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ge.addInitHook("addHandler","boxZoom",br),Ge.mergeOptions({doubleClickZoom:!0});var Jn=Rn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,m=u.getZoom(),T=u.options.zoomDelta,C=o.originalEvent.shiftKey?m-T:m+T;u.options.doubleClickZoom==="center"?u.setZoom(C):u.setZoomAround(o.containerPoint,C)}});Ge.addInitHook("addHandler","doubleClickZoom",Jn),Ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ms=Rn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new wi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}ze(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=he(this._map.options.maxBounds);this._offsetLimit=fe(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),m=this._initialWorldOffset,T=this._draggable._newPos.x,C=(T-u+m)%o+u-m,w=(T+u+m)%o-u-m,P=Math.abs(C+m)<Math.abs(w+m)?C:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(o){var u=this._map,m=u.options,T=!m.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),T)u.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,P=m.easeLinearity,V=C.multiplyBy(P/w),j=V.distanceTo([0,0]),oe=Math.min(m.inertiaMaxSpeed,j),me=V.multiplyBy(oe/j),ye=oe/(m.inertiaDeceleration*P),Ce=me.multiplyBy(-ye/2).round();!Ce.x&&!Ce.y?u.fire("moveend"):(Ce=u._limitOffset(Ce,u.options.maxBounds),Oe(function(){u.panBy(Ce,{duration:ye,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});Ge.addInitHook("addHandler","dragging",Ms),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Va=Rn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Pe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,m=o.scrollTop||u.scrollTop,T=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(T,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},m=this.keyCodes,T,C;for(T=0,C=m.left.length;T<C;T++)u[m.left[T]]=[-1*o,0];for(T=0,C=m.right.length;T<C;T++)u[m.right[T]]=[o,0];for(T=0,C=m.down.length;T<C;T++)u[m.down[T]]=[0,o];for(T=0,C=m.up.length;T<C;T++)u[m.up[T]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},m=this.keyCodes,T,C;for(T=0,C=m.zoomIn.length;T<C;T++)u[m.zoomIn[T]]=o;for(T=0,C=m.zoomOut.length;T<C;T++)u[m.zoomOut[T]]=-o},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,m=this._map,T;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(T=this._panKeys[u],o.shiftKey&&(T=k(T).multiplyBy(3)),m.options.maxBounds&&(T=m._limitOffset(k(T),m.options.maxBounds)),m.options.worldCopyJump){var C=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(T)));m.panTo(C)}else m.panBy(T)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;$n(o)}}});Ge.addInitHook("addHandler","keyboard",Va),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ni=Rn.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=Na(o),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var T=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),T),$n(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,w=m?Math.ceil(C/m)*m:C,P=o._limitZoom(u+(this._delta>0?w:-w))-u;this._delta=0,this._startTime=null,P&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+P):o.setZoomAround(this._lastMousePos,u+P))}});Ge.addInitHook("addHandler","scrollWheelZoom",Ni);var Ns=600;Ge.mergeOptions({tapHold:Se.touchNative&&Se.safari&&Se.mobile,tapTolerance:15});var wr=Rn.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new ae(u.clientX,u.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",Nt),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ns),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){ot(document,"touchend",Nt),ot(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new ae(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Ge.addInitHook("addHandler","tapHold",wr),Ge.mergeOptions({touchZoom:Se.touch,bounceAtZoomLimits:!0});var lo=Rn.extend({addHooks:function(){ze(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(o.touches[0]),T=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(T)._divideBy(2))),this._startDist=m.distanceTo(T),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),Nt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(o.touches[0]),T=u.mouseEventToContainerPoint(o.touches[1]),C=m.distanceTo(T)/this._startDist;if(this._zoom=u.getScaleZoom(C,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&C<1||this._zoom>u.getMaxZoom()&&C>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var w=m._add(T)._divideBy(2)._subtract(this._centerPoint);if(C===1&&w.x===0&&w.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),ve(this._animRequest);var P=g(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Oe(P,this,!0),Nt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ve(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ge.addInitHook("addHandler","touchZoom",lo),Ge.BoxZoom=br,Ge.DoubleClickZoom=Jn,Ge.Drag=Ms,Ge.Keyboard=Va,Ge.ScrollWheelZoom=Ni,Ge.TapHold=wr,Ge.TouchZoom=lo,t.Bounds=X,t.Browser=Se,t.CRS=mt,t.Canvas=za,t.Circle=bs,t.CircleMarker=Da,t.Class=He,t.Control=on,t.DivIcon=As,t.DivOverlay=kn,t.DomEvent=Ec,t.DomUtil=Dl,t.Draggable=wi,t.Evented=ue,t.FeatureGroup=un,t.GeoJSON=fn,t.GridLayer=oo,t.Handler=Rn,t.Icon=zo,t.ImageOverlay=Kn,t.LatLng=_e,t.LatLngBounds=re,t.Layer=Ln,t.LayerGroup=no,t.LineUtil=Hl,t.Map=Ge,t.Marker=Bo,t.Mixin=Nc,t.Path=fi,t.Point=ae,t.PolyUtil=Rc,t.Polygon=Vo,t.Polyline=di,t.Popup=Oa,t.PosAnimation=mr,t.Projection=ql,t.Rectangle=Jl,t.Renderer=In,t.SVG=Mi,t.SVGOverlay=Ai,t.TileLayer=ao,t.Tooltip=Er,t.Transformation=bn,t.Util=Ye,t.VideoOverlay=Sr,t.bind=g,t.bounds=fe,t.canvas=Ua,t.circle=Oc,t.circleMarker=Fl,t.control=Io,t.divIcon=Kl,t.extend=l,t.featureGroup=La,t.geoJSON=Cr,t.geoJson=Yl,t.gridLayer=Pn,t.icon=yr,t.imageOverlay=qo,t.latLng=de,t.latLngBounds=he,t.layerGroup=Gl,t.map=Ra,t.marker=Es,t.point=k,t.polygon=cn,t.polyline=zc,t.popup=Uc,t.rectangle=mn,t.setOptions=O,t.stamp=x,t.svg=so,t.svgOverlay=$l,t.tileLayer=dn,t.tooltip=Bc,t.transformation=qn,t.version=r,t.videoOverlay=jl;var Fo=window.L;t.noConflict=function(){return window.L=Fo,this},window.L=t})}(gl,gl.exports)),gl.exports}var sT=rT();const Sn=Fd(sT),lT=({item:a,onClose:n})=>{var ce;const{photo:t,recording:r,project:l}=a,[f,g]=z.useState(!1),[y,x]=z.useState(!1),[v,E]=z.useState(1),[A,N]=z.useState(!1),D=z.useRef(null),R=z.useRef(null),O=z.useRef(null),J=z.useRef(null),H=(ce=r==null?void 0:r.voiceNotes)==null?void 0:ce[0];z.useEffect(()=>(D.current&&(H!=null&&H.audioBase64)&&(D.current.src=H.audioBase64,D.current.volume=v,D.current.muted=y),()=>{D.current&&(D.current.pause(),D.current.removeAttribute("src"),D.current.load())}),[H,v,y]),z.useEffect(()=>{if(R.current&&!O.current&&(l!=null&&l.technicalSheet.latitude)&&(l!=null&&l.technicalSheet.longitude)){const pe=l.technicalSheet.latitude,we=l.technicalSheet.longitude,se=Sn.map(R.current,{center:[pe,we],zoom:13,zoomControl:!1,attributionControl:!1});Sn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(se),Sn.marker([pe,we]).addTo(se),O.current=se,setTimeout(()=>se.invalidateSize(),100)}return()=>{O.current&&(O.current.remove(),O.current=null)}},[l]);const Y=()=>{D.current&&(f?D.current.pause():D.current.play().catch(pe=>console.error("Error playing audio:",pe)),g(!f))},Q=pe=>{const we=parseFloat(pe.target.value);E(we),D.current&&(D.current.volume=we)},W=()=>{x(!y),D.current&&(D.current.muted=!y)},K=()=>{J.current&&(document.fullscreenElement?document.exitFullscreen().then(()=>N(!1)).catch(pe=>console.error(pe)):J.current.requestFullscreen().then(()=>N(!0)).catch(pe=>console.error(pe)))};return z.useEffect(()=>{const pe=()=>{N(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",pe),()=>document.removeEventListener("fullscreenchange",pe)},[]),S.jsxs("div",{ref:J,className:"fixed inset-0 bg-black/90 flex flex-col items-center justify-center z-50 p-0 overflow-hidden",role:"dialog","aria-modal":"true",children:[S.jsx("img",{src:t.url,alt:t.caption,className:"absolute inset-0 w-full h-full object-contain z-0"}),S.jsxs("div",{className:"relative z-10 w-full h-full flex flex-col justify-between",children:[S.jsxs("div",{className:"w-full p-3 flex justify-between items-start",children:[S.jsx(Ve,{onClick:n,variant:"ghost",size:"sm",className:"p-1.5 bg-black/50 hover:bg-black/70 rounded-full","aria-label":"Cerrar modal",children:S.jsx(c_,{className:"w-6 h-6 text-white"})}),(l==null?void 0:l.technicalSheet.latitude)&&(l==null?void 0:l.technicalSheet.longitude)&&S.jsx("div",{ref:R,className:"w-40 h-28 md:w-48 md:h-32 border-2 border-white/50 rounded-md shadow-lg bg-gray-700","aria-label":"Mapa de ubicación de la grabación"})]}),S.jsxs("div",{className:"text-center p-2 bg-black/30 backdrop-blur-sm",children:[S.jsx("p",{className:"text-sm font-medium text-white truncate",id:"imageModalCaption",children:t.caption}),r&&S.jsxs("p",{className:"text-xs text-gray-300 truncate",children:["Grabación: ",r.title]}),l&&S.jsxs("p",{className:"text-xs text-gray-300 truncate",children:["Proyecto: ",l.name]})]}),S.jsxs("div",{className:"w-full p-3 bg-black/50 backdrop-blur-sm flex justify-between items-center",children:[S.jsx(Ve,{onClick:K,variant:"ghost",size:"sm",className:"p-1.5","aria-label":A?"Salir de pantalla completa":"Pantalla completa",children:S.jsx(Kx,{className:"w-6 h-6 text-white"})}),H&&S.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[S.jsx(Ve,{onClick:Y,variant:"ghost",size:"sm",className:"p-1.5","aria-label":f?"Pausar":"Reproducir",children:f?S.jsx(Xx,{className:"w-6 h-6 text-white"}):S.jsx(Jx,{className:"w-6 h-6 text-white"})}),S.jsx(Ve,{onClick:W,variant:"ghost",size:"sm",className:"p-1.5","aria-label":y?"Activar sonido":"Silenciar",children:y?S.jsx(Wx,{className:"w-6 h-6 text-white"}):S.jsx(Qx,{className:"w-6 h-6 text-white"})}),S.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:v,onChange:Q,className:"w-16 md:w-24 h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-primary","aria-label":"Control de volumen",disabled:y})]}),S.jsxs("div",{className:"w-10 h-10",children:[" ",!H&&S.jsx("span",{children:" "})]})]})]}),S.jsx("audio",{ref:D,onPlay:()=>g(!0),onPause:()=>g(!1),onEnded:()=>g(!1),onVolumeChange:()=>{D.current&&(E(D.current.volume),x(D.current.muted))},className:"hidden"})]})},uT=a=>{const n=Math.floor(a/60),t=Math.floor(a%60);return`${n}:${t<10?"0":""}${t}`},cT=()=>{const a=z.useContext(qi),[n,t]=z.useState("all"),[r,l]=z.useState(null),[f,g]=z.useState(null),y=jd.useRef(null),x=z.useMemo(()=>{if(!a)return[];const{projects:N,recordings:D}=a;let R=[];return D.forEach(O=>{const J=N.find(H=>H.id===O.projectId);O.photos.forEach(H=>{R.push({...H,type:"photo",recordingId:O.id,projectId:O.projectId,recordingTitle:O.title,project:J})}),O.voiceNotes.forEach(H=>{R.push({...H,type:"audio",recordingId:O.id,projectId:O.projectId,recordingTitle:O.title,project:J})})}),R.sort((O,J)=>(J.id.split("_")[1]||0)>(O.id.split("_")[1]||0)?1:-1)},[a]),v=z.useMemo(()=>n==="all"?x:x.filter(N=>N.type===n),[x,n]),E=N=>{if(!a)return;const D=a.recordings.find(O=>O.id===N.recordingId),R=a.projects.find(O=>O.id===N.projectId);l({photo:N,recording:D,project:R})},A=N=>{if(N.audioBase64){const D=N.audioBase64;y.current&&(f===N.id?(y.current.pause(),g(null)):(y.current.src=D,y.current.play().then(()=>g(N.id)).catch(R=>console.error("Error playing audio:",R))))}};return z.useEffect(()=>{const N=y.current,D=()=>g(null);return N&&N.addEventListener("ended",D),()=>{N&&N.removeEventListener("ended",D)}},[f]),a?S.jsxs("div",{className:"pb-20",children:[S.jsx(Ui,{title:"Galería Multimedia"}),S.jsxs("div",{className:"p-4",children:[S.jsxs("div",{className:"flex space-x-2 mb-6 sticky top-[65px] bg-brand-dark-bg py-2 z-10",children:[S.jsx(Ve,{variant:n==="all"?"primary":"secondary",onClick:()=>t("all"),children:"Todo"}),S.jsx(Ve,{variant:n==="photos"?"primary":"secondary",onClick:()=>t("photos"),children:"Fotos"}),S.jsx(Ve,{variant:n==="audio"?"primary":"secondary",onClick:()=>t("audio"),children:"Audio"})]}),v.length===0&&S.jsxs("p",{className:"text-center text-brand-text-dim",children:["No hay ",n!=="all"?n==="photos"?"fotos":"notas de voz":"elementos multimedia"," para mostrar."]}),S.jsxs("div",{className:"space-y-6",children:[(n==="all"||n==="photos")&&v.filter(N=>N.type==="photo").length>0&&S.jsxs("section",{children:[S.jsxs("h2",{className:"text-xl font-semibold text-brand-text-light mb-3 flex items-center",children:[S.jsx(ih,{className:"w-6 h-6 mr-2 text-brand-primary"})," Fotos"]}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:v.filter(N=>N.type==="photo").map(N=>{const D=N;return S.jsx("div",{className:"aspect-square bg-brand-dark-card rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow cursor-pointer group",onClick:()=>E(D),role:"button","aria-label":`Ver foto: ${D.caption}`,children:S.jsx("img",{src:D.url,alt:D.caption,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})},D.id)})})]}),(n==="all"||n==="audio")&&v.filter(N=>N.type==="audio").length>0&&S.jsxs("section",{children:[S.jsxs("h2",{className:"text-xl font-semibold text-brand-text-light mb-3 flex items-center",children:[S.jsx(oh,{className:"w-6 h-6 mr-2 text-brand-primary"})," Notas de Voz"]}),S.jsx("div",{className:"space-y-3",children:v.filter(N=>N.type==="audio").map(N=>{const D=N;return S.jsxs("div",{className:"bg-brand-dark-card p-3 rounded-lg shadow",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h3",{className:"text-md font-medium text-brand-text-light",children:D.title}),D.audioBase64&&S.jsxs(Ve,{onClick:()=>A(D),variant:"ghost",size:"sm",className:"p-1",children:[f===D.id?"❚❚":"►"," ",S.jsx("span",{className:"sr-only",children:"Reproducir/Pausar"})]})]}),S.jsxs("p",{className:"text-xs text-brand-text-dim",children:['En: "',D.recordingTitle,'" ',D.project?`(Proyecto: ${D.project.name})`:""]}),D.duration!==void 0&&S.jsxs("p",{className:"text-xs text-brand-text-dim",children:["Duración: ",uT(D.duration)]}),D.transcription&&S.jsxs("p",{className:"mt-1 text-xs italic text-brand-text-dim border-l-2 border-brand-primary/50 pl-1.5",children:[S.jsx(Qa,{className:"w-3 h-3 mr-0.5 inline-block opacity-70"})," AI: ",D.transcription]})]},D.id)})})]})]})]}),r&&S.jsx(lT,{item:r,onClose:()=>l(null)}),S.jsx("audio",{ref:y,className:"hidden"})]}):S.jsxs(S.Fragment,{children:[S.jsx(Ui,{title:"Galería Multimedia"}),S.jsx("p",{className:"p-4 text-center text-brand-text-dim",children:"Cargando..."})]})},sn=({id:a,label:n,type:t="text",value:r,onChange:l,placeholder:f,required:g=!1,rows:y=3,name:x,step:v})=>{const E="w-full p-3 bg-brand-dark-card dark:bg-slate-700 border border-brand-dark-border dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent outline-none transition-colors text-brand-text-light dark:text-gray-200 placeholder-brand-text-dim";return S.jsxs("div",{className:"mb-4",children:[S.jsxs("label",{htmlFor:a,className:"block text-sm font-medium text-brand-text-dim dark:text-gray-400 mb-1",children:[n," ",g&&S.jsx("span",{className:"text-red-500",children:"*"})]}),t==="textarea"?S.jsx("textarea",{id:a,name:x||a,rows:y,value:r,onChange:l,placeholder:f,required:g,className:E}):S.jsx("input",{id:a,name:x||a,type:t,value:r,onChange:l,placeholder:f,required:g,step:t==="number"?v||"any":void 0,className:E})]})};async function fT(a){if(!a.trim())return console.warn("Location name is empty, cannot geocode."),alert("Por favor, introduce un nombre de ubicación para buscar coordenadas."),null;const n=encodeURIComponent(a),t="soundXcape_Dev_App/1.0 (Development Build; for app soundXcape)",r=`https://nominatim.openstreetmap.org/search?q=${n}&format=json&limit=1&addressdetails=0`;try{const l=await fetch(r,{method:"GET",headers:{"User-Agent":t}});if(!l.ok){console.error(`Nominatim API error: ${l.status} ${l.statusText}. URL: ${r}`);const g=await l.text();return console.error("Nominatim response body:",g),alert(`Error al contactar el servicio de geolocalización: ${l.statusText}. Por favor, inténtalo más tarde.`),null}const f=await l.json();if(f&&f.length>0){const g=f[0],y=parseFloat(g.lat),x=parseFloat(g.lon);return!isNaN(y)&&!isNaN(x)?{latitude:y,longitude:x}:(console.warn(`Invalid coordinates received from Nominatim for ${a}: lat=${g.lat}, lon=${g.lon}`),alert(`No se pudieron obtener coordenadas válidas para "${a}".`),null)}return console.warn(`No coordinates found for location: ${a}`),alert(`No se encontraron coordenadas para "${a}". Intenta con un nombre de ubicación más específico o diferente.`),null}catch(l){return console.error("Error fetching coordinates from Nominatim:",l),alert(`Ocurrió un error al buscar las coordenadas: ${l instanceof Error?l.message:String(l)}`),null}}const mg=()=>{const a=Hi(),{projectId:n}=Xd(),t=z.useContext(qi),r=!!n,[l,f]=z.useState(""),[g,y]=z.useState(""),[x,v]=z.useState(""),[E,A]=z.useState(new Date().toISOString().split("T")[0]),[N,D]=z.useState(""),[R,O]=z.useState({microphone:"",recorder:"",settings:"",latitude:void 0,longitude:void 0}),[J,H]=z.useState(!1),[Y,Q]=z.useState(null),W=z.useRef(null),K=z.useRef(null),ce=z.useRef(null);if(z.useEffect(()=>{if(r&&n&&t){const ve=t.projects.find(Ye=>Ye.id===n);ve?(f(ve.name),y(ve.location),v(ve.theme),A(ve.date),D(ve.notes),O(ve.technicalSheet)):a("/")}},[n,r,t==null?void 0:t.projects,a]),z.useEffect(()=>{if(ce.current&&!W.current){const ve=R.latitude??51.505,Ye=R.longitude??-.09,He=R.latitude&&R.longitude?13:2,Qe=Sn.map(ce.current).setView([ve,Ye],He);W.current=Qe,Sn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(Qe),Qe.on("click",$=>{const{lat:ue,lng:ae}=$.latlng;O(je=>({...je,latitude:parseFloat(ue.toFixed(6)),longitude:parseFloat(ae.toFixed(6))}))})}return()=>{W.current&&(W.current.remove(),W.current=null)}},[R.latitude,R.longitude]),z.useEffect(()=>{const ve=W.current;if(ve){const{latitude:Ye,longitude:He}=R;if(Ye!==void 0&&He!==void 0){const Qe=Sn.latLng(Ye,He);if(K.current)K.current.setLatLng(Qe);else{const $=Sn.marker(Qe,{draggable:!0}).addTo(ve);$.on("dragend",ue=>{const{lat:ae,lng:je}=ue.target.getLatLng();O(k=>({...k,latitude:parseFloat(ae.toFixed(6)),longitude:parseFloat(je.toFixed(6))}))}),K.current=$}ve.setView(Qe,ve.getZoom()<5?13:ve.getZoom())}else K.current&&(K.current.remove(),K.current=null)}},[R.latitude,R.longitude]),!t)return S.jsx("p",{children:"Cargando contexto..."});const{addProject:pe,updateProject:we}=t,se=ve=>{const{name:Ye,value:He,type:Qe}=ve.target,$=Qe==="number"?He===""?void 0:parseFloat(He):He;O(ue=>({...ue,[Ye]:$}))},Ae=async()=>{if(!g.trim()){Q("Por favor, ingresa un nombre de ubicación primero.");return}H(!0),Q(null);const ve=await fT(g);H(!1),ve&&O(Ye=>({...Ye,latitude:ve.latitude,longitude:ve.longitude}))},Oe=ve=>{if(ve.preventDefault(),!l||!g||!x||!E){alert("Por favor, completa todos los campos obligatorios: Nombre, Ubicación, Tema y Fecha.");return}const Ye={id:n||`proj_${Date.now()}`,name:l,location:g,theme:x,date:E,notes:N,technicalSheet:R};r?we(Ye):pe(Ye),a(r?`/project/${n}`:`/project/${Ye.id}`)};return S.jsxs("div",{children:[S.jsx(Ui,{title:r?"Editar Proyecto":"Nuevo Proyecto",showBackButton:!0}),S.jsxs("form",{onSubmit:Oe,className:"p-4 space-y-6 max-w-2xl mx-auto",children:[S.jsx(sn,{id:"name",label:"Nombre del Proyecto",value:l,onChange:ve=>f(ve.target.value),required:!0}),S.jsxs("div",{children:[S.jsx(sn,{id:"location",label:"Ubicación",value:g,onChange:ve=>y(ve.target.value),required:!0}),S.jsxs(Ve,{type:"button",onClick:Ae,variant:"secondary",size:"sm",className:"mt-1 text-sm",disabled:J||!g.trim(),children:[S.jsx($x,{className:"w-4 h-4 mr-1 inline-block"}),J?"Buscando...":"Obtener Coordenadas desde Ubicación"]}),Y&&S.jsx("p",{className:"text-red-500 text-xs mt-1",children:Y})]}),S.jsx(sn,{id:"theme",label:"Tema",value:x,onChange:ve=>v(ve.target.value),required:!0}),S.jsx(sn,{id:"date",label:"Fecha",type:"date",value:E,onChange:ve=>A(ve.target.value),required:!0}),S.jsx(sn,{id:"notes",label:"Notas",type:"textarea",value:N,onChange:ve=>D(ve.target.value)}),S.jsxs("div",{className:"pt-4 mt-4 border-t border-brand-dark-border dark:border-slate-700",children:[S.jsx("h2",{className:"text-lg font-semibold mb-3 text-brand-text-light dark:text-gray-200",children:"Ficha Técnica y Coordenadas"}),S.jsx("p",{className:"text-sm text-brand-text-dim mb-2",children:"Haz clic en el mapa para seleccionar la ubicación o ingresa las coordenadas manualmente. El marcador es arrastrable."}),S.jsx("div",{id:"map-container-project",ref:ce,className:"h-72 w-full rounded-lg shadow-md mb-4 bg-brand-dark-card border border-brand-dark-border","aria-label":"Mapa para seleccionar ubicación del proyecto"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4",children:[S.jsx(sn,{id:"latitude",name:"latitude",label:"Latitud",type:"number",value:R.latitude===void 0?"":R.latitude,onChange:se,placeholder:"Ej: 40.7128",step:"any"}),S.jsx(sn,{id:"longitude",name:"longitude",label:"Longitud",type:"number",value:R.longitude===void 0?"":R.longitude,onChange:se,placeholder:"Ej: -74.0060",step:"any"})]}),S.jsx(sn,{id:"microphone",name:"microphone",label:"Micrófono",value:R.microphone,onChange:se}),S.jsx(sn,{id:"recorder",name:"recorder",label:"Grabadora",value:R.recorder,onChange:se}),S.jsx(sn,{id:"settings",name:"settings",label:"Configuración",value:R.settings,onChange:se})]}),S.jsx(Ve,{type:"submit",variant:"primary",size:"lg",className:"w-full",children:r?"Guardar Cambios":"Crear Proyecto"})]})]})},dT=a=>{const n=Math.floor(a/60),t=Math.floor(a%60);return`${n}:${t<10?"0":""}${t}`},hT=({recording:a,onEdit:n,onDelete:t,onUpdateVoiceNote:r})=>{const[l,f]=z.useState(null),g=jd.useRef(null),y=x=>{if(x.audioBase64&&x.audioType)if(l===x.id&&g.current)g.current.pause(),f(null);else{const v=x.audioBase64;g.current&&(g.current.src=v,g.current.play().then(()=>f(x.id)).catch(E=>console.error("Error playing audio:",E)))}};return z.useEffect(()=>{const x=g.current,v=()=>f(null);return x&&x.addEventListener("ended",v),()=>{x&&x.removeEventListener("ended",v)}},[l]),S.jsxs("div",{className:"bg-brand-dark-card dark:bg-slate-700 p-3 rounded-lg mb-3 shadow-md transition-all hover:shadow-lg",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-semibold text-brand-text-light dark:text-gray-100 text-lg",children:a.title}),S.jsx("p",{className:"text-xs text-brand-text-dim dark:text-gray-400 mb-1",children:new Date(a.timestamp).toLocaleString()}),a.description&&S.jsx("p",{className:"text-sm text-brand-text-dim dark:text-gray-300 mb-2 text-ellipsis line-clamp-2",children:a.description})]}),S.jsxs("div",{className:"flex space-x-1",children:[S.jsx(Ve,{onClick:n,variant:"ghost",size:"sm",className:"p-1","aria-label":"Editar grabación",children:S.jsx(h_,{className:"w-4 h-4 text-brand-primary"})}),S.jsx(Ve,{onClick:t,variant:"ghost",size:"sm",className:"p-1","aria-label":"Eliminar grabación",children:S.jsx(Ad,{className:"w-4 h-4 text-red-500"})})]})]}),a.tags&&a.tags.length>0&&S.jsx("div",{className:"mt-1 mb-2 flex flex-wrap gap-1",children:a.tags.map(x=>S.jsx("span",{className:"text-xs bg-brand-primary/20 text-brand-primary px-1.5 py-0.5 rounded-full",children:x},x))}),S.jsxs("div",{className:"mt-2 space-y-2",children:[a.photos.length>0&&S.jsxs("div",{className:"flex items-center text-xs text-brand-text-dim dark:text-gray-400",children:[S.jsx(ih,{className:"w-3.5 h-3.5 mr-1.5 text-brand-secondary"})," ",a.photos.length," foto",a.photos.length>1?"s":""]}),a.voiceNotes.map(x=>S.jsxs("div",{className:"text-xs text-brand-text-dim dark:text-gray-400 bg-brand-dark-bg/50 p-2 rounded",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("span",{className:"flex items-center font-medium text-brand-text-light/90",children:[S.jsx(oh,{className:"w-3.5 h-3.5 mr-1.5 text-brand-secondary"}),x.title," ",x.duration?`(${dT(x.duration)})`:""]}),x.audioBase64&&S.jsx(Ve,{onClick:()=>y(x),variant:"ghost",size:"sm",className:"p-0.5",children:l===x.id?"❚❚":"►"})]}),x.transcription&&S.jsxs("p",{className:"mt-1 italic text-brand-text-dim text-[11px] border-l-2 border-brand-primary/50 pl-1.5",children:[S.jsx(Qa,{className:"w-3 h-3 mr-0.5 inline-block opacity-70"})," AI: ",x.transcription.length>100?x.transcription.substring(0,97)+"...":x.transcription]})]},x.id)),S.jsx("audio",{ref:g,className:"hidden",onEnded:()=>f(null)})]})]})};var rt;(function(a){a.assertEqual=l=>{};function n(l){}a.assertIs=n;function t(l){throw new Error}a.assertNever=t,a.arrayToEnum=l=>{const f={};for(const g of l)f[g]=g;return f},a.getValidEnumValues=l=>{const f=a.objectKeys(l).filter(y=>typeof l[l[y]]!="number"),g={};for(const y of f)g[y]=l[y];return a.objectValues(g)},a.objectValues=l=>a.objectKeys(l).map(function(f){return l[f]}),a.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const f=[];for(const g in l)Object.prototype.hasOwnProperty.call(l,g)&&f.push(g);return f},a.find=(l,f)=>{for(const g of l)if(f(g))return g},a.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function r(l,f=" | "){return l.map(g=>typeof g=="string"?`'${g}'`:g).join(f)}a.joinValues=r,a.jsonStringifyReplacer=(l,f)=>typeof f=="bigint"?f.toString():f})(rt||(rt={}));var pg;(function(a){a.mergeShapes=(n,t)=>({...n,...t})})(pg||(pg={}));const Te=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ma=a=>{switch(typeof a){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(a)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(a)?Te.array:a===null?Te.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?Te.promise:typeof Map<"u"&&a instanceof Map?Te.map:typeof Set<"u"&&a instanceof Set?Te.set:typeof Date<"u"&&a instanceof Date?Te.date:Te.object;default:return Te.unknown}},le=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xo extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=n}format(n){const t=n||function(f){return f.message},r={_errors:[]},l=f=>{for(const g of f.issues)if(g.code==="invalid_union")g.unionErrors.map(l);else if(g.code==="invalid_return_type")l(g.returnTypeError);else if(g.code==="invalid_arguments")l(g.argumentsError);else if(g.path.length===0)r._errors.push(t(g));else{let y=r,x=0;for(;x<g.path.length;){const v=g.path[x];x===g.path.length-1?(y[v]=y[v]||{_errors:[]},y[v]._errors.push(t(g))):y[v]=y[v]||{_errors:[]},y=y[v],x++}}};return l(this),r}static assert(n){if(!(n instanceof xo))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=t=>t.message){const t={},r=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(n(l))):r.push(n(l));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}xo.create=a=>new xo(a);const Md=(a,n)=>{let t;switch(a.code){case le.invalid_type:a.received===Te.undefined?t="Required":t=`Expected ${a.expected}, received ${a.received}`;break;case le.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(a.expected,rt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:t=`Unrecognized key(s) in object: ${rt.joinValues(a.keys,", ")}`;break;case le.invalid_union:t="Invalid input";break;case le.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${rt.joinValues(a.options)}`;break;case le.invalid_enum_value:t=`Invalid enum value. Expected ${rt.joinValues(a.options)}, received '${a.received}'`;break;case le.invalid_arguments:t="Invalid function arguments";break;case le.invalid_return_type:t="Invalid function return type";break;case le.invalid_date:t="Invalid date";break;case le.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(t=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?t=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?t=`Invalid input: must end with "${a.validation.endsWith}"`:rt.assertNever(a.validation):a.validation!=="regex"?t=`Invalid ${a.validation}`:t="Invalid";break;case le.too_small:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:t="Invalid input";break;case le.too_big:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?t=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:t="Invalid input";break;case le.custom:t="Invalid input";break;case le.invalid_intersection_types:t="Intersection results could not be merged";break;case le.not_multiple_of:t=`Number must be a multiple of ${a.multipleOf}`;break;case le.not_finite:t="Number must be finite";break;default:t=n.defaultError,rt.assertNever(a)}return{message:t}};let mT=Md;function pT(){return mT}const gT=a=>{const{data:n,path:t,errorMaps:r,issueData:l}=a,f=[...t,...l.path||[]],g={...l,path:f};if(l.message!==void 0)return{...l,path:f,message:l.message};let y="";const x=r.filter(v=>!!v).slice().reverse();for(const v of x)y=v(g,{data:n,defaultError:y}).message;return{...l,path:f,message:y}};function ge(a,n){const t=pT(),r=gT({issueData:n,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,t,t===Md?void 0:Md].filter(l=>!!l)});a.common.issues.push(r)}class pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,t){const r=[];for(const l of t){if(l.status==="aborted")return Ue;l.status==="dirty"&&n.dirty(),r.push(l.value)}return{status:n.value,value:r}}static async mergeObjectAsync(n,t){const r=[];for(const l of t){const f=await l.key,g=await l.value;r.push({key:f,value:g})}return pn.mergeObjectSync(n,r)}static mergeObjectSync(n,t){const r={};for(const l of t){const{key:f,value:g}=l;if(f.status==="aborted"||g.status==="aborted")return Ue;f.status==="dirty"&&n.dirty(),g.status==="dirty"&&n.dirty(),f.value!=="__proto__"&&(typeof g.value<"u"||l.alwaysSet)&&(r[f.value]=g.value)}return{status:n.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),vl=a=>({status:"dirty",value:a}),ii=a=>({status:"valid",value:a}),gg=a=>a.status==="aborted",vg=a=>a.status==="dirty",Wr=a=>a.status==="valid",oc=a=>typeof Promise<"u"&&a instanceof Promise;var Ee;(function(a){a.errToObj=n=>typeof n=="string"?{message:n}:n||{},a.toString=n=>typeof n=="string"?n:n==null?void 0:n.message})(Ee||(Ee={}));var ac=function(a,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!r:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(a):r?r.value:n.get(a)},m_=function(a,n,t,r,l){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!l:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?l.call(a,t):l?l.value=t:n.set(a,t),t},_l,yl;class Bi{constructor(n,t,r,l){this._cachedPath=[],this.parent=n,this.data=t,this._path=r,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _g=(a,n)=>{if(Wr(n))return{success:!0,data:n.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new xo(a.common.issues);return this._error=t,this._error}}};function qe(a){if(!a)return{};const{errorMap:n,invalid_type_error:t,required_error:r,description:l}=a;if(n&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:l}:{errorMap:(g,y)=>{const{message:x}=a;return g.code==="invalid_enum_value"?{message:x??y.defaultError}:typeof y.data>"u"?{message:x??r??y.defaultError}:g.code!=="invalid_type"?{message:y.defaultError}:{message:x??t??y.defaultError}},description:l}}class et{get description(){return this._def.description}_getType(n){return ma(n.data)}_getOrReturnCtx(n,t){return t||{common:n.parent.common,data:n.data,parsedType:ma(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new pn,ctx:{common:n.parent.common,data:n.data,parsedType:ma(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const t=this._parse(n);if(oc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(n){const t=this._parse(n);return Promise.resolve(t)}parse(n,t){const r=this.safeParse(n,t);if(r.success)return r.data;throw r.error}safeParse(n,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:ma(n)},l=this._parseSync({data:n,path:r.path,parent:r});return _g(r,l)}"~validate"(n){var r,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:ma(n)};if(!this["~standard"].async)try{const f=this._parseSync({data:n,path:[],parent:t});return Wr(f)?{value:f.value}:{issues:t.common.issues}}catch(f){(l=(r=f==null?void 0:f.message)==null?void 0:r.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:t}).then(f=>Wr(f)?{value:f.value}:{issues:t.common.issues})}async parseAsync(n,t){const r=await this.safeParseAsync(n,t);if(r.success)return r.data;throw r.error}async safeParseAsync(n,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:ma(n)},l=this._parse({data:n,path:r.path,parent:r}),f=await(oc(l)?l:Promise.resolve(l));return _g(r,f)}refine(n,t){const r=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,f)=>{const g=n(l),y=()=>f.addIssue({code:le.custom,...r(l)});return typeof Promise<"u"&&g instanceof Promise?g.then(x=>x?!0:(y(),!1)):g?!0:(y(),!1)})}refinement(n,t){return this._refinement((r,l)=>n(r)?!0:(l.addIssue(typeof t=="function"?t(r,l):t),!1))}_refinement(n){return new ns({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return pa.create(this,this._def)}nullable(){return is.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zi.create(this)}promise(){return cc.create(this,this._def)}or(n){return sc.create([this,n],this._def)}and(n){return lc.create(this,n,this._def)}transform(n){return new ns({...qe(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const t=typeof n=="function"?n:()=>n;return new Dd({...qe(this._def),innerType:this,defaultValue:t,typeName:Ie.ZodDefault})}brand(){return new BT({typeName:Ie.ZodBranded,type:this,...qe(this._def)})}catch(n){const t=typeof n=="function"?n:()=>n;return new kd({...qe(this._def),innerType:this,catchValue:t,typeName:Ie.ZodCatch})}describe(n){const t=this.constructor;return new t({...this._def,description:n})}pipe(n){return ah.create(this,n)}readonly(){return Pd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vT=/^c[^\s-]{8,}$/i,_T=/^[0-9a-z]+$/,yT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,xT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TT=/^[a-z0-9_-]{21}$/i,CT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ST=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ET=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Td;const wT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,NT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,p_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",DT=new RegExp(`^${p_}$`);function g_(a){let n="[0-5]\\d";a.precision?n=`${n}\\.\\d{${a.precision}}`:a.precision==null&&(n=`${n}(\\.\\d+)?`);const t=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${n})${t}`}function kT(a){return new RegExp(`^${g_(a)}$`)}function PT(a){let n=`${p_}T${g_(a)}`;const t=[];return t.push(a.local?"Z?":"Z"),a.offset&&t.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${t.join("|")})`,new RegExp(`^${n}$`)}function IT(a,n){return!!((n==="v4"||!n)&&wT.test(a)||(n==="v6"||!n)&&MT.test(a))}function OT(a,n){if(!CT.test(a))return!1;try{const[t]=a.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(r));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||n&&l.alg!==n)}catch{return!1}}function zT(a,n){return!!((n==="v4"||!n)&&AT.test(a)||(n==="v6"||!n)&&NT.test(a))}class Oi extends et{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==Te.string){const f=this._getOrReturnCtx(n);return ge(f,{code:le.invalid_type,expected:Te.string,received:f.parsedType}),Ue}const r=new pn;let l;for(const f of this._def.checks)if(f.kind==="min")n.data.length<f.value&&(l=this._getOrReturnCtx(n,l),ge(l,{code:le.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),r.dirty());else if(f.kind==="max")n.data.length>f.value&&(l=this._getOrReturnCtx(n,l),ge(l,{code:le.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),r.dirty());else if(f.kind==="length"){const g=n.data.length>f.value,y=n.data.length<f.value;(g||y)&&(l=this._getOrReturnCtx(n,l),g?ge(l,{code:le.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):y&&ge(l,{code:le.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),r.dirty())}else if(f.kind==="email")ET.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"email",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="emoji")Td||(Td=new RegExp(bT,"u")),Td.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"emoji",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="uuid")xT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"uuid",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="nanoid")TT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"nanoid",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="cuid")vT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"cuid",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="cuid2")_T.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"cuid2",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="ulid")yT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"ulid",code:le.invalid_string,message:f.message}),r.dirty());else if(f.kind==="url")try{new URL(n.data)}catch{l=this._getOrReturnCtx(n,l),ge(l,{validation:"url",code:le.invalid_string,message:f.message}),r.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"regex",code:le.invalid_string,message:f.message}),r.dirty())):f.kind==="trim"?n.data=n.data.trim():f.kind==="includes"?n.data.includes(f.value,f.position)||(l=this._getOrReturnCtx(n,l),ge(l,{code:le.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),r.dirty()):f.kind==="toLowerCase"?n.data=n.data.toLowerCase():f.kind==="toUpperCase"?n.data=n.data.toUpperCase():f.kind==="startsWith"?n.data.startsWith(f.value)||(l=this._getOrReturnCtx(n,l),ge(l,{code:le.invalid_string,validation:{startsWith:f.value},message:f.message}),r.dirty()):f.kind==="endsWith"?n.data.endsWith(f.value)||(l=this._getOrReturnCtx(n,l),ge(l,{code:le.invalid_string,validation:{endsWith:f.value},message:f.message}),r.dirty()):f.kind==="datetime"?PT(f).test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{code:le.invalid_string,validation:"datetime",message:f.message}),r.dirty()):f.kind==="date"?DT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{code:le.invalid_string,validation:"date",message:f.message}),r.dirty()):f.kind==="time"?kT(f).test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{code:le.invalid_string,validation:"time",message:f.message}),r.dirty()):f.kind==="duration"?ST.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"duration",code:le.invalid_string,message:f.message}),r.dirty()):f.kind==="ip"?IT(n.data,f.version)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"ip",code:le.invalid_string,message:f.message}),r.dirty()):f.kind==="jwt"?OT(n.data,f.alg)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"jwt",code:le.invalid_string,message:f.message}),r.dirty()):f.kind==="cidr"?zT(n.data,f.version)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"cidr",code:le.invalid_string,message:f.message}),r.dirty()):f.kind==="base64"?RT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"base64",code:le.invalid_string,message:f.message}),r.dirty()):f.kind==="base64url"?LT.test(n.data)||(l=this._getOrReturnCtx(n,l),ge(l,{validation:"base64url",code:le.invalid_string,message:f.message}),r.dirty()):rt.assertNever(f);return{status:r.value,value:n.data}}_regex(n,t,r){return this.refinement(l=>n.test(l),{validation:t,code:le.invalid_string,...Ee.errToObj(r)})}_addCheck(n){return new Oi({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...Ee.errToObj(n)})}url(n){return this._addCheck({kind:"url",...Ee.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...Ee.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...Ee.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...Ee.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...Ee.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...Ee.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...Ee.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...Ee.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...Ee.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...Ee.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...Ee.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...Ee.errToObj(n)})}datetime(n){return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,offset:(n==null?void 0:n.offset)??!1,local:(n==null?void 0:n.local)??!1,...Ee.errToObj(n==null?void 0:n.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof(n==null?void 0:n.precision)>"u"?null:n==null?void 0:n.precision,...Ee.errToObj(n==null?void 0:n.message)})}duration(n){return this._addCheck({kind:"duration",...Ee.errToObj(n)})}regex(n,t){return this._addCheck({kind:"regex",regex:n,...Ee.errToObj(t)})}includes(n,t){return this._addCheck({kind:"includes",value:n,position:t==null?void 0:t.position,...Ee.errToObj(t==null?void 0:t.message)})}startsWith(n,t){return this._addCheck({kind:"startsWith",value:n,...Ee.errToObj(t)})}endsWith(n,t){return this._addCheck({kind:"endsWith",value:n,...Ee.errToObj(t)})}min(n,t){return this._addCheck({kind:"min",value:n,...Ee.errToObj(t)})}max(n,t){return this._addCheck({kind:"max",value:n,...Ee.errToObj(t)})}length(n,t){return this._addCheck({kind:"length",value:n,...Ee.errToObj(t)})}nonempty(n){return this.min(1,Ee.errToObj(n))}trim(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(const t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n}get maxLength(){let n=null;for(const t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n}}Oi.create=a=>new Oi({checks:[],typeName:Ie.ZodString,coerce:(a==null?void 0:a.coerce)??!1,...qe(a)});function UT(a,n){const t=(a.toString().split(".")[1]||"").length,r=(n.toString().split(".")[1]||"").length,l=t>r?t:r,f=Number.parseInt(a.toFixed(l).replace(".","")),g=Number.parseInt(n.toFixed(l).replace(".",""));return f%g/10**l}class Wa extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==Te.number){const f=this._getOrReturnCtx(n);return ge(f,{code:le.invalid_type,expected:Te.number,received:f.parsedType}),Ue}let r;const l=new pn;for(const f of this._def.checks)f.kind==="int"?rt.isInteger(n.data)||(r=this._getOrReturnCtx(n,r),ge(r,{code:le.invalid_type,expected:"integer",received:"float",message:f.message}),l.dirty()):f.kind==="min"?(f.inclusive?n.data<f.value:n.data<=f.value)&&(r=this._getOrReturnCtx(n,r),ge(r,{code:le.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),l.dirty()):f.kind==="max"?(f.inclusive?n.data>f.value:n.data>=f.value)&&(r=this._getOrReturnCtx(n,r),ge(r,{code:le.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),l.dirty()):f.kind==="multipleOf"?UT(n.data,f.value)!==0&&(r=this._getOrReturnCtx(n,r),ge(r,{code:le.not_multiple_of,multipleOf:f.value,message:f.message}),l.dirty()):f.kind==="finite"?Number.isFinite(n.data)||(r=this._getOrReturnCtx(n,r),ge(r,{code:le.not_finite,message:f.message}),l.dirty()):rt.assertNever(f);return{status:l.value,value:n.data}}gte(n,t){return this.setLimit("min",n,!0,Ee.toString(t))}gt(n,t){return this.setLimit("min",n,!1,Ee.toString(t))}lte(n,t){return this.setLimit("max",n,!0,Ee.toString(t))}lt(n,t){return this.setLimit("max",n,!1,Ee.toString(t))}setLimit(n,t,r,l){return new Wa({...this._def,checks:[...this._def.checks,{kind:n,value:t,inclusive:r,message:Ee.toString(l)}]})}_addCheck(n){return new Wa({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:Ee.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(n)})}multipleOf(n,t){return this._addCheck({kind:"multipleOf",value:n,message:Ee.toString(t)})}finite(n){return this._addCheck({kind:"finite",message:Ee.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(n)})}get minValue(){let n=null;for(const t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n}get maxValue(){let n=null;for(const t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&rt.isInteger(n.value))}get isFinite(){let n=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(n===null||r.value<n)&&(n=r.value)}return Number.isFinite(t)&&Number.isFinite(n)}}Wa.create=a=>new Wa({checks:[],typeName:Ie.ZodNumber,coerce:(a==null?void 0:a.coerce)||!1,...qe(a)});class er extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==Te.bigint)return this._getInvalidInput(n);let r;const l=new pn;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?n.data<f.value:n.data<=f.value)&&(r=this._getOrReturnCtx(n,r),ge(r,{code:le.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),l.dirty()):f.kind==="max"?(f.inclusive?n.data>f.value:n.data>=f.value)&&(r=this._getOrReturnCtx(n,r),ge(r,{code:le.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),l.dirty()):f.kind==="multipleOf"?n.data%f.value!==BigInt(0)&&(r=this._getOrReturnCtx(n,r),ge(r,{code:le.not_multiple_of,multipleOf:f.value,message:f.message}),l.dirty()):rt.assertNever(f);return{status:l.value,value:n.data}}_getInvalidInput(n){const t=this._getOrReturnCtx(n);return ge(t,{code:le.invalid_type,expected:Te.bigint,received:t.parsedType}),Ue}gte(n,t){return this.setLimit("min",n,!0,Ee.toString(t))}gt(n,t){return this.setLimit("min",n,!1,Ee.toString(t))}lte(n,t){return this.setLimit("max",n,!0,Ee.toString(t))}lt(n,t){return this.setLimit("max",n,!1,Ee.toString(t))}setLimit(n,t,r,l){return new er({...this._def,checks:[...this._def.checks,{kind:n,value:t,inclusive:r,message:Ee.toString(l)}]})}_addCheck(n){return new er({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(n)})}multipleOf(n,t){return this._addCheck({kind:"multipleOf",value:n,message:Ee.toString(t)})}get minValue(){let n=null;for(const t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n}get maxValue(){let n=null;for(const t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n}}er.create=a=>new er({checks:[],typeName:Ie.ZodBigInt,coerce:(a==null?void 0:a.coerce)??!1,...qe(a)});class rc extends et{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==Te.boolean){const r=this._getOrReturnCtx(n);return ge(r,{code:le.invalid_type,expected:Te.boolean,received:r.parsedType}),Ue}return ii(n.data)}}rc.create=a=>new rc({typeName:Ie.ZodBoolean,coerce:(a==null?void 0:a.coerce)||!1,...qe(a)});class es extends et{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==Te.date){const f=this._getOrReturnCtx(n);return ge(f,{code:le.invalid_type,expected:Te.date,received:f.parsedType}),Ue}if(Number.isNaN(n.data.getTime())){const f=this._getOrReturnCtx(n);return ge(f,{code:le.invalid_date}),Ue}const r=new pn;let l;for(const f of this._def.checks)f.kind==="min"?n.data.getTime()<f.value&&(l=this._getOrReturnCtx(n,l),ge(l,{code:le.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),r.dirty()):f.kind==="max"?n.data.getTime()>f.value&&(l=this._getOrReturnCtx(n,l),ge(l,{code:le.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),r.dirty()):rt.assertNever(f);return{status:r.value,value:new Date(n.data.getTime())}}_addCheck(n){return new es({...this._def,checks:[...this._def.checks,n]})}min(n,t){return this._addCheck({kind:"min",value:n.getTime(),message:Ee.toString(t)})}max(n,t){return this._addCheck({kind:"max",value:n.getTime(),message:Ee.toString(t)})}get minDate(){let n=null;for(const t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(const t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n!=null?new Date(n):null}}es.create=a=>new es({checks:[],coerce:(a==null?void 0:a.coerce)||!1,typeName:Ie.ZodDate,...qe(a)});class yg extends et{_parse(n){if(this._getType(n)!==Te.symbol){const r=this._getOrReturnCtx(n);return ge(r,{code:le.invalid_type,expected:Te.symbol,received:r.parsedType}),Ue}return ii(n.data)}}yg.create=a=>new yg({typeName:Ie.ZodSymbol,...qe(a)});class xg extends et{_parse(n){if(this._getType(n)!==Te.undefined){const r=this._getOrReturnCtx(n);return ge(r,{code:le.invalid_type,expected:Te.undefined,received:r.parsedType}),Ue}return ii(n.data)}}xg.create=a=>new xg({typeName:Ie.ZodUndefined,...qe(a)});class Tg extends et{_parse(n){if(this._getType(n)!==Te.null){const r=this._getOrReturnCtx(n);return ge(r,{code:le.invalid_type,expected:Te.null,received:r.parsedType}),Ue}return ii(n.data)}}Tg.create=a=>new Tg({typeName:Ie.ZodNull,...qe(a)});class Cg extends et{constructor(){super(...arguments),this._any=!0}_parse(n){return ii(n.data)}}Cg.create=a=>new Cg({typeName:Ie.ZodAny,...qe(a)});class Nd extends et{constructor(){super(...arguments),this._unknown=!0}_parse(n){return ii(n.data)}}Nd.create=a=>new Nd({typeName:Ie.ZodUnknown,...qe(a)});class ga extends et{_parse(n){const t=this._getOrReturnCtx(n);return ge(t,{code:le.invalid_type,expected:Te.never,received:t.parsedType}),Ue}}ga.create=a=>new ga({typeName:Ie.ZodNever,...qe(a)});class Sg extends et{_parse(n){if(this._getType(n)!==Te.undefined){const r=this._getOrReturnCtx(n);return ge(r,{code:le.invalid_type,expected:Te.void,received:r.parsedType}),Ue}return ii(n.data)}}Sg.create=a=>new Sg({typeName:Ie.ZodVoid,...qe(a)});class zi extends et{_parse(n){const{ctx:t,status:r}=this._processInputParams(n),l=this._def;if(t.parsedType!==Te.array)return ge(t,{code:le.invalid_type,expected:Te.array,received:t.parsedType}),Ue;if(l.exactLength!==null){const g=t.data.length>l.exactLength.value,y=t.data.length<l.exactLength.value;(g||y)&&(ge(t,{code:g?le.too_big:le.too_small,minimum:y?l.exactLength.value:void 0,maximum:g?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),r.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(ge(t,{code:le.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),r.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(ge(t,{code:le.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((g,y)=>l.type._parseAsync(new Bi(t,g,t.path,y)))).then(g=>pn.mergeArray(r,g));const f=[...t.data].map((g,y)=>l.type._parseSync(new Bi(t,g,t.path,y)));return pn.mergeArray(r,f)}get element(){return this._def.type}min(n,t){return new zi({...this._def,minLength:{value:n,message:Ee.toString(t)}})}max(n,t){return new zi({...this._def,maxLength:{value:n,message:Ee.toString(t)}})}length(n,t){return new zi({...this._def,exactLength:{value:n,message:Ee.toString(t)}})}nonempty(n){return this.min(1,n)}}zi.create=(a,n)=>new zi({type:a,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...qe(n)});function Jr(a){if(a instanceof Ot){const n={};for(const t in a.shape){const r=a.shape[t];n[t]=pa.create(Jr(r))}return new Ot({...a._def,shape:()=>n})}else return a instanceof zi?new zi({...a._def,type:Jr(a.element)}):a instanceof pa?pa.create(Jr(a.unwrap())):a instanceof is?is.create(Jr(a.unwrap())):a instanceof tr?tr.create(a.items.map(n=>Jr(n))):a}class Ot extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const n=this._def.shape(),t=rt.objectKeys(n);return this._cached={shape:n,keys:t},this._cached}_parse(n){if(this._getType(n)!==Te.object){const v=this._getOrReturnCtx(n);return ge(v,{code:le.invalid_type,expected:Te.object,received:v.parsedType}),Ue}const{status:r,ctx:l}=this._processInputParams(n),{shape:f,keys:g}=this._getCached(),y=[];if(!(this._def.catchall instanceof ga&&this._def.unknownKeys==="strip"))for(const v in l.data)g.includes(v)||y.push(v);const x=[];for(const v of g){const E=f[v],A=l.data[v];x.push({key:{status:"valid",value:v},value:E._parse(new Bi(l,A,l.path,v)),alwaysSet:v in l.data})}if(this._def.catchall instanceof ga){const v=this._def.unknownKeys;if(v==="passthrough")for(const E of y)x.push({key:{status:"valid",value:E},value:{status:"valid",value:l.data[E]}});else if(v==="strict")y.length>0&&(ge(l,{code:le.unrecognized_keys,keys:y}),r.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const v=this._def.catchall;for(const E of y){const A=l.data[E];x.push({key:{status:"valid",value:E},value:v._parse(new Bi(l,A,l.path,E)),alwaysSet:E in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const v=[];for(const E of x){const A=await E.key,N=await E.value;v.push({key:A,value:N,alwaysSet:E.alwaysSet})}return v}).then(v=>pn.mergeObjectSync(r,v)):pn.mergeObjectSync(r,x)}get shape(){return this._def.shape()}strict(n){return Ee.errToObj,new Ot({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(t,r)=>{var f,g;const l=((g=(f=this._def).errorMap)==null?void 0:g.call(f,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:Ee.errToObj(n).message??l}:{message:l}}}:{}})}strip(){return new Ot({...this._def,unknownKeys:"strip"})}passthrough(){return new Ot({...this._def,unknownKeys:"passthrough"})}extend(n){return new Ot({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new Ot({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:Ie.ZodObject})}setKey(n,t){return this.augment({[n]:t})}catchall(n){return new Ot({...this._def,catchall:n})}pick(n){const t={};for(const r of rt.objectKeys(n))n[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Ot({...this._def,shape:()=>t})}omit(n){const t={};for(const r of rt.objectKeys(this.shape))n[r]||(t[r]=this.shape[r]);return new Ot({...this._def,shape:()=>t})}deepPartial(){return Jr(this)}partial(n){const t={};for(const r of rt.objectKeys(this.shape)){const l=this.shape[r];n&&!n[r]?t[r]=l:t[r]=l.optional()}return new Ot({...this._def,shape:()=>t})}required(n){const t={};for(const r of rt.objectKeys(this.shape))if(n&&!n[r])t[r]=this.shape[r];else{let f=this.shape[r];for(;f instanceof pa;)f=f._def.innerType;t[r]=f}return new Ot({...this._def,shape:()=>t})}keyof(){return v_(rt.objectKeys(this.shape))}}Ot.create=(a,n)=>new Ot({shape:()=>a,unknownKeys:"strip",catchall:ga.create(),typeName:Ie.ZodObject,...qe(n)});Ot.strictCreate=(a,n)=>new Ot({shape:()=>a,unknownKeys:"strict",catchall:ga.create(),typeName:Ie.ZodObject,...qe(n)});Ot.lazycreate=(a,n)=>new Ot({shape:a,unknownKeys:"strip",catchall:ga.create(),typeName:Ie.ZodObject,...qe(n)});class sc extends et{_parse(n){const{ctx:t}=this._processInputParams(n),r=this._def.options;function l(f){for(const y of f)if(y.result.status==="valid")return y.result;for(const y of f)if(y.result.status==="dirty")return t.common.issues.push(...y.ctx.common.issues),y.result;const g=f.map(y=>new xo(y.ctx.common.issues));return ge(t,{code:le.invalid_union,unionErrors:g}),Ue}if(t.common.async)return Promise.all(r.map(async f=>{const g={...t,common:{...t.common,issues:[]},parent:null};return{result:await f._parseAsync({data:t.data,path:t.path,parent:g}),ctx:g}})).then(l);{let f;const g=[];for(const x of r){const v={...t,common:{...t.common,issues:[]},parent:null},E=x._parseSync({data:t.data,path:t.path,parent:v});if(E.status==="valid")return E;E.status==="dirty"&&!f&&(f={result:E,ctx:v}),v.common.issues.length&&g.push(v.common.issues)}if(f)return t.common.issues.push(...f.ctx.common.issues),f.result;const y=g.map(x=>new xo(x));return ge(t,{code:le.invalid_union,unionErrors:y}),Ue}}get options(){return this._def.options}}sc.create=(a,n)=>new sc({options:a,typeName:Ie.ZodUnion,...qe(n)});function Rd(a,n){const t=ma(a),r=ma(n);if(a===n)return{valid:!0,data:a};if(t===Te.object&&r===Te.object){const l=rt.objectKeys(n),f=rt.objectKeys(a).filter(y=>l.indexOf(y)!==-1),g={...a,...n};for(const y of f){const x=Rd(a[y],n[y]);if(!x.valid)return{valid:!1};g[y]=x.data}return{valid:!0,data:g}}else if(t===Te.array&&r===Te.array){if(a.length!==n.length)return{valid:!1};const l=[];for(let f=0;f<a.length;f++){const g=a[f],y=n[f],x=Rd(g,y);if(!x.valid)return{valid:!1};l.push(x.data)}return{valid:!0,data:l}}else return t===Te.date&&r===Te.date&&+a==+n?{valid:!0,data:a}:{valid:!1}}class lc extends et{_parse(n){const{status:t,ctx:r}=this._processInputParams(n),l=(f,g)=>{if(gg(f)||gg(g))return Ue;const y=Rd(f.value,g.value);return y.valid?((vg(f)||vg(g))&&t.dirty(),{status:t.value,value:y.data}):(ge(r,{code:le.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([f,g])=>l(f,g)):l(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lc.create=(a,n,t)=>new lc({left:a,right:n,typeName:Ie.ZodIntersection,...qe(t)});class tr extends et{_parse(n){const{status:t,ctx:r}=this._processInputParams(n);if(r.parsedType!==Te.array)return ge(r,{code:le.invalid_type,expected:Te.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return ge(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(ge(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const f=[...r.data].map((g,y)=>{const x=this._def.items[y]||this._def.rest;return x?x._parse(new Bi(r,g,r.path,y)):null}).filter(g=>!!g);return r.common.async?Promise.all(f).then(g=>pn.mergeArray(t,g)):pn.mergeArray(t,f)}get items(){return this._def.items}rest(n){return new tr({...this._def,rest:n})}}tr.create=(a,n)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tr({items:a,typeName:Ie.ZodTuple,rest:null,...qe(n)})};class uc extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:t,ctx:r}=this._processInputParams(n);if(r.parsedType!==Te.object)return ge(r,{code:le.invalid_type,expected:Te.object,received:r.parsedType}),Ue;const l=[],f=this._def.keyType,g=this._def.valueType;for(const y in r.data)l.push({key:f._parse(new Bi(r,y,r.path,y)),value:g._parse(new Bi(r,r.data[y],r.path,y)),alwaysSet:y in r.data});return r.common.async?pn.mergeObjectAsync(t,l):pn.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(n,t,r){return t instanceof et?new uc({keyType:n,valueType:t,typeName:Ie.ZodRecord,...qe(r)}):new uc({keyType:Oi.create(),valueType:n,typeName:Ie.ZodRecord,...qe(t)})}}class Eg extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:t,ctx:r}=this._processInputParams(n);if(r.parsedType!==Te.map)return ge(r,{code:le.invalid_type,expected:Te.map,received:r.parsedType}),Ue;const l=this._def.keyType,f=this._def.valueType,g=[...r.data.entries()].map(([y,x],v)=>({key:l._parse(new Bi(r,y,r.path,[v,"key"])),value:f._parse(new Bi(r,x,r.path,[v,"value"]))}));if(r.common.async){const y=new Map;return Promise.resolve().then(async()=>{for(const x of g){const v=await x.key,E=await x.value;if(v.status==="aborted"||E.status==="aborted")return Ue;(v.status==="dirty"||E.status==="dirty")&&t.dirty(),y.set(v.value,E.value)}return{status:t.value,value:y}})}else{const y=new Map;for(const x of g){const v=x.key,E=x.value;if(v.status==="aborted"||E.status==="aborted")return Ue;(v.status==="dirty"||E.status==="dirty")&&t.dirty(),y.set(v.value,E.value)}return{status:t.value,value:y}}}}Eg.create=(a,n,t)=>new Eg({valueType:n,keyType:a,typeName:Ie.ZodMap,...qe(t)});class El extends et{_parse(n){const{status:t,ctx:r}=this._processInputParams(n);if(r.parsedType!==Te.set)return ge(r,{code:le.invalid_type,expected:Te.set,received:r.parsedType}),Ue;const l=this._def;l.minSize!==null&&r.data.size<l.minSize.value&&(ge(r,{code:le.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&r.data.size>l.maxSize.value&&(ge(r,{code:le.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const f=this._def.valueType;function g(x){const v=new Set;for(const E of x){if(E.status==="aborted")return Ue;E.status==="dirty"&&t.dirty(),v.add(E.value)}return{status:t.value,value:v}}const y=[...r.data.values()].map((x,v)=>f._parse(new Bi(r,x,r.path,v)));return r.common.async?Promise.all(y).then(x=>g(x)):g(y)}min(n,t){return new El({...this._def,minSize:{value:n,message:Ee.toString(t)}})}max(n,t){return new El({...this._def,maxSize:{value:n,message:Ee.toString(t)}})}size(n,t){return this.min(n,t).max(n,t)}nonempty(n){return this.min(1,n)}}El.create=(a,n)=>new El({valueType:a,minSize:null,maxSize:null,typeName:Ie.ZodSet,...qe(n)});class Ld extends et{get schema(){return this._def.getter()}_parse(n){const{ctx:t}=this._processInputParams(n);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ld.create=(a,n)=>new Ld({getter:a,typeName:Ie.ZodLazy,...qe(n)});class bg extends et{_parse(n){if(n.data!==this._def.value){const t=this._getOrReturnCtx(n);return ge(t,{received:t.data,code:le.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:n.data}}get value(){return this._def.value}}bg.create=(a,n)=>new bg({value:a,typeName:Ie.ZodLiteral,...qe(n)});function v_(a,n){return new ts({values:a,typeName:Ie.ZodEnum,...qe(n)})}class ts extends et{constructor(){super(...arguments),_l.set(this,void 0)}_parse(n){if(typeof n.data!="string"){const t=this._getOrReturnCtx(n),r=this._def.values;return ge(t,{expected:rt.joinValues(r),received:t.parsedType,code:le.invalid_type}),Ue}if(ac(this,_l,"f")||m_(this,_l,new Set(this._def.values),"f"),!ac(this,_l,"f").has(n.data)){const t=this._getOrReturnCtx(n),r=this._def.values;return ge(t,{received:t.data,code:le.invalid_enum_value,options:r}),Ue}return ii(n.data)}get options(){return this._def.values}get enum(){const n={};for(const t of this._def.values)n[t]=t;return n}get Values(){const n={};for(const t of this._def.values)n[t]=t;return n}get Enum(){const n={};for(const t of this._def.values)n[t]=t;return n}extract(n,t=this._def){return ts.create(n,{...this._def,...t})}exclude(n,t=this._def){return ts.create(this.options.filter(r=>!n.includes(r)),{...this._def,...t})}}_l=new WeakMap;ts.create=v_;class wg extends et{constructor(){super(...arguments),yl.set(this,void 0)}_parse(n){const t=rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(n);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const l=rt.objectValues(t);return ge(r,{expected:rt.joinValues(l),received:r.parsedType,code:le.invalid_type}),Ue}if(ac(this,yl,"f")||m_(this,yl,new Set(rt.getValidEnumValues(this._def.values)),"f"),!ac(this,yl,"f").has(n.data)){const l=rt.objectValues(t);return ge(r,{received:r.data,code:le.invalid_enum_value,options:l}),Ue}return ii(n.data)}get enum(){return this._def.values}}yl=new WeakMap;wg.create=(a,n)=>new wg({values:a,typeName:Ie.ZodNativeEnum,...qe(n)});class cc extends et{unwrap(){return this._def.type}_parse(n){const{ctx:t}=this._processInputParams(n);if(t.parsedType!==Te.promise&&t.common.async===!1)return ge(t,{code:le.invalid_type,expected:Te.promise,received:t.parsedType}),Ue;const r=t.parsedType===Te.promise?t.data:Promise.resolve(t.data);return ii(r.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}cc.create=(a,n)=>new cc({type:a,typeName:Ie.ZodPromise,...qe(n)});class ns extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){const{status:t,ctx:r}=this._processInputParams(n),l=this._def.effect||null,f={addIssue:g=>{ge(r,g),g.fatal?t.abort():t.dirty()},get path(){return r.path}};if(f.addIssue=f.addIssue.bind(f),l.type==="preprocess"){const g=l.transform(r.data,f);if(r.common.async)return Promise.resolve(g).then(async y=>{if(t.value==="aborted")return Ue;const x=await this._def.schema._parseAsync({data:y,path:r.path,parent:r});return x.status==="aborted"?Ue:x.status==="dirty"||t.value==="dirty"?vl(x.value):x});{if(t.value==="aborted")return Ue;const y=this._def.schema._parseSync({data:g,path:r.path,parent:r});return y.status==="aborted"?Ue:y.status==="dirty"||t.value==="dirty"?vl(y.value):y}}if(l.type==="refinement"){const g=y=>{const x=l.refinement(y,f);if(r.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return y};if(r.common.async===!1){const y=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return y.status==="aborted"?Ue:(y.status==="dirty"&&t.dirty(),g(y.value),{status:t.value,value:y.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(y=>y.status==="aborted"?Ue:(y.status==="dirty"&&t.dirty(),g(y.value).then(()=>({status:t.value,value:y.value}))))}if(l.type==="transform")if(r.common.async===!1){const g=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wr(g))return g;const y=l.transform(g.value,f);if(y instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:y}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(g=>Wr(g)?Promise.resolve(l.transform(g.value,f)).then(y=>({status:t.value,value:y})):g);rt.assertNever(l)}}ns.create=(a,n,t)=>new ns({schema:a,typeName:Ie.ZodEffects,effect:n,...qe(t)});ns.createWithPreprocess=(a,n,t)=>new ns({schema:n,effect:{type:"preprocess",transform:a},typeName:Ie.ZodEffects,...qe(t)});class pa extends et{_parse(n){return this._getType(n)===Te.undefined?ii(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}pa.create=(a,n)=>new pa({innerType:a,typeName:Ie.ZodOptional,...qe(n)});class is extends et{_parse(n){return this._getType(n)===Te.null?ii(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}is.create=(a,n)=>new is({innerType:a,typeName:Ie.ZodNullable,...qe(n)});class Dd extends et{_parse(n){const{ctx:t}=this._processInputParams(n);let r=t.data;return t.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Dd.create=(a,n)=>new Dd({innerType:a,typeName:Ie.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...qe(n)});class kd extends et{_parse(n){const{ctx:t}=this._processInputParams(n),r={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return oc(l)?l.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new xo(r.common.issues)},input:r.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new xo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}kd.create=(a,n)=>new kd({innerType:a,typeName:Ie.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...qe(n)});class Ag extends et{_parse(n){if(this._getType(n)!==Te.nan){const r=this._getOrReturnCtx(n);return ge(r,{code:le.invalid_type,expected:Te.nan,received:r.parsedType}),Ue}return{status:"valid",value:n.data}}}Ag.create=a=>new Ag({typeName:Ie.ZodNaN,...qe(a)});class BT extends et{_parse(n){const{ctx:t}=this._processInputParams(n),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ah extends et{_parse(n){const{status:t,ctx:r}=this._processInputParams(n);if(r.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return f.status==="aborted"?Ue:f.status==="dirty"?(t.dirty(),vl(f.value)):this._def.out._parseAsync({data:f.value,path:r.path,parent:r})})();{const l=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ue:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:r.path,parent:r})}}static create(n,t){return new ah({in:n,out:t,typeName:Ie.ZodPipeline})}}class Pd extends et{_parse(n){const t=this._def.innerType._parse(n),r=l=>(Wr(l)&&(l.value=Object.freeze(l.value)),l);return oc(t)?t.then(l=>r(l)):r(t)}unwrap(){return this._def.innerType}}Pd.create=(a,n)=>new Pd({innerType:a,typeName:Ie.ZodReadonly,...qe(n)});var Ie;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const Xa=Oi.create,Mg=Wa.create;er.create;const VT=rc.create;es.create;const Ng=Nd.create;ga.create;const xl=zi.create,HT=Ot.create,qT=sc.create;lc.create;tr.create;const ZT=uc.create,GT=Ld.create,FT=ts.create;cc.create;pa.create;is.create;const Kr={string:a=>Oi.create({...a,coerce:!0}),number:a=>Wa.create({...a,coerce:!0}),boolean:a=>rc.create({...a,coerce:!0}),bigint:a=>er.create({...a,coerce:!0}),date:a=>es.create({...a,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let YT,jT;function $T(){return{geminiUrl:YT,vertexUrl:jT}}function KT(a,n,t){var r,l,f;if(!(!((r=a.httpOptions)===null||r===void 0)&&r.baseUrl)){const g=$T();return a.vertexai?(l=g.vertexUrl)!==null&&l!==void 0?l:n:(f=g.geminiUrl)!==null&&f!==void 0?f:t}return a.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al{}function ke(a,n){const t=/\{([^}]+)\}/g;return a.replace(t,(r,l)=>{if(Object.prototype.hasOwnProperty.call(n,l)){const f=n[l];return f!=null?String(f):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function h(a,n,t){for(let f=0;f<n.length-1;f++){const g=n[f];if(g.endsWith("[]")){const y=g.slice(0,-2);if(!(y in a))if(Array.isArray(t))a[y]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${g}`);if(Array.isArray(a[y])){const x=a[y];if(Array.isArray(t))for(let v=0;v<x.length;v++){const E=x[v];h(E,n.slice(f+1),t[v])}else for(const v of x)h(v,n.slice(f+1),t)}return}else if(g.endsWith("[0]")){const y=g.slice(0,-3);y in a||(a[y]=[{}]);const x=a[y];h(x[0],n.slice(f+1),t);return}(!a[g]||typeof a[g]!="object")&&(a[g]={}),a=a[g]}const r=n[n.length-1],l=a[r];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else a[r]=t}function d(a,n){try{if(n.length===1&&n[0]==="_self")return a;for(let t=0;t<n.length;t++){if(typeof a!="object"||a===null)return;const r=n[t];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in a){const f=a[l];return Array.isArray(f)?f.map(g=>d(g,n.slice(t+1))):void 0}else return}else a=a[r]}return a}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rg;(function(a){a.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",a.OUTCOME_OK="OUTCOME_OK",a.OUTCOME_FAILED="OUTCOME_FAILED",a.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rg||(Rg={}));var Lg;(function(a){a.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",a.PYTHON="PYTHON"})(Lg||(Lg={}));var Dg;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Dg||(Dg={}));var kg;(function(a){a.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",a.SEVERITY="SEVERITY",a.PROBABILITY="PROBABILITY"})(kg||(kg={}));var Pg;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE",a.OFF="OFF"})(Pg||(Pg={}));var Ii;(function(a){a.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",a.STRING="STRING",a.NUMBER="NUMBER",a.INTEGER="INTEGER",a.BOOLEAN="BOOLEAN",a.ARRAY="ARRAY",a.OBJECT="OBJECT"})(Ii||(Ii={}));var Ig;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Ig||(Ig={}));var Og;(function(a){a.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",a.NO_AUTH="NO_AUTH",a.API_KEY_AUTH="API_KEY_AUTH",a.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",a.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",a.OAUTH="OAUTH",a.OIDC_AUTH="OIDC_AUTH"})(Og||(Og={}));var zg;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.IMAGE_SAFETY="IMAGE_SAFETY"})(zg||(zg={}));var Ug;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Ug||(Ug={}));var Bg;(function(a){a.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",a.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",a.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",a.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",a.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bg||(Bg={}));var Vg;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Vg||(Vg={}));var Hg;(function(a){a.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",a.ON_DEMAND="ON_DEMAND",a.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Hg||(Hg={}));var fc;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.AUDIO="AUDIO"})(fc||(fc={}));var qg;(function(a){a.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",a.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",a.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",a.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qg||(qg={}));var Id;(function(a){a.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",a.JOB_STATE_QUEUED="JOB_STATE_QUEUED",a.JOB_STATE_PENDING="JOB_STATE_PENDING",a.JOB_STATE_RUNNING="JOB_STATE_RUNNING",a.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",a.JOB_STATE_FAILED="JOB_STATE_FAILED",a.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",a.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",a.JOB_STATE_PAUSED="JOB_STATE_PAUSED",a.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",a.JOB_STATE_UPDATING="JOB_STATE_UPDATING",a.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Id||(Id={}));var Zg;(function(a){a.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",a.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",a.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",a.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",a.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",a.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",a.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zg||(Zg={}));var Gg;(function(a){a.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",a.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",a.BALANCED="BALANCED",a.PRIORITIZE_COST="PRIORITIZE_COST"})(Gg||(Gg={}));var Fg;(function(a){a.UNSPECIFIED="UNSPECIFIED",a.BLOCKING="BLOCKING",a.NON_BLOCKING="NON_BLOCKING"})(Fg||(Fg={}));var Yg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Yg||(Yg={}));var jg;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(jg||(jg={}));var $g;(function(a){a.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",a.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",a.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($g||($g={}));var Kg;(function(a){a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(Kg||(Kg={}));var Jg;(function(a){a.DONT_ALLOW="DONT_ALLOW",a.ALLOW_ADULT="ALLOW_ADULT",a.ALLOW_ALL="ALLOW_ALL"})(Jg||(Jg={}));var Xg;(function(a){a.auto="auto",a.en="en",a.ja="ja",a.ko="ko",a.hi="hi"})(Xg||(Xg={}));var Qg;(function(a){a.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",a.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",a.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",a.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",a.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Qg||(Qg={}));var Wg;(function(a){a.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",a.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",a.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",a.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wg||(Wg={}));var ev;(function(a){a.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",a.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",a.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",a.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ev||(ev={}));var tv;(function(a){a.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",a.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",a.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",a.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",a.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",a.EDIT_MODE_STYLE="EDIT_MODE_STYLE",a.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",a.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tv||(tv={}));var nv;(function(a){a.STATE_UNSPECIFIED="STATE_UNSPECIFIED",a.PROCESSING="PROCESSING",a.ACTIVE="ACTIVE",a.FAILED="FAILED"})(nv||(nv={}));var iv;(function(a){a.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",a.UPLOADED="UPLOADED",a.GENERATED="GENERATED"})(iv||(iv={}));var ov;(function(a){a.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",a.TEXT="TEXT",a.IMAGE="IMAGE",a.VIDEO="VIDEO",a.AUDIO="AUDIO",a.DOCUMENT="DOCUMENT"})(ov||(ov={}));var av;(function(a){a.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",a.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",a.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(av||(av={}));var rv;(function(a){a.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",a.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",a.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rv||(rv={}));var sv;(function(a){a.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",a.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",a.NO_INTERRUPTION="NO_INTERRUPTION"})(sv||(sv={}));var lv;(function(a){a.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",a.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",a.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lv||(lv={}));var uv;(function(a){a.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",a.SILENT="SILENT",a.WHEN_IDLE="WHEN_IDLE",a.INTERRUPT="INTERRUPT"})(uv||(uv={}));var cv;(function(a){a.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",a.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",a.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",a.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",a.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",a.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",a.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",a.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",a.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",a.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",a.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",a.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",a.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cv||(cv={}));var fv;(function(a){a.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",a.QUALITY="QUALITY",a.DIVERSITY="DIVERSITY"})(fv||(fv={}));var Qr;(function(a){a.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",a.PLAY="PLAY",a.PAUSE="PAUSE",a.STOP="STOP",a.RESET_CONTEXT="RESET_CONTEXT"})(Qr||(Qr={}));class pl{get text(){var n,t,r,l,f,g,y,x;if(((l=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let v="",E=!1;const A=[];for(const N of(x=(y=(g=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.content)===null||y===void 0?void 0:y.parts)!==null&&x!==void 0?x:[]){for(const[D,R]of Object.entries(N))D!=="text"&&D!=="thought"&&(R!==null||R!==void 0)&&A.push(D);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;E=!0,v+=N.text}}return A.length>0&&console.warn(`there are non-text parts ${A} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),E?v:void 0}get data(){var n,t,r,l,f,g,y,x;if(((l=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let v="";const E=[];for(const A of(x=(y=(g=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.content)===null||y===void 0?void 0:y.parts)!==null&&x!==void 0?x:[]){for(const[N,D]of Object.entries(A))N!=="inlineData"&&(D!==null||D!==void 0)&&E.push(N);A.inlineData&&typeof A.inlineData.data=="string"&&(v+=atob(A.inlineData.data))}return E.length>0&&console.warn(`there are non-data parts ${E} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),v.length>0?btoa(v):void 0}get functionCalls(){var n,t,r,l,f,g,y,x;if(((l=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const v=(x=(y=(g=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.content)===null||y===void 0?void 0:y.parts)===null||x===void 0?void 0:x.filter(E=>E.functionCall).map(E=>E.functionCall).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return v}get executableCode(){var n,t,r,l,f,g,y,x,v;if(((l=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const E=(x=(y=(g=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.content)===null||y===void 0?void 0:y.parts)===null||x===void 0?void 0:x.filter(A=>A.executableCode).map(A=>A.executableCode).filter(A=>A!==void 0);if((E==null?void 0:E.length)!==0)return(v=E==null?void 0:E[0])===null||v===void 0?void 0:v.code}get codeExecutionResult(){var n,t,r,l,f,g,y,x,v;if(((l=(r=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const E=(x=(y=(g=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.content)===null||y===void 0?void 0:y.parts)===null||x===void 0?void 0:x.filter(A=>A.codeExecutionResult).map(A=>A.codeExecutionResult).filter(A=>A!==void 0);if((E==null?void 0:E.length)!==0)return(v=E==null?void 0:E[0])===null||v===void 0?void 0:v.output}}class dv{}class hv{}class JT{}class XT{}class mv{}class pv{}class gv{}class QT{}class vv{}class _v{}class yv{}class WT{}class Od{constructor(n){const t={};for(const r of n.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=n}json(){return this.responseInternal.json()}}class eC{}class tC{}class nC{get text(){var n,t,r;let l="",f=!1;const g=[];for(const y of(r=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[x,v]of Object.entries(y))x!=="text"&&x!=="thought"&&v!==null&&g.push(x);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;f=!0,l+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?l:void 0}get data(){var n,t,r;let l="";const f=[];for(const g of(r=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[y,x]of Object.entries(g))y!=="inlineData"&&x!==null&&f.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(l+=atob(g.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class iC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xt(a,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(a.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const t=n.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function __(a,n){const t=xt(a,n);return t?t.startsWith("publishers/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/${t}`:t.startsWith("models/")&&a.isVertexAI()?`projects/${a.getProject()}/locations/${a.getLocation()}/publishers/google/${t}`:t:""}function y_(a,n){return Array.isArray(n)?n.map(t=>dc(a,t)):[dc(a,n)]}function dc(a,n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function oC(a,n){const t=dc(a,n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function aC(a,n){const t=dc(a,n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function xv(a,n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function x_(a,n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>xv(a,t)):[xv(a,n)]}function zd(a){return a!=null&&typeof a=="object"&&"parts"in a&&Array.isArray(a.parts)}function Tv(a){return a!=null&&typeof a=="object"&&"functionCall"in a}function Cv(a){return a!=null&&typeof a=="object"&&"functionResponse"in a}function En(a,n){if(n==null)throw new Error("ContentUnion is required");return zd(n)?n:{role:"user",parts:x_(a,n)}}function T_(a,n){if(!n)return[];if(a.isVertexAI()&&Array.isArray(n))return n.flatMap(t=>{const r=En(a,t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(a.isVertexAI()){const t=En(a,n);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(n)?n.map(t=>En(a,t)):[En(a,n)]}function vi(a,n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Tv(n)||Cv(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[En(a,n)]}const t=[],r=[],l=zd(n[0]);for(const f of n){const g=zd(f);if(g!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(g)t.push(f);else{if(Tv(f)||Cv(f))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(f)}}return l||t.push({role:"user",parts:x_(a,r)}),t}const Sv=FT(["string","number","integer","object","array","boolean","null"]),rC=qT([Sv,xl(Sv)]);function sC(a=!0){const n=GT(()=>{const t=HT({type:rC.optional(),format:Xa().optional(),title:Xa().optional(),description:Xa().optional(),default:Ng().optional(),items:n.optional(),minItems:Kr.string().optional(),maxItems:Kr.string().optional(),enum:xl(Ng()).optional(),properties:ZT(Xa(),n).optional(),required:xl(Xa()).optional(),minProperties:Kr.string().optional(),maxProperties:Kr.string().optional(),propertyOrdering:xl(Xa()).optional(),minimum:Mg().optional(),maximum:Mg().optional(),minLength:Kr.string().optional(),maxLength:Kr.string().optional(),pattern:Xa().optional(),anyOf:xl(n).optional(),additionalProperties:VT().optional()});return a?t.strict():t});return n}function lC(a,n){a.includes("null")&&(n.nullable=!0);const t=a.filter(r=>r!=="null");if(t.length===1)n.type=Object.keys(Ii).includes(t[0].toUpperCase())?Ii[t[0].toUpperCase()]:Ii.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const r of t)n.anyOf.push({type:Object.keys(Ii).includes(r.toUpperCase())?Ii[r.toUpperCase()]:Ii.TYPE_UNSPECIFIED})}}function Tl(a){const n={},t=["items"],r=["anyOf"],l=["properties"];if(a.type&&a.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=a.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,a=f[1]):f[1].type==="null"&&(n.nullable=!0,a=f[0])),a.type instanceof Array&&lC(a.type,n);for(const[g,y]of Object.entries(a))if(y!=null)if(g=="type"){if(y==="null")throw new Error("type: null can not be the only possible type for the field.");if(y instanceof Array)continue;n.type=Object.keys(Ii).includes(y.toUpperCase())?y.toUpperCase():Ii.TYPE_UNSPECIFIED}else if(t.includes(g))n[g]=Tl(y);else if(r.includes(g)){const x=[];for(const v of y){if(v.type=="null"){n.nullable=!0;continue}x.push(Tl(v))}n[g]=x}else if(l.includes(g)){const x={};for(const[v,E]of Object.entries(y))x[v]=Tl(E);n[g]=x}else{if(g==="additionalProperties")continue;n[g]=y}return n}function hc(a,n){if(Object.keys(n).includes("$schema")){delete n.$schema;const t=sC().parse(n);return Tl(t)}else return Tl(n)}function C_(a,n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function S_(a,n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function gc(a,n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(t.parameters=hc(a,t.parameters)),t.response&&(t.response=hc(a,t.response));return n}function vc(a,n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of n)t.push(r);return t}function uC(a,n,t,r=1){const l=!n.startsWith(`${t}/`)&&n.split("/").length===r;return a.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${a.getProject()}/${n}`:n.startsWith(`${t}/`)?`projects/${a.getProject()}/locations/${a.getLocation()}/${n}`:l?`projects/${a.getProject()}/locations/${a.getLocation()}/${t}/${n}`:n:l?`${t}/${n}`:n}function va(a,n){if(typeof n!="string")throw new Error("name must be a string");return uC(a,n,"cachedContents")}function E_(a,n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function _a(a,n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function cC(a){return a!=null&&typeof a=="object"&&"name"in a}function fC(a){return a!=null&&typeof a=="object"&&"video"in a}function dC(a){return a!=null&&typeof a=="object"&&"uri"in a}function b_(a,n){var t;let r;if(cC(n)&&(r=n.name),!(dC(n)&&(r=n.uri,r===void 0))&&!(fC(n)&&(r=(t=n.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof n=="string"&&(r=n),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const f=r.split("files/")[1].match(/[a-z0-9]+/);if(f===null)throw new Error(`Could not extract file name from URI ${r}`);r=f[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function w_(a,n){let t;return a.isVertexAI()?t=n?"publishers/google/models":"models":t=n?"models":"tunedModels",t}function A_(a,n){for(const t of["models","tunedModels","publisherModels"])if(hC(n,t))return n[t];return[]}function hC(a,n){return a!==null&&typeof a=="object"&&n in a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function pC(a,n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["data"]);r!=null&&h(t,["data"],r);const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function gC(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],mC(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],pC(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function Ev(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>gC(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function vC(a,n){const t={},r=d(n,["behavior"]);r!=null&&h(t,["behavior"],r);const l=d(n,["description"]);l!=null&&h(t,["description"],l);const f=d(n,["name"]);f!=null&&h(t,["name"],f);const g=d(n,["parameters"]);g!=null&&h(t,["parameters"],g);const y=d(n,["response"]);return y!=null&&h(t,["response"],y),t}function _C(a,n){const t={},r=d(n,["startTime"]);r!=null&&h(t,["startTime"],r);const l=d(n,["endTime"]);return l!=null&&h(t,["endTime"],l),t}function yC(a,n){const t={},r=d(n,["timeRangeFilter"]);return r!=null&&h(t,["timeRangeFilter"],_C(a,r)),t}function xC(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["dynamicThreshold"]);return l!=null&&h(t,["dynamicThreshold"],l),t}function TC(a,n){const t={},r=d(n,["dynamicRetrievalConfig"]);return r!=null&&h(t,["dynamicRetrievalConfig"],xC(a,r)),t}function CC(){return{}}function SC(a,n){const t={},r=d(n,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(v=>vC(a,v))),h(t,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearch"]);l!=null&&h(t,["googleSearch"],yC(a,l));const f=d(n,["googleSearchRetrieval"]);if(f!=null&&h(t,["googleSearchRetrieval"],TC(a,f)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(t,["urlContext"],CC());const y=d(n,["codeExecution"]);return y!=null&&h(t,["codeExecution"],y),t}function EC(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["allowedFunctionNames"]);return l!=null&&h(t,["allowedFunctionNames"],l),t}function bC(a,n){const t={},r=d(n,["latitude"]);r!=null&&h(t,["latitude"],r);const l=d(n,["longitude"]);return l!=null&&h(t,["longitude"],l),t}function wC(a,n){const t={},r=d(n,["latLng"]);return r!=null&&h(t,["latLng"],bC(a,r)),t}function AC(a,n){const t={},r=d(n,["functionCallingConfig"]);r!=null&&h(t,["functionCallingConfig"],EC(a,r));const l=d(n,["retrievalConfig"]);return l!=null&&h(t,["retrievalConfig"],wC(a,l)),t}function MC(a,n,t){const r={},l=d(n,["ttl"]);t!==void 0&&l!=null&&h(t,["ttl"],l);const f=d(n,["expireTime"]);t!==void 0&&f!=null&&h(t,["expireTime"],f);const g=d(n,["displayName"]);t!==void 0&&g!=null&&h(t,["displayName"],g);const y=d(n,["contents"]);if(t!==void 0&&y!=null){let A=vi(a,y);Array.isArray(A)&&(A=A.map(N=>Ev(a,N))),h(t,["contents"],A)}const x=d(n,["systemInstruction"]);t!==void 0&&x!=null&&h(t,["systemInstruction"],Ev(a,En(a,x)));const v=d(n,["tools"]);if(t!==void 0&&v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>SC(a,N))),h(t,["tools"],A)}const E=d(n,["toolConfig"]);if(t!==void 0&&E!=null&&h(t,["toolConfig"],AC(a,E)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function NC(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["model"],__(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],MC(a,l,t)),t}function RC(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],va(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function LC(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],va(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function DC(a,n,t){const r={},l=d(n,["ttl"]);t!==void 0&&l!=null&&h(t,["ttl"],l);const f=d(n,["expireTime"]);return t!==void 0&&f!=null&&h(t,["expireTime"],f),r}function kC(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],va(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],DC(a,l,t)),t}function PC(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);return t!==void 0&&f!=null&&h(t,["_query","pageToken"],f),r}function IC(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],PC(a,r,t)),t}function OC(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function zC(a,n){const t={},r=d(n,["displayName"]);r!=null&&h(t,["displayName"],r);const l=d(n,["data"]);l!=null&&h(t,["data"],l);const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function UC(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],OC(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],zC(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function bv(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>UC(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function BC(a,n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=d(n,["description"]);r!=null&&h(t,["description"],r);const l=d(n,["name"]);l!=null&&h(t,["name"],l);const f=d(n,["parameters"]);f!=null&&h(t,["parameters"],f);const g=d(n,["response"]);return g!=null&&h(t,["response"],g),t}function VC(a,n){const t={},r=d(n,["startTime"]);r!=null&&h(t,["startTime"],r);const l=d(n,["endTime"]);return l!=null&&h(t,["endTime"],l),t}function HC(a,n){const t={},r=d(n,["timeRangeFilter"]);return r!=null&&h(t,["timeRangeFilter"],VC(a,r)),t}function qC(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["dynamicThreshold"]);return l!=null&&h(t,["dynamicThreshold"],l),t}function ZC(a,n){const t={},r=d(n,["dynamicRetrievalConfig"]);return r!=null&&h(t,["dynamicRetrievalConfig"],qC(a,r)),t}function GC(){return{}}function FC(a,n){const t={},r=d(n,["apiKeyString"]);return r!=null&&h(t,["apiKeyString"],r),t}function YC(a,n){const t={},r=d(n,["apiKeyConfig"]);r!=null&&h(t,["apiKeyConfig"],FC(a,r));const l=d(n,["authType"]);l!=null&&h(t,["authType"],l);const f=d(n,["googleServiceAccountConfig"]);f!=null&&h(t,["googleServiceAccountConfig"],f);const g=d(n,["httpBasicAuthConfig"]);g!=null&&h(t,["httpBasicAuthConfig"],g);const y=d(n,["oauthConfig"]);y!=null&&h(t,["oauthConfig"],y);const x=d(n,["oidcConfig"]);return x!=null&&h(t,["oidcConfig"],x),t}function jC(a,n){const t={},r=d(n,["authConfig"]);return r!=null&&h(t,["authConfig"],YC(a,r)),t}function $C(a,n){const t={},r=d(n,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(A=>BC(a,A))),h(t,["functionDeclarations"],E)}const l=d(n,["retrieval"]);l!=null&&h(t,["retrieval"],l);const f=d(n,["googleSearch"]);f!=null&&h(t,["googleSearch"],HC(a,f));const g=d(n,["googleSearchRetrieval"]);g!=null&&h(t,["googleSearchRetrieval"],ZC(a,g)),d(n,["enterpriseWebSearch"])!=null&&h(t,["enterpriseWebSearch"],GC());const x=d(n,["googleMaps"]);if(x!=null&&h(t,["googleMaps"],jC(a,x)),d(n,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const v=d(n,["codeExecution"]);return v!=null&&h(t,["codeExecution"],v),t}function KC(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["allowedFunctionNames"]);return l!=null&&h(t,["allowedFunctionNames"],l),t}function JC(a,n){const t={},r=d(n,["latitude"]);r!=null&&h(t,["latitude"],r);const l=d(n,["longitude"]);return l!=null&&h(t,["longitude"],l),t}function XC(a,n){const t={},r=d(n,["latLng"]);return r!=null&&h(t,["latLng"],JC(a,r)),t}function QC(a,n){const t={},r=d(n,["functionCallingConfig"]);r!=null&&h(t,["functionCallingConfig"],KC(a,r));const l=d(n,["retrievalConfig"]);return l!=null&&h(t,["retrievalConfig"],XC(a,l)),t}function WC(a,n,t){const r={},l=d(n,["ttl"]);t!==void 0&&l!=null&&h(t,["ttl"],l);const f=d(n,["expireTime"]);t!==void 0&&f!=null&&h(t,["expireTime"],f);const g=d(n,["displayName"]);t!==void 0&&g!=null&&h(t,["displayName"],g);const y=d(n,["contents"]);if(t!==void 0&&y!=null){let N=vi(a,y);Array.isArray(N)&&(N=N.map(D=>bv(a,D))),h(t,["contents"],N)}const x=d(n,["systemInstruction"]);t!==void 0&&x!=null&&h(t,["systemInstruction"],bv(a,En(a,x)));const v=d(n,["tools"]);if(t!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(D=>$C(a,D))),h(t,["tools"],N)}const E=d(n,["toolConfig"]);t!==void 0&&E!=null&&h(t,["toolConfig"],QC(a,E));const A=d(n,["kmsKeyName"]);return t!==void 0&&A!=null&&h(t,["encryption_spec","kmsKeyName"],A),r}function eS(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["model"],__(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],WC(a,l,t)),t}function tS(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],va(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function nS(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],va(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function iS(a,n,t){const r={},l=d(n,["ttl"]);t!==void 0&&l!=null&&h(t,["ttl"],l);const f=d(n,["expireTime"]);return t!==void 0&&f!=null&&h(t,["expireTime"],f),r}function oS(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],va(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],iS(a,l,t)),t}function aS(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);return t!==void 0&&f!=null&&h(t,["_query","pageToken"],f),r}function rS(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],aS(a,r,t)),t}function Wu(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["displayName"]);l!=null&&h(t,["displayName"],l);const f=d(n,["model"]);f!=null&&h(t,["model"],f);const g=d(n,["createTime"]);g!=null&&h(t,["createTime"],g);const y=d(n,["updateTime"]);y!=null&&h(t,["updateTime"],y);const x=d(n,["expireTime"]);x!=null&&h(t,["expireTime"],x);const v=d(n,["usageMetadata"]);return v!=null&&h(t,["usageMetadata"],v),t}function sS(){return{}}function lS(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>Wu(a,g))),h(t,["cachedContents"],f)}return t}function ec(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["displayName"]);l!=null&&h(t,["displayName"],l);const f=d(n,["model"]);f!=null&&h(t,["model"],f);const g=d(n,["createTime"]);g!=null&&h(t,["createTime"],g);const y=d(n,["updateTime"]);y!=null&&h(t,["updateTime"],y);const x=d(n,["expireTime"]);x!=null&&h(t,["expireTime"],x);const v=d(n,["usageMetadata"]);return v!=null&&h(t,["usageMetadata"],v),t}function uS(){return{}}function cS(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>ec(a,g))),h(t,["cachedContents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var os;(function(a){a.PAGED_ITEM_BATCH_JOBS="batchJobs",a.PAGED_ITEM_MODELS="models",a.PAGED_ITEM_TUNING_JOBS="tuningJobs",a.PAGED_ITEM_FILES="files",a.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(os||(os={}));class _c{constructor(n,t,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(n,r,l)}init(n,t,r){var l,f;this.nameInternal=n,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let g={config:{}};r?typeof r=="object"?g=Object.assign({},r):g=r:g={config:{}},g.config&&(g.config.pageToken=t.nextPageToken),this.paramsInternal=g,this.pageInternalSize=(f=(l=g.config)===null||l===void 0?void 0:l.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fS extends Al{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new _c(os.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=eS(this.apiClient,n);return y=ke("cachedContents",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>ec(this.apiClient,E))}else{const v=NC(this.apiClient,n);return y=ke("cachedContents",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>Wu(this.apiClient,E))}}async get(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=tS(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>ec(this.apiClient,E))}else{const v=RC(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>Wu(this.apiClient,E))}}async delete(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=nS(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(()=>{const E=uS(),A=new _v;return Object.assign(A,E),A})}else{const v=LC(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(()=>{const E=sS(),A=new _v;return Object.assign(A,E),A})}}async update(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=oS(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>ec(this.apiClient,E))}else{const v=kC(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>Wu(this.apiClient,E))}}async listInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=rS(this.apiClient,n);return y=ke("cachedContents",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=cS(this.apiClient,E),N=new yv;return Object.assign(N,A),N})}else{const v=IC(this.apiClient,n);return y=ke("cachedContents",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=lS(this.apiClient,E),N=new yv;return Object.assign(N,A),N})}}}function wv(a){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&a[n],r=0;if(t)return t.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&r>=a.length&&(a=void 0),{value:a&&a[r++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(a){return this instanceof At?(this.v=a,this):new At(a)}function Cl(a,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(a,n||[]),l,f=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",g),l[Symbol.asyncIterator]=function(){return this},l;function g(D){return function(R){return Promise.resolve(R).then(D,A)}}function y(D,R){r[D]&&(l[D]=function(O){return new Promise(function(J,H){f.push([D,O,J,H])>1||x(D,O)})},R&&(l[D]=R(l[D])))}function x(D,R){try{v(r[D](R))}catch(O){N(f[0][3],O)}}function v(D){D.value instanceof At?Promise.resolve(D.value.v).then(E,A):N(f[0][2],D)}function E(D){x("next",D)}function A(D){x("throw",D)}function N(D,R){D(R),f.shift(),f.length&&x(f[0][0],f[0][1])}}function tc(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],t;return n?n.call(a):(a=typeof wv=="function"?wv(a):a[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(f){t[f]=a[f]&&function(g){return new Promise(function(y,x){g=a[f](g),l(y,x,g.done,g.value)})}}function l(f,g,y,x){Promise.resolve(x).then(function(v){f({value:v,done:y})},g)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(a){var n;if(a.candidates==null||a.candidates.length===0)return!1;const t=(n=a.candidates[0])===null||n===void 0?void 0:n.content;return t===void 0?!1:M_(t)}function M_(a){if(a.parts===void 0||a.parts.length===0)return!1;for(const n of a.parts)if(n===void 0||Object.keys(n).length===0||!n.thought&&n.text!==void 0&&n.text==="")return!1;return!0}function hS(a){if(a.length!==0){for(const n of a)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Av(a){if(a===void 0||a.length===0)return[];const n=[],t=a.length;let r=0;for(;r<t;)if(a[r].role==="user")n.push(a[r]),r++;else{const l=[];let f=!0;for(;r<t&&a[r].role==="model";)l.push(a[r]),f&&!M_(a[r])&&(f=!1),r++;f?n.push(...l):n.pop()}return n}class mS{constructor(n,t){this.modelsModule=n,this.apiClient=t}create(n){return new pS(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class pS{constructor(n,t,r,l={},f=[]){this.apiClient=n,this.modelsModule=t,this.model=r,this.config=l,this.history=f,this.sendPromise=Promise.resolve(),hS(f)}async sendMessage(n){var t;await this.sendPromise;const r=En(this.apiClient,n.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=n.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var f,g,y;const x=await l,v=(g=(f=x.candidates)===null||f===void 0?void 0:f[0])===null||g===void 0?void 0:g.content,E=x.automaticFunctionCallingHistory,A=this.getHistory(!0).length;let N=[];E!=null&&(N=(y=E.slice(A))!==null&&y!==void 0?y:[]);const D=v?[v]:[];this.recordHistory(r,D,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(n){var t;await this.sendPromise;const r=En(this.apiClient,n.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=n.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const f=await l;return this.processStreamResponse(f,r)}getHistory(n=!1){const t=n?Av(this.history):this.history;return structuredClone(t)}processStreamResponse(n,t){var r,l;return Cl(this,arguments,function*(){var g,y,x,v;const E=[];try{for(var A=!0,N=tc(n),D;D=yield At(N.next()),g=D.done,!g;A=!0){v=D.value,A=!1;const R=v;if(dS(R)){const O=(l=(r=R.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content;O!==void 0&&E.push(O)}yield yield At(R)}}catch(R){y={error:R}}finally{try{!A&&!g&&(x=N.return)&&(yield At(x.call(N)))}finally{if(y)throw y.error}}this.recordHistory(t,E)})}recordHistory(n,t,r){let l=[];t.length>0&&t.every(f=>f.role!==void 0)?l=t:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Av(r)):this.history.push(n),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);return t!==void 0&&f!=null&&h(t,["_query","pageToken"],f),r}function vS(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],gS(a,r,t)),t}function _S(a,n){const t={},r=d(n,["details"]);r!=null&&h(t,["details"],r);const l=d(n,["message"]);l!=null&&h(t,["message"],l);const f=d(n,["code"]);return f!=null&&h(t,["code"],f),t}function yS(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["displayName"]);l!=null&&h(t,["displayName"],l);const f=d(n,["mimeType"]);f!=null&&h(t,["mimeType"],f);const g=d(n,["sizeBytes"]);g!=null&&h(t,["sizeBytes"],g);const y=d(n,["createTime"]);y!=null&&h(t,["createTime"],y);const x=d(n,["expirationTime"]);x!=null&&h(t,["expirationTime"],x);const v=d(n,["updateTime"]);v!=null&&h(t,["updateTime"],v);const E=d(n,["sha256Hash"]);E!=null&&h(t,["sha256Hash"],E);const A=d(n,["uri"]);A!=null&&h(t,["uri"],A);const N=d(n,["downloadUri"]);N!=null&&h(t,["downloadUri"],N);const D=d(n,["state"]);D!=null&&h(t,["state"],D);const R=d(n,["source"]);R!=null&&h(t,["source"],R);const O=d(n,["videoMetadata"]);O!=null&&h(t,["videoMetadata"],O);const J=d(n,["error"]);return J!=null&&h(t,["error"],_S(a,J)),t}function xS(a,n){const t={},r=d(n,["file"]);r!=null&&h(t,["file"],yS(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function TS(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","file"],b_(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function CS(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","file"],b_(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function SS(a,n){const t={},r=d(n,["details"]);r!=null&&h(t,["details"],r);const l=d(n,["message"]);l!=null&&h(t,["message"],l);const f=d(n,["code"]);return f!=null&&h(t,["code"],f),t}function Ud(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["displayName"]);l!=null&&h(t,["displayName"],l);const f=d(n,["mimeType"]);f!=null&&h(t,["mimeType"],f);const g=d(n,["sizeBytes"]);g!=null&&h(t,["sizeBytes"],g);const y=d(n,["createTime"]);y!=null&&h(t,["createTime"],y);const x=d(n,["expirationTime"]);x!=null&&h(t,["expirationTime"],x);const v=d(n,["updateTime"]);v!=null&&h(t,["updateTime"],v);const E=d(n,["sha256Hash"]);E!=null&&h(t,["sha256Hash"],E);const A=d(n,["uri"]);A!=null&&h(t,["uri"],A);const N=d(n,["downloadUri"]);N!=null&&h(t,["downloadUri"],N);const D=d(n,["state"]);D!=null&&h(t,["state"],D);const R=d(n,["source"]);R!=null&&h(t,["source"],R);const O=d(n,["videoMetadata"]);O!=null&&h(t,["videoMetadata"],O);const J=d(n,["error"]);return J!=null&&h(t,["error"],SS(a,J)),t}function ES(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["files"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>Ud(a,g))),h(t,["files"],f)}return t}function bS(){return{}}function wS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends Al{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new _c(os.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(t=>Ud(this.apiClient,t))}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=vS(this.apiClient,n);return f=ke("files",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const v=ES(this.apiClient,x),E=new WT;return Object.assign(E,v),E})}}async createInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=xS(this.apiClient,n);return f=ke("upload/v1beta/files",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(()=>{const x=bS(),v=new eC;return Object.assign(v,x),v})}}async get(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=TS(this.apiClient,n);return f=ke("files/{file}",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>Ud(this.apiClient,x))}}async delete(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=CS(this.apiClient,n);return f=ke("files/{file}",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(()=>{const x=wS(),v=new tC;return Object.assign(v,x),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(a,n){const t={},r=d(n,["voiceName"]);return r!=null&&h(t,["voiceName"],r),t}function NS(a,n){const t={},r=d(n,["voiceName"]);return r!=null&&h(t,["voiceName"],r),t}function N_(a,n){const t={},r=d(n,["prebuiltVoiceConfig"]);return r!=null&&h(t,["prebuiltVoiceConfig"],MS(a,r)),t}function RS(a,n){const t={},r=d(n,["prebuiltVoiceConfig"]);return r!=null&&h(t,["prebuiltVoiceConfig"],NS(a,r)),t}function LS(a,n){const t={},r=d(n,["speaker"]);r!=null&&h(t,["speaker"],r);const l=d(n,["voiceConfig"]);return l!=null&&h(t,["voiceConfig"],N_(a,l)),t}function DS(a,n){const t={},r=d(n,["speakerVoiceConfigs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>LS(a,f))),h(t,["speakerVoiceConfigs"],l)}return t}function kS(a,n){const t={},r=d(n,["voiceConfig"]);r!=null&&h(t,["voiceConfig"],N_(a,r));const l=d(n,["multiSpeakerVoiceConfig"]);l!=null&&h(t,["multiSpeakerVoiceConfig"],DS(a,l));const f=d(n,["languageCode"]);return f!=null&&h(t,["languageCode"],f),t}function PS(a,n){const t={},r=d(n,["voiceConfig"]);if(r!=null&&h(t,["voiceConfig"],RS(a,r)),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=d(n,["languageCode"]);return l!=null&&h(t,["languageCode"],l),t}function IS(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function OS(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function zS(a,n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["data"]);r!=null&&h(t,["data"],r);const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function US(a,n){const t={},r=d(n,["displayName"]);r!=null&&h(t,["displayName"],r);const l=d(n,["data"]);l!=null&&h(t,["data"],l);const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function BS(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],IS(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],zS(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function VS(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],OS(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],US(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function HS(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>BS(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function qS(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>VS(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function ZS(a,n){const t={},r=d(n,["behavior"]);r!=null&&h(t,["behavior"],r);const l=d(n,["description"]);l!=null&&h(t,["description"],l);const f=d(n,["name"]);f!=null&&h(t,["name"],f);const g=d(n,["parameters"]);g!=null&&h(t,["parameters"],g);const y=d(n,["response"]);return y!=null&&h(t,["response"],y),t}function GS(a,n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=d(n,["description"]);r!=null&&h(t,["description"],r);const l=d(n,["name"]);l!=null&&h(t,["name"],l);const f=d(n,["parameters"]);f!=null&&h(t,["parameters"],f);const g=d(n,["response"]);return g!=null&&h(t,["response"],g),t}function FS(a,n){const t={},r=d(n,["startTime"]);r!=null&&h(t,["startTime"],r);const l=d(n,["endTime"]);return l!=null&&h(t,["endTime"],l),t}function YS(a,n){const t={},r=d(n,["startTime"]);r!=null&&h(t,["startTime"],r);const l=d(n,["endTime"]);return l!=null&&h(t,["endTime"],l),t}function jS(a,n){const t={},r=d(n,["timeRangeFilter"]);return r!=null&&h(t,["timeRangeFilter"],FS(a,r)),t}function $S(a,n){const t={},r=d(n,["timeRangeFilter"]);return r!=null&&h(t,["timeRangeFilter"],YS(a,r)),t}function KS(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["dynamicThreshold"]);return l!=null&&h(t,["dynamicThreshold"],l),t}function JS(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["dynamicThreshold"]);return l!=null&&h(t,["dynamicThreshold"],l),t}function XS(a,n){const t={},r=d(n,["dynamicRetrievalConfig"]);return r!=null&&h(t,["dynamicRetrievalConfig"],KS(a,r)),t}function QS(a,n){const t={},r=d(n,["dynamicRetrievalConfig"]);return r!=null&&h(t,["dynamicRetrievalConfig"],JS(a,r)),t}function WS(){return{}}function eE(a,n){const t={},r=d(n,["apiKeyString"]);return r!=null&&h(t,["apiKeyString"],r),t}function tE(a,n){const t={},r=d(n,["apiKeyConfig"]);r!=null&&h(t,["apiKeyConfig"],eE(a,r));const l=d(n,["authType"]);l!=null&&h(t,["authType"],l);const f=d(n,["googleServiceAccountConfig"]);f!=null&&h(t,["googleServiceAccountConfig"],f);const g=d(n,["httpBasicAuthConfig"]);g!=null&&h(t,["httpBasicAuthConfig"],g);const y=d(n,["oauthConfig"]);y!=null&&h(t,["oauthConfig"],y);const x=d(n,["oidcConfig"]);return x!=null&&h(t,["oidcConfig"],x),t}function nE(a,n){const t={},r=d(n,["authConfig"]);return r!=null&&h(t,["authConfig"],tE(a,r)),t}function iE(){return{}}function oE(a,n){const t={},r=d(n,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(v=>ZS(a,v))),h(t,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearch"]);l!=null&&h(t,["googleSearch"],jS(a,l));const f=d(n,["googleSearchRetrieval"]);if(f!=null&&h(t,["googleSearchRetrieval"],XS(a,f)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(t,["urlContext"],iE());const y=d(n,["codeExecution"]);return y!=null&&h(t,["codeExecution"],y),t}function aE(a,n){const t={},r=d(n,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(A=>GS(a,A))),h(t,["functionDeclarations"],E)}const l=d(n,["retrieval"]);l!=null&&h(t,["retrieval"],l);const f=d(n,["googleSearch"]);f!=null&&h(t,["googleSearch"],$S(a,f));const g=d(n,["googleSearchRetrieval"]);g!=null&&h(t,["googleSearchRetrieval"],QS(a,g)),d(n,["enterpriseWebSearch"])!=null&&h(t,["enterpriseWebSearch"],WS());const x=d(n,["googleMaps"]);if(x!=null&&h(t,["googleMaps"],nE(a,x)),d(n,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const v=d(n,["codeExecution"]);return v!=null&&h(t,["codeExecution"],v),t}function rE(a,n){const t={},r=d(n,["handle"]);if(r!=null&&h(t,["handle"],r),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function sE(a,n){const t={},r=d(n,["handle"]);r!=null&&h(t,["handle"],r);const l=d(n,["transparent"]);return l!=null&&h(t,["transparent"],l),t}function Mv(){return{}}function Nv(){return{}}function lE(a,n){const t={},r=d(n,["disabled"]);r!=null&&h(t,["disabled"],r);const l=d(n,["startOfSpeechSensitivity"]);l!=null&&h(t,["startOfSpeechSensitivity"],l);const f=d(n,["endOfSpeechSensitivity"]);f!=null&&h(t,["endOfSpeechSensitivity"],f);const g=d(n,["prefixPaddingMs"]);g!=null&&h(t,["prefixPaddingMs"],g);const y=d(n,["silenceDurationMs"]);return y!=null&&h(t,["silenceDurationMs"],y),t}function uE(a,n){const t={},r=d(n,["disabled"]);r!=null&&h(t,["disabled"],r);const l=d(n,["startOfSpeechSensitivity"]);l!=null&&h(t,["startOfSpeechSensitivity"],l);const f=d(n,["endOfSpeechSensitivity"]);f!=null&&h(t,["endOfSpeechSensitivity"],f);const g=d(n,["prefixPaddingMs"]);g!=null&&h(t,["prefixPaddingMs"],g);const y=d(n,["silenceDurationMs"]);return y!=null&&h(t,["silenceDurationMs"],y),t}function cE(a,n){const t={},r=d(n,["automaticActivityDetection"]);r!=null&&h(t,["automaticActivityDetection"],lE(a,r));const l=d(n,["activityHandling"]);l!=null&&h(t,["activityHandling"],l);const f=d(n,["turnCoverage"]);return f!=null&&h(t,["turnCoverage"],f),t}function fE(a,n){const t={},r=d(n,["automaticActivityDetection"]);r!=null&&h(t,["automaticActivityDetection"],uE(a,r));const l=d(n,["activityHandling"]);l!=null&&h(t,["activityHandling"],l);const f=d(n,["turnCoverage"]);return f!=null&&h(t,["turnCoverage"],f),t}function dE(a,n){const t={},r=d(n,["targetTokens"]);return r!=null&&h(t,["targetTokens"],r),t}function hE(a,n){const t={},r=d(n,["targetTokens"]);return r!=null&&h(t,["targetTokens"],r),t}function mE(a,n){const t={},r=d(n,["triggerTokens"]);r!=null&&h(t,["triggerTokens"],r);const l=d(n,["slidingWindow"]);return l!=null&&h(t,["slidingWindow"],dE(a,l)),t}function pE(a,n){const t={},r=d(n,["triggerTokens"]);r!=null&&h(t,["triggerTokens"],r);const l=d(n,["slidingWindow"]);return l!=null&&h(t,["slidingWindow"],hE(a,l)),t}function gE(a,n){const t={},r=d(n,["proactiveAudio"]);return r!=null&&h(t,["proactiveAudio"],r),t}function vE(a,n){const t={},r=d(n,["proactiveAudio"]);return r!=null&&h(t,["proactiveAudio"],r),t}function _E(a,n,t){const r={},l=d(n,["generationConfig"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig"],l);const f=d(n,["responseModalities"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","responseModalities"],f);const g=d(n,["temperature"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","temperature"],g);const y=d(n,["topP"]);t!==void 0&&y!=null&&h(t,["setup","generationConfig","topP"],y);const x=d(n,["topK"]);t!==void 0&&x!=null&&h(t,["setup","generationConfig","topK"],x);const v=d(n,["maxOutputTokens"]);t!==void 0&&v!=null&&h(t,["setup","generationConfig","maxOutputTokens"],v);const E=d(n,["mediaResolution"]);t!==void 0&&E!=null&&h(t,["setup","generationConfig","mediaResolution"],E);const A=d(n,["seed"]);t!==void 0&&A!=null&&h(t,["setup","generationConfig","seed"],A);const N=d(n,["speechConfig"]);t!==void 0&&N!=null&&h(t,["setup","generationConfig","speechConfig"],kS(a,S_(a,N)));const D=d(n,["enableAffectiveDialog"]);t!==void 0&&D!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],D);const R=d(n,["systemInstruction"]);t!==void 0&&R!=null&&h(t,["setup","systemInstruction"],HS(a,En(a,R)));const O=d(n,["tools"]);if(t!==void 0&&O!=null){let ce=vc(a,O);Array.isArray(ce)&&(ce=ce.map(pe=>oE(a,gc(a,pe)))),h(t,["setup","tools"],ce)}const J=d(n,["sessionResumption"]);t!==void 0&&J!=null&&h(t,["setup","sessionResumption"],rE(a,J));const H=d(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&h(t,["setup","inputAudioTranscription"],Mv());const Y=d(n,["outputAudioTranscription"]);t!==void 0&&Y!=null&&h(t,["setup","outputAudioTranscription"],Mv());const Q=d(n,["realtimeInputConfig"]);t!==void 0&&Q!=null&&h(t,["setup","realtimeInputConfig"],cE(a,Q));const W=d(n,["contextWindowCompression"]);t!==void 0&&W!=null&&h(t,["setup","contextWindowCompression"],mE(a,W));const K=d(n,["proactivity"]);return t!==void 0&&K!=null&&h(t,["setup","proactivity"],gE(a,K)),r}function yE(a,n,t){const r={},l=d(n,["generationConfig"]);t!==void 0&&l!=null&&h(t,["setup","generationConfig"],l);const f=d(n,["responseModalities"]);t!==void 0&&f!=null&&h(t,["setup","generationConfig","responseModalities"],f);const g=d(n,["temperature"]);t!==void 0&&g!=null&&h(t,["setup","generationConfig","temperature"],g);const y=d(n,["topP"]);t!==void 0&&y!=null&&h(t,["setup","generationConfig","topP"],y);const x=d(n,["topK"]);t!==void 0&&x!=null&&h(t,["setup","generationConfig","topK"],x);const v=d(n,["maxOutputTokens"]);t!==void 0&&v!=null&&h(t,["setup","generationConfig","maxOutputTokens"],v);const E=d(n,["mediaResolution"]);t!==void 0&&E!=null&&h(t,["setup","generationConfig","mediaResolution"],E);const A=d(n,["seed"]);t!==void 0&&A!=null&&h(t,["setup","generationConfig","seed"],A);const N=d(n,["speechConfig"]);t!==void 0&&N!=null&&h(t,["setup","generationConfig","speechConfig"],PS(a,S_(a,N)));const D=d(n,["enableAffectiveDialog"]);t!==void 0&&D!=null&&h(t,["setup","generationConfig","enableAffectiveDialog"],D);const R=d(n,["systemInstruction"]);t!==void 0&&R!=null&&h(t,["setup","systemInstruction"],qS(a,En(a,R)));const O=d(n,["tools"]);if(t!==void 0&&O!=null){let ce=vc(a,O);Array.isArray(ce)&&(ce=ce.map(pe=>aE(a,gc(a,pe)))),h(t,["setup","tools"],ce)}const J=d(n,["sessionResumption"]);t!==void 0&&J!=null&&h(t,["setup","sessionResumption"],sE(a,J));const H=d(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&h(t,["setup","inputAudioTranscription"],Nv());const Y=d(n,["outputAudioTranscription"]);t!==void 0&&Y!=null&&h(t,["setup","outputAudioTranscription"],Nv());const Q=d(n,["realtimeInputConfig"]);t!==void 0&&Q!=null&&h(t,["setup","realtimeInputConfig"],fE(a,Q));const W=d(n,["contextWindowCompression"]);t!==void 0&&W!=null&&h(t,["setup","contextWindowCompression"],pE(a,W));const K=d(n,["proactivity"]);return t!==void 0&&K!=null&&h(t,["setup","proactivity"],vE(a,K)),r}function xE(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["setup","model"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],_E(a,l,t)),t}function TE(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["setup","model"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],yE(a,l,t)),t}function CE(){return{}}function SE(){return{}}function EE(){return{}}function bE(){return{}}function wE(a,n){const t={},r=d(n,["media"]);r!=null&&h(t,["mediaChunks"],y_(a,r));const l=d(n,["audio"]);l!=null&&h(t,["audio"],aC(a,l));const f=d(n,["audioStreamEnd"]);f!=null&&h(t,["audioStreamEnd"],f);const g=d(n,["video"]);g!=null&&h(t,["video"],oC(a,g));const y=d(n,["text"]);return y!=null&&h(t,["text"],y),d(n,["activityStart"])!=null&&h(t,["activityStart"],CE()),d(n,["activityEnd"])!=null&&h(t,["activityEnd"],EE()),t}function AE(a,n){const t={},r=d(n,["media"]);if(r!=null&&h(t,["mediaChunks"],y_(a,r)),d(n,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(n,["audioStreamEnd"]);if(l!=null&&h(t,["audioStreamEnd"],l),d(n,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(n,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(n,["activityStart"])!=null&&h(t,["activityStart"],SE()),d(n,["activityEnd"])!=null&&h(t,["activityEnd"],bE()),t}function R_(a,n){const t={},r=d(n,["text"]);r!=null&&h(t,["text"],r);const l=d(n,["weight"]);return l!=null&&h(t,["weight"],l),t}function ME(a,n){const t={},r=d(n,["weightedPrompts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>R_(a,f))),h(t,["weightedPrompts"],l)}return t}function L_(a,n){const t={},r=d(n,["temperature"]);r!=null&&h(t,["temperature"],r);const l=d(n,["topK"]);l!=null&&h(t,["topK"],l);const f=d(n,["seed"]);f!=null&&h(t,["seed"],f);const g=d(n,["guidance"]);g!=null&&h(t,["guidance"],g);const y=d(n,["bpm"]);y!=null&&h(t,["bpm"],y);const x=d(n,["density"]);x!=null&&h(t,["density"],x);const v=d(n,["brightness"]);v!=null&&h(t,["brightness"],v);const E=d(n,["scale"]);E!=null&&h(t,["scale"],E);const A=d(n,["muteBass"]);A!=null&&h(t,["muteBass"],A);const N=d(n,["muteDrums"]);N!=null&&h(t,["muteDrums"],N);const D=d(n,["onlyBassAndDrums"]);D!=null&&h(t,["onlyBassAndDrums"],D);const R=d(n,["musicGenerationMode"]);return R!=null&&h(t,["musicGenerationMode"],R),t}function NE(a,n){const t={},r=d(n,["musicGenerationConfig"]);return r!=null&&h(t,["musicGenerationConfig"],L_(a,r)),t}function D_(a,n){const t={},r=d(n,["model"]);return r!=null&&h(t,["model"],r),t}function k_(a,n){const t={},r=d(n,["weightedPrompts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>R_(a,f))),h(t,["weightedPrompts"],l)}return t}function Bd(a,n){const t={},r=d(n,["setup"]);r!=null&&h(t,["setup"],D_(a,r));const l=d(n,["clientContent"]);l!=null&&h(t,["clientContent"],k_(a,l));const f=d(n,["musicGenerationConfig"]);f!=null&&h(t,["musicGenerationConfig"],L_(a,f));const g=d(n,["playbackControl"]);return g!=null&&h(t,["playbackControl"],g),t}function RE(){return{}}function LE(){return{}}function DE(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function kE(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function PE(a,n){const t={},r=d(n,["data"]);r!=null&&h(t,["data"],r);const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function IE(a,n){const t={},r=d(n,["displayName"]);r!=null&&h(t,["displayName"],r);const l=d(n,["data"]);l!=null&&h(t,["data"],l);const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function OE(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],DE(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],PE(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function zE(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],kE(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],IE(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function UE(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>OE(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function BE(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>zE(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function Rv(a,n){const t={},r=d(n,["text"]);r!=null&&h(t,["text"],r);const l=d(n,["finished"]);return l!=null&&h(t,["finished"],l),t}function Lv(a,n){const t={},r=d(n,["text"]);r!=null&&h(t,["text"],r);const l=d(n,["finished"]);return l!=null&&h(t,["finished"],l),t}function VE(a,n){const t={},r=d(n,["retrievedUrl"]);r!=null&&h(t,["retrievedUrl"],r);const l=d(n,["urlRetrievalStatus"]);return l!=null&&h(t,["urlRetrievalStatus"],l),t}function HE(a,n){const t={},r=d(n,["urlMetadata"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>VE(a,f))),h(t,["urlMetadata"],l)}return t}function qE(a,n){const t={},r=d(n,["modelTurn"]);r!=null&&h(t,["modelTurn"],UE(a,r));const l=d(n,["turnComplete"]);l!=null&&h(t,["turnComplete"],l);const f=d(n,["interrupted"]);f!=null&&h(t,["interrupted"],f);const g=d(n,["groundingMetadata"]);g!=null&&h(t,["groundingMetadata"],g);const y=d(n,["generationComplete"]);y!=null&&h(t,["generationComplete"],y);const x=d(n,["inputTranscription"]);x!=null&&h(t,["inputTranscription"],Rv(a,x));const v=d(n,["outputTranscription"]);v!=null&&h(t,["outputTranscription"],Rv(a,v));const E=d(n,["urlContextMetadata"]);return E!=null&&h(t,["urlContextMetadata"],HE(a,E)),t}function ZE(a,n){const t={},r=d(n,["modelTurn"]);r!=null&&h(t,["modelTurn"],BE(a,r));const l=d(n,["turnComplete"]);l!=null&&h(t,["turnComplete"],l);const f=d(n,["interrupted"]);f!=null&&h(t,["interrupted"],f);const g=d(n,["groundingMetadata"]);g!=null&&h(t,["groundingMetadata"],g);const y=d(n,["generationComplete"]);y!=null&&h(t,["generationComplete"],y);const x=d(n,["inputTranscription"]);x!=null&&h(t,["inputTranscription"],Lv(a,x));const v=d(n,["outputTranscription"]);return v!=null&&h(t,["outputTranscription"],Lv(a,v)),t}function GE(a,n){const t={},r=d(n,["id"]);r!=null&&h(t,["id"],r);const l=d(n,["args"]);l!=null&&h(t,["args"],l);const f=d(n,["name"]);return f!=null&&h(t,["name"],f),t}function FE(a,n){const t={},r=d(n,["args"]);r!=null&&h(t,["args"],r);const l=d(n,["name"]);return l!=null&&h(t,["name"],l),t}function YE(a,n){const t={},r=d(n,["functionCalls"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>GE(a,f))),h(t,["functionCalls"],l)}return t}function jE(a,n){const t={},r=d(n,["functionCalls"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>FE(a,f))),h(t,["functionCalls"],l)}return t}function $E(a,n){const t={},r=d(n,["ids"]);return r!=null&&h(t,["ids"],r),t}function KE(a,n){const t={},r=d(n,["ids"]);return r!=null&&h(t,["ids"],r),t}function $u(a,n){const t={},r=d(n,["modality"]);r!=null&&h(t,["modality"],r);const l=d(n,["tokenCount"]);return l!=null&&h(t,["tokenCount"],l),t}function Ku(a,n){const t={},r=d(n,["modality"]);r!=null&&h(t,["modality"],r);const l=d(n,["tokenCount"]);return l!=null&&h(t,["tokenCount"],l),t}function JE(a,n){const t={},r=d(n,["promptTokenCount"]);r!=null&&h(t,["promptTokenCount"],r);const l=d(n,["cachedContentTokenCount"]);l!=null&&h(t,["cachedContentTokenCount"],l);const f=d(n,["responseTokenCount"]);f!=null&&h(t,["responseTokenCount"],f);const g=d(n,["toolUsePromptTokenCount"]);g!=null&&h(t,["toolUsePromptTokenCount"],g);const y=d(n,["thoughtsTokenCount"]);y!=null&&h(t,["thoughtsTokenCount"],y);const x=d(n,["totalTokenCount"]);x!=null&&h(t,["totalTokenCount"],x);const v=d(n,["promptTokensDetails"]);if(v!=null){let D=v;Array.isArray(D)&&(D=D.map(R=>$u(a,R))),h(t,["promptTokensDetails"],D)}const E=d(n,["cacheTokensDetails"]);if(E!=null){let D=E;Array.isArray(D)&&(D=D.map(R=>$u(a,R))),h(t,["cacheTokensDetails"],D)}const A=d(n,["responseTokensDetails"]);if(A!=null){let D=A;Array.isArray(D)&&(D=D.map(R=>$u(a,R))),h(t,["responseTokensDetails"],D)}const N=d(n,["toolUsePromptTokensDetails"]);if(N!=null){let D=N;Array.isArray(D)&&(D=D.map(R=>$u(a,R))),h(t,["toolUsePromptTokensDetails"],D)}return t}function XE(a,n){const t={},r=d(n,["promptTokenCount"]);r!=null&&h(t,["promptTokenCount"],r);const l=d(n,["cachedContentTokenCount"]);l!=null&&h(t,["cachedContentTokenCount"],l);const f=d(n,["candidatesTokenCount"]);f!=null&&h(t,["responseTokenCount"],f);const g=d(n,["toolUsePromptTokenCount"]);g!=null&&h(t,["toolUsePromptTokenCount"],g);const y=d(n,["thoughtsTokenCount"]);y!=null&&h(t,["thoughtsTokenCount"],y);const x=d(n,["totalTokenCount"]);x!=null&&h(t,["totalTokenCount"],x);const v=d(n,["promptTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(O=>Ku(a,O))),h(t,["promptTokensDetails"],R)}const E=d(n,["cacheTokensDetails"]);if(E!=null){let R=E;Array.isArray(R)&&(R=R.map(O=>Ku(a,O))),h(t,["cacheTokensDetails"],R)}const A=d(n,["candidatesTokensDetails"]);if(A!=null){let R=A;Array.isArray(R)&&(R=R.map(O=>Ku(a,O))),h(t,["responseTokensDetails"],R)}const N=d(n,["toolUsePromptTokensDetails"]);if(N!=null){let R=N;Array.isArray(R)&&(R=R.map(O=>Ku(a,O))),h(t,["toolUsePromptTokensDetails"],R)}const D=d(n,["trafficType"]);return D!=null&&h(t,["trafficType"],D),t}function QE(a,n){const t={},r=d(n,["timeLeft"]);return r!=null&&h(t,["timeLeft"],r),t}function WE(a,n){const t={},r=d(n,["timeLeft"]);return r!=null&&h(t,["timeLeft"],r),t}function e1(a,n){const t={},r=d(n,["newHandle"]);r!=null&&h(t,["newHandle"],r);const l=d(n,["resumable"]);l!=null&&h(t,["resumable"],l);const f=d(n,["lastConsumedClientMessageIndex"]);return f!=null&&h(t,["lastConsumedClientMessageIndex"],f),t}function t1(a,n){const t={},r=d(n,["newHandle"]);r!=null&&h(t,["newHandle"],r);const l=d(n,["resumable"]);l!=null&&h(t,["resumable"],l);const f=d(n,["lastConsumedClientMessageIndex"]);return f!=null&&h(t,["lastConsumedClientMessageIndex"],f),t}function n1(a,n){const t={};d(n,["setupComplete"])!=null&&h(t,["setupComplete"],RE());const l=d(n,["serverContent"]);l!=null&&h(t,["serverContent"],qE(a,l));const f=d(n,["toolCall"]);f!=null&&h(t,["toolCall"],YE(a,f));const g=d(n,["toolCallCancellation"]);g!=null&&h(t,["toolCallCancellation"],$E(a,g));const y=d(n,["usageMetadata"]);y!=null&&h(t,["usageMetadata"],JE(a,y));const x=d(n,["goAway"]);x!=null&&h(t,["goAway"],QE(a,x));const v=d(n,["sessionResumptionUpdate"]);return v!=null&&h(t,["sessionResumptionUpdate"],e1(a,v)),t}function i1(a,n){const t={};d(n,["setupComplete"])!=null&&h(t,["setupComplete"],LE());const l=d(n,["serverContent"]);l!=null&&h(t,["serverContent"],ZE(a,l));const f=d(n,["toolCall"]);f!=null&&h(t,["toolCall"],jE(a,f));const g=d(n,["toolCallCancellation"]);g!=null&&h(t,["toolCallCancellation"],KE(a,g));const y=d(n,["usageMetadata"]);y!=null&&h(t,["usageMetadata"],XE(a,y));const x=d(n,["goAway"]);x!=null&&h(t,["goAway"],WE(a,x));const v=d(n,["sessionResumptionUpdate"]);return v!=null&&h(t,["sessionResumptionUpdate"],t1(a,v)),t}function o1(){return{}}function a1(a,n){const t={},r=d(n,["text"]);r!=null&&h(t,["text"],r);const l=d(n,["weight"]);return l!=null&&h(t,["weight"],l),t}function r1(a,n){const t={},r=d(n,["weightedPrompts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>a1(a,f))),h(t,["weightedPrompts"],l)}return t}function s1(a,n){const t={},r=d(n,["temperature"]);r!=null&&h(t,["temperature"],r);const l=d(n,["topK"]);l!=null&&h(t,["topK"],l);const f=d(n,["seed"]);f!=null&&h(t,["seed"],f);const g=d(n,["guidance"]);g!=null&&h(t,["guidance"],g);const y=d(n,["bpm"]);y!=null&&h(t,["bpm"],y);const x=d(n,["density"]);x!=null&&h(t,["density"],x);const v=d(n,["brightness"]);v!=null&&h(t,["brightness"],v);const E=d(n,["scale"]);E!=null&&h(t,["scale"],E);const A=d(n,["muteBass"]);A!=null&&h(t,["muteBass"],A);const N=d(n,["muteDrums"]);N!=null&&h(t,["muteDrums"],N);const D=d(n,["onlyBassAndDrums"]);D!=null&&h(t,["onlyBassAndDrums"],D);const R=d(n,["musicGenerationMode"]);return R!=null&&h(t,["musicGenerationMode"],R),t}function l1(a,n){const t={},r=d(n,["clientContent"]);r!=null&&h(t,["clientContent"],r1(a,r));const l=d(n,["musicGenerationConfig"]);return l!=null&&h(t,["musicGenerationConfig"],s1(a,l)),t}function u1(a,n){const t={},r=d(n,["data"]);r!=null&&h(t,["data"],r);const l=d(n,["mimeType"]);l!=null&&h(t,["mimeType"],l);const f=d(n,["sourceMetadata"]);return f!=null&&h(t,["sourceMetadata"],l1(a,f)),t}function c1(a,n){const t={},r=d(n,["audioChunks"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>u1(a,f))),h(t,["audioChunks"],l)}return t}function f1(a,n){const t={},r=d(n,["text"]);r!=null&&h(t,["text"],r);const l=d(n,["filteredReason"]);return l!=null&&h(t,["filteredReason"],l),t}function d1(a,n){const t={};d(n,["setupComplete"])!=null&&h(t,["setupComplete"],o1());const l=d(n,["serverContent"]);l!=null&&h(t,["serverContent"],c1(a,l));const f=d(n,["filteredPrompt"]);return f!=null&&h(t,["filteredPrompt"],f1(a,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function m1(a,n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["data"]);r!=null&&h(t,["data"],r);const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function p1(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],h1(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],m1(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function yc(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>p1(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function g1(a,n){const t={};if(d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["category"]);r!=null&&h(t,["category"],r);const l=d(n,["threshold"]);return l!=null&&h(t,["threshold"],l),t}function v1(a,n){const t={},r=d(n,["behavior"]);r!=null&&h(t,["behavior"],r);const l=d(n,["description"]);l!=null&&h(t,["description"],l);const f=d(n,["name"]);f!=null&&h(t,["name"],f);const g=d(n,["parameters"]);g!=null&&h(t,["parameters"],g);const y=d(n,["response"]);return y!=null&&h(t,["response"],y),t}function _1(a,n){const t={},r=d(n,["startTime"]);r!=null&&h(t,["startTime"],r);const l=d(n,["endTime"]);return l!=null&&h(t,["endTime"],l),t}function y1(a,n){const t={},r=d(n,["timeRangeFilter"]);return r!=null&&h(t,["timeRangeFilter"],_1(a,r)),t}function x1(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["dynamicThreshold"]);return l!=null&&h(t,["dynamicThreshold"],l),t}function T1(a,n){const t={},r=d(n,["dynamicRetrievalConfig"]);return r!=null&&h(t,["dynamicRetrievalConfig"],x1(a,r)),t}function C1(){return{}}function S1(a,n){const t={},r=d(n,["functionDeclarations"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(v=>v1(a,v))),h(t,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(n,["googleSearch"]);l!=null&&h(t,["googleSearch"],y1(a,l));const f=d(n,["googleSearchRetrieval"]);if(f!=null&&h(t,["googleSearchRetrieval"],T1(a,f)),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(n,["urlContext"])!=null&&h(t,["urlContext"],C1());const y=d(n,["codeExecution"]);return y!=null&&h(t,["codeExecution"],y),t}function E1(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["allowedFunctionNames"]);return l!=null&&h(t,["allowedFunctionNames"],l),t}function b1(a,n){const t={},r=d(n,["latitude"]);r!=null&&h(t,["latitude"],r);const l=d(n,["longitude"]);return l!=null&&h(t,["longitude"],l),t}function w1(a,n){const t={},r=d(n,["latLng"]);return r!=null&&h(t,["latLng"],b1(a,r)),t}function A1(a,n){const t={},r=d(n,["functionCallingConfig"]);r!=null&&h(t,["functionCallingConfig"],E1(a,r));const l=d(n,["retrievalConfig"]);return l!=null&&h(t,["retrievalConfig"],w1(a,l)),t}function M1(a,n){const t={},r=d(n,["voiceName"]);return r!=null&&h(t,["voiceName"],r),t}function P_(a,n){const t={},r=d(n,["prebuiltVoiceConfig"]);return r!=null&&h(t,["prebuiltVoiceConfig"],M1(a,r)),t}function N1(a,n){const t={},r=d(n,["speaker"]);r!=null&&h(t,["speaker"],r);const l=d(n,["voiceConfig"]);return l!=null&&h(t,["voiceConfig"],P_(a,l)),t}function R1(a,n){const t={},r=d(n,["speakerVoiceConfigs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>N1(a,f))),h(t,["speakerVoiceConfigs"],l)}return t}function L1(a,n){const t={},r=d(n,["voiceConfig"]);r!=null&&h(t,["voiceConfig"],P_(a,r));const l=d(n,["multiSpeakerVoiceConfig"]);l!=null&&h(t,["multiSpeakerVoiceConfig"],R1(a,l));const f=d(n,["languageCode"]);return f!=null&&h(t,["languageCode"],f),t}function D1(a,n){const t={},r=d(n,["includeThoughts"]);r!=null&&h(t,["includeThoughts"],r);const l=d(n,["thinkingBudget"]);return l!=null&&h(t,["thinkingBudget"],l),t}function k1(a,n,t){const r={},l=d(n,["systemInstruction"]);t!==void 0&&l!=null&&h(t,["systemInstruction"],yc(a,En(a,l)));const f=d(n,["temperature"]);f!=null&&h(r,["temperature"],f);const g=d(n,["topP"]);g!=null&&h(r,["topP"],g);const y=d(n,["topK"]);y!=null&&h(r,["topK"],y);const x=d(n,["candidateCount"]);x!=null&&h(r,["candidateCount"],x);const v=d(n,["maxOutputTokens"]);v!=null&&h(r,["maxOutputTokens"],v);const E=d(n,["stopSequences"]);E!=null&&h(r,["stopSequences"],E);const A=d(n,["responseLogprobs"]);A!=null&&h(r,["responseLogprobs"],A);const N=d(n,["logprobs"]);N!=null&&h(r,["logprobs"],N);const D=d(n,["presencePenalty"]);D!=null&&h(r,["presencePenalty"],D);const R=d(n,["frequencyPenalty"]);R!=null&&h(r,["frequencyPenalty"],R);const O=d(n,["seed"]);O!=null&&h(r,["seed"],O);const J=d(n,["responseMimeType"]);J!=null&&h(r,["responseMimeType"],J);const H=d(n,["responseSchema"]);if(H!=null&&h(r,["responseSchema"],hc(a,H)),d(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=d(n,["safetySettings"]);if(t!==void 0&&Y!=null){let Ae=Y;Array.isArray(Ae)&&(Ae=Ae.map(Oe=>g1(a,Oe))),h(t,["safetySettings"],Ae)}const Q=d(n,["tools"]);if(t!==void 0&&Q!=null){let Ae=vc(a,Q);Array.isArray(Ae)&&(Ae=Ae.map(Oe=>S1(a,gc(a,Oe)))),h(t,["tools"],Ae)}const W=d(n,["toolConfig"]);if(t!==void 0&&W!=null&&h(t,["toolConfig"],A1(a,W)),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(n,["cachedContent"]);t!==void 0&&K!=null&&h(t,["cachedContent"],va(a,K));const ce=d(n,["responseModalities"]);ce!=null&&h(r,["responseModalities"],ce);const pe=d(n,["mediaResolution"]);pe!=null&&h(r,["mediaResolution"],pe);const we=d(n,["speechConfig"]);if(we!=null&&h(r,["speechConfig"],L1(a,C_(a,we))),d(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=d(n,["thinkingConfig"]);return se!=null&&h(r,["thinkingConfig"],D1(a,se)),r}function Dv(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);if(l!=null){let g=vi(a,l);Array.isArray(g)&&(g=g.map(y=>yc(a,y))),h(t,["contents"],g)}const f=d(n,["config"]);return f!=null&&h(t,["generationConfig"],k1(a,f,t)),t}function P1(a,n,t){const r={},l=d(n,["taskType"]);t!==void 0&&l!=null&&h(t,["requests[]","taskType"],l);const f=d(n,["title"]);t!==void 0&&f!=null&&h(t,["requests[]","title"],f);const g=d(n,["outputDimensionality"]);if(t!==void 0&&g!=null&&h(t,["requests[]","outputDimensionality"],g),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function I1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);l!=null&&h(t,["requests[]","content"],T_(a,l));const f=d(n,["config"]);f!=null&&h(t,["config"],P1(a,f,t));const g=d(n,["model"]);return g!==void 0&&h(t,["requests[]","model"],xt(a,g)),t}function O1(a,n,t){const r={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(n,["numberOfImages"]);t!==void 0&&l!=null&&h(t,["parameters","sampleCount"],l);const f=d(n,["aspectRatio"]);t!==void 0&&f!=null&&h(t,["parameters","aspectRatio"],f);const g=d(n,["guidanceScale"]);if(t!==void 0&&g!=null&&h(t,["parameters","guidanceScale"],g),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const y=d(n,["safetyFilterLevel"]);t!==void 0&&y!=null&&h(t,["parameters","safetySetting"],y);const x=d(n,["personGeneration"]);t!==void 0&&x!=null&&h(t,["parameters","personGeneration"],x);const v=d(n,["includeSafetyAttributes"]);t!==void 0&&v!=null&&h(t,["parameters","includeSafetyAttributes"],v);const E=d(n,["includeRaiReason"]);t!==void 0&&E!=null&&h(t,["parameters","includeRaiReason"],E);const A=d(n,["language"]);t!==void 0&&A!=null&&h(t,["parameters","language"],A);const N=d(n,["outputMimeType"]);t!==void 0&&N!=null&&h(t,["parameters","outputOptions","mimeType"],N);const D=d(n,["outputCompressionQuality"]);if(t!==void 0&&D!=null&&h(t,["parameters","outputOptions","compressionQuality"],D),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function z1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["prompt"]);l!=null&&h(t,["instances[0]","prompt"],l);const f=d(n,["config"]);return f!=null&&h(t,["config"],O1(a,f,t)),t}function U1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","name"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function B1(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);t!==void 0&&f!=null&&h(t,["_query","pageToken"],f);const g=d(n,["filter"]);t!==void 0&&g!=null&&h(t,["_query","filter"],g);const y=d(n,["queryBase"]);return t!==void 0&&y!=null&&h(t,["_url","models_url"],w_(a,y)),r}function V1(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],B1(a,r,t)),t}function H1(a,n,t){const r={},l=d(n,["displayName"]);t!==void 0&&l!=null&&h(t,["displayName"],l);const f=d(n,["description"]);t!==void 0&&f!=null&&h(t,["description"],f);const g=d(n,["defaultCheckpointId"]);return t!==void 0&&g!=null&&h(t,["defaultCheckpointId"],g),r}function q1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","name"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],H1(a,l,t)),t}function Z1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","name"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function G1(a,n){const t={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function F1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);if(l!=null){let g=vi(a,l);Array.isArray(g)&&(g=g.map(y=>yc(a,y))),h(t,["contents"],g)}const f=d(n,["config"]);return f!=null&&h(t,["config"],G1(a,f)),t}function Y1(a,n){const t={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(n,["imageBytes"]);r!=null&&h(t,["bytesBase64Encoded"],_a(a,r));const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function j1(a,n,t){const r={},l=d(n,["numberOfVideos"]);if(t!==void 0&&l!=null&&h(t,["parameters","sampleCount"],l),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const f=d(n,["durationSeconds"]);if(t!==void 0&&f!=null&&h(t,["parameters","durationSeconds"],f),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=d(n,["aspectRatio"]);if(t!==void 0&&g!=null&&h(t,["parameters","aspectRatio"],g),d(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const y=d(n,["personGeneration"]);if(t!==void 0&&y!=null&&h(t,["parameters","personGeneration"],y),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=d(n,["negativePrompt"]);if(t!==void 0&&x!=null&&h(t,["parameters","negativePrompt"],x),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function $1(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["prompt"]);l!=null&&h(t,["instances[0]","prompt"],l);const f=d(n,["image"]);f!=null&&h(t,["instances[0]","image"],Y1(a,f));const g=d(n,["config"]);return g!=null&&h(t,["config"],j1(a,g,t)),t}function K1(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function J1(a,n){const t={},r=d(n,["displayName"]);r!=null&&h(t,["displayName"],r);const l=d(n,["data"]);l!=null&&h(t,["data"],l);const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function X1(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],K1(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],J1(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function ls(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>X1(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function Q1(a,n){const t={},r=d(n,["featureSelectionPreference"]);return r!=null&&h(t,["featureSelectionPreference"],r),t}function W1(a,n){const t={},r=d(n,["method"]);r!=null&&h(t,["method"],r);const l=d(n,["category"]);l!=null&&h(t,["category"],l);const f=d(n,["threshold"]);return f!=null&&h(t,["threshold"],f),t}function eb(a,n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=d(n,["description"]);r!=null&&h(t,["description"],r);const l=d(n,["name"]);l!=null&&h(t,["name"],l);const f=d(n,["parameters"]);f!=null&&h(t,["parameters"],f);const g=d(n,["response"]);return g!=null&&h(t,["response"],g),t}function tb(a,n){const t={},r=d(n,["startTime"]);r!=null&&h(t,["startTime"],r);const l=d(n,["endTime"]);return l!=null&&h(t,["endTime"],l),t}function nb(a,n){const t={},r=d(n,["timeRangeFilter"]);return r!=null&&h(t,["timeRangeFilter"],tb(a,r)),t}function ib(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["dynamicThreshold"]);return l!=null&&h(t,["dynamicThreshold"],l),t}function ob(a,n){const t={},r=d(n,["dynamicRetrievalConfig"]);return r!=null&&h(t,["dynamicRetrievalConfig"],ib(a,r)),t}function ab(){return{}}function rb(a,n){const t={},r=d(n,["apiKeyString"]);return r!=null&&h(t,["apiKeyString"],r),t}function sb(a,n){const t={},r=d(n,["apiKeyConfig"]);r!=null&&h(t,["apiKeyConfig"],rb(a,r));const l=d(n,["authType"]);l!=null&&h(t,["authType"],l);const f=d(n,["googleServiceAccountConfig"]);f!=null&&h(t,["googleServiceAccountConfig"],f);const g=d(n,["httpBasicAuthConfig"]);g!=null&&h(t,["httpBasicAuthConfig"],g);const y=d(n,["oauthConfig"]);y!=null&&h(t,["oauthConfig"],y);const x=d(n,["oidcConfig"]);return x!=null&&h(t,["oidcConfig"],x),t}function lb(a,n){const t={},r=d(n,["authConfig"]);return r!=null&&h(t,["authConfig"],sb(a,r)),t}function I_(a,n){const t={},r=d(n,["functionDeclarations"]);if(r!=null){let E=r;Array.isArray(E)&&(E=E.map(A=>eb(a,A))),h(t,["functionDeclarations"],E)}const l=d(n,["retrieval"]);l!=null&&h(t,["retrieval"],l);const f=d(n,["googleSearch"]);f!=null&&h(t,["googleSearch"],nb(a,f));const g=d(n,["googleSearchRetrieval"]);g!=null&&h(t,["googleSearchRetrieval"],ob(a,g)),d(n,["enterpriseWebSearch"])!=null&&h(t,["enterpriseWebSearch"],ab());const x=d(n,["googleMaps"]);if(x!=null&&h(t,["googleMaps"],lb(a,x)),d(n,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const v=d(n,["codeExecution"]);return v!=null&&h(t,["codeExecution"],v),t}function ub(a,n){const t={},r=d(n,["mode"]);r!=null&&h(t,["mode"],r);const l=d(n,["allowedFunctionNames"]);return l!=null&&h(t,["allowedFunctionNames"],l),t}function cb(a,n){const t={},r=d(n,["latitude"]);r!=null&&h(t,["latitude"],r);const l=d(n,["longitude"]);return l!=null&&h(t,["longitude"],l),t}function fb(a,n){const t={},r=d(n,["latLng"]);return r!=null&&h(t,["latLng"],cb(a,r)),t}function db(a,n){const t={},r=d(n,["functionCallingConfig"]);r!=null&&h(t,["functionCallingConfig"],ub(a,r));const l=d(n,["retrievalConfig"]);return l!=null&&h(t,["retrievalConfig"],fb(a,l)),t}function hb(a,n){const t={},r=d(n,["voiceName"]);return r!=null&&h(t,["voiceName"],r),t}function mb(a,n){const t={},r=d(n,["prebuiltVoiceConfig"]);return r!=null&&h(t,["prebuiltVoiceConfig"],hb(a,r)),t}function pb(a,n){const t={},r=d(n,["voiceConfig"]);if(r!=null&&h(t,["voiceConfig"],mb(a,r)),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=d(n,["languageCode"]);return l!=null&&h(t,["languageCode"],l),t}function gb(a,n){const t={},r=d(n,["includeThoughts"]);r!=null&&h(t,["includeThoughts"],r);const l=d(n,["thinkingBudget"]);return l!=null&&h(t,["thinkingBudget"],l),t}function vb(a,n,t){const r={},l=d(n,["systemInstruction"]);t!==void 0&&l!=null&&h(t,["systemInstruction"],ls(a,En(a,l)));const f=d(n,["temperature"]);f!=null&&h(r,["temperature"],f);const g=d(n,["topP"]);g!=null&&h(r,["topP"],g);const y=d(n,["topK"]);y!=null&&h(r,["topK"],y);const x=d(n,["candidateCount"]);x!=null&&h(r,["candidateCount"],x);const v=d(n,["maxOutputTokens"]);v!=null&&h(r,["maxOutputTokens"],v);const E=d(n,["stopSequences"]);E!=null&&h(r,["stopSequences"],E);const A=d(n,["responseLogprobs"]);A!=null&&h(r,["responseLogprobs"],A);const N=d(n,["logprobs"]);N!=null&&h(r,["logprobs"],N);const D=d(n,["presencePenalty"]);D!=null&&h(r,["presencePenalty"],D);const R=d(n,["frequencyPenalty"]);R!=null&&h(r,["frequencyPenalty"],R);const O=d(n,["seed"]);O!=null&&h(r,["seed"],O);const J=d(n,["responseMimeType"]);J!=null&&h(r,["responseMimeType"],J);const H=d(n,["responseSchema"]);H!=null&&h(r,["responseSchema"],hc(a,H));const Y=d(n,["routingConfig"]);Y!=null&&h(r,["routingConfig"],Y);const Q=d(n,["modelSelectionConfig"]);Q!=null&&h(r,["modelConfig"],Q1(a,Q));const W=d(n,["safetySettings"]);if(t!==void 0&&W!=null){let He=W;Array.isArray(He)&&(He=He.map(Qe=>W1(a,Qe))),h(t,["safetySettings"],He)}const K=d(n,["tools"]);if(t!==void 0&&K!=null){let He=vc(a,K);Array.isArray(He)&&(He=He.map(Qe=>I_(a,gc(a,Qe)))),h(t,["tools"],He)}const ce=d(n,["toolConfig"]);t!==void 0&&ce!=null&&h(t,["toolConfig"],db(a,ce));const pe=d(n,["labels"]);t!==void 0&&pe!=null&&h(t,["labels"],pe);const we=d(n,["cachedContent"]);t!==void 0&&we!=null&&h(t,["cachedContent"],va(a,we));const se=d(n,["responseModalities"]);se!=null&&h(r,["responseModalities"],se);const Ae=d(n,["mediaResolution"]);Ae!=null&&h(r,["mediaResolution"],Ae);const Oe=d(n,["speechConfig"]);Oe!=null&&h(r,["speechConfig"],pb(a,C_(a,Oe)));const ve=d(n,["audioTimestamp"]);ve!=null&&h(r,["audioTimestamp"],ve);const Ye=d(n,["thinkingConfig"]);return Ye!=null&&h(r,["thinkingConfig"],gb(a,Ye)),r}function kv(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);if(l!=null){let g=vi(a,l);Array.isArray(g)&&(g=g.map(y=>ls(a,y))),h(t,["contents"],g)}const f=d(n,["config"]);return f!=null&&h(t,["generationConfig"],vb(a,f,t)),t}function _b(a,n,t){const r={},l=d(n,["taskType"]);t!==void 0&&l!=null&&h(t,["instances[]","task_type"],l);const f=d(n,["title"]);t!==void 0&&f!=null&&h(t,["instances[]","title"],f);const g=d(n,["outputDimensionality"]);t!==void 0&&g!=null&&h(t,["parameters","outputDimensionality"],g);const y=d(n,["mimeType"]);t!==void 0&&y!=null&&h(t,["instances[]","mimeType"],y);const x=d(n,["autoTruncate"]);return t!==void 0&&x!=null&&h(t,["parameters","autoTruncate"],x),r}function yb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);l!=null&&h(t,["instances[]","content"],T_(a,l));const f=d(n,["config"]);return f!=null&&h(t,["config"],_b(a,f,t)),t}function xb(a,n,t){const r={},l=d(n,["outputGcsUri"]);t!==void 0&&l!=null&&h(t,["parameters","storageUri"],l);const f=d(n,["negativePrompt"]);t!==void 0&&f!=null&&h(t,["parameters","negativePrompt"],f);const g=d(n,["numberOfImages"]);t!==void 0&&g!=null&&h(t,["parameters","sampleCount"],g);const y=d(n,["aspectRatio"]);t!==void 0&&y!=null&&h(t,["parameters","aspectRatio"],y);const x=d(n,["guidanceScale"]);t!==void 0&&x!=null&&h(t,["parameters","guidanceScale"],x);const v=d(n,["seed"]);t!==void 0&&v!=null&&h(t,["parameters","seed"],v);const E=d(n,["safetyFilterLevel"]);t!==void 0&&E!=null&&h(t,["parameters","safetySetting"],E);const A=d(n,["personGeneration"]);t!==void 0&&A!=null&&h(t,["parameters","personGeneration"],A);const N=d(n,["includeSafetyAttributes"]);t!==void 0&&N!=null&&h(t,["parameters","includeSafetyAttributes"],N);const D=d(n,["includeRaiReason"]);t!==void 0&&D!=null&&h(t,["parameters","includeRaiReason"],D);const R=d(n,["language"]);t!==void 0&&R!=null&&h(t,["parameters","language"],R);const O=d(n,["outputMimeType"]);t!==void 0&&O!=null&&h(t,["parameters","outputOptions","mimeType"],O);const J=d(n,["outputCompressionQuality"]);t!==void 0&&J!=null&&h(t,["parameters","outputOptions","compressionQuality"],J);const H=d(n,["addWatermark"]);t!==void 0&&H!=null&&h(t,["parameters","addWatermark"],H);const Y=d(n,["enhancePrompt"]);return t!==void 0&&Y!=null&&h(t,["parameters","enhancePrompt"],Y),r}function Tb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["prompt"]);l!=null&&h(t,["instances[0]","prompt"],l);const f=d(n,["config"]);return f!=null&&h(t,["config"],xb(a,f,t)),t}function rh(a,n){const t={},r=d(n,["gcsUri"]);r!=null&&h(t,["gcsUri"],r);const l=d(n,["imageBytes"]);l!=null&&h(t,["bytesBase64Encoded"],_a(a,l));const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function Cb(a,n){const t={},r=d(n,["maskMode"]);r!=null&&h(t,["maskMode"],r);const l=d(n,["segmentationClasses"]);l!=null&&h(t,["maskClasses"],l);const f=d(n,["maskDilation"]);return f!=null&&h(t,["dilation"],f),t}function Sb(a,n){const t={},r=d(n,["controlType"]);r!=null&&h(t,["controlType"],r);const l=d(n,["enableControlImageComputation"]);return l!=null&&h(t,["computeControl"],l),t}function Eb(a,n){const t={},r=d(n,["styleDescription"]);return r!=null&&h(t,["styleDescription"],r),t}function bb(a,n){const t={},r=d(n,["subjectType"]);r!=null&&h(t,["subjectType"],r);const l=d(n,["subjectDescription"]);return l!=null&&h(t,["subjectDescription"],l),t}function wb(a,n){const t={},r=d(n,["referenceImage"]);r!=null&&h(t,["referenceImage"],rh(a,r));const l=d(n,["referenceId"]);l!=null&&h(t,["referenceId"],l);const f=d(n,["referenceType"]);f!=null&&h(t,["referenceType"],f);const g=d(n,["maskImageConfig"]);g!=null&&h(t,["maskImageConfig"],Cb(a,g));const y=d(n,["controlImageConfig"]);y!=null&&h(t,["controlImageConfig"],Sb(a,y));const x=d(n,["styleImageConfig"]);x!=null&&h(t,["styleImageConfig"],Eb(a,x));const v=d(n,["subjectImageConfig"]);return v!=null&&h(t,["subjectImageConfig"],bb(a,v)),t}function Ab(a,n,t){const r={},l=d(n,["outputGcsUri"]);t!==void 0&&l!=null&&h(t,["parameters","storageUri"],l);const f=d(n,["negativePrompt"]);t!==void 0&&f!=null&&h(t,["parameters","negativePrompt"],f);const g=d(n,["numberOfImages"]);t!==void 0&&g!=null&&h(t,["parameters","sampleCount"],g);const y=d(n,["aspectRatio"]);t!==void 0&&y!=null&&h(t,["parameters","aspectRatio"],y);const x=d(n,["guidanceScale"]);t!==void 0&&x!=null&&h(t,["parameters","guidanceScale"],x);const v=d(n,["seed"]);t!==void 0&&v!=null&&h(t,["parameters","seed"],v);const E=d(n,["safetyFilterLevel"]);t!==void 0&&E!=null&&h(t,["parameters","safetySetting"],E);const A=d(n,["personGeneration"]);t!==void 0&&A!=null&&h(t,["parameters","personGeneration"],A);const N=d(n,["includeSafetyAttributes"]);t!==void 0&&N!=null&&h(t,["parameters","includeSafetyAttributes"],N);const D=d(n,["includeRaiReason"]);t!==void 0&&D!=null&&h(t,["parameters","includeRaiReason"],D);const R=d(n,["language"]);t!==void 0&&R!=null&&h(t,["parameters","language"],R);const O=d(n,["outputMimeType"]);t!==void 0&&O!=null&&h(t,["parameters","outputOptions","mimeType"],O);const J=d(n,["outputCompressionQuality"]);t!==void 0&&J!=null&&h(t,["parameters","outputOptions","compressionQuality"],J);const H=d(n,["editMode"]);t!==void 0&&H!=null&&h(t,["parameters","editMode"],H);const Y=d(n,["baseSteps"]);return t!==void 0&&Y!=null&&h(t,["parameters","editConfig","baseSteps"],Y),r}function Mb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["prompt"]);l!=null&&h(t,["instances[0]","prompt"],l);const f=d(n,["referenceImages"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(x=>wb(a,x))),h(t,["instances[0]","referenceImages"],y)}const g=d(n,["config"]);return g!=null&&h(t,["config"],Ab(a,g,t)),t}function Nb(a,n,t){const r={},l=d(n,["includeRaiReason"]);t!==void 0&&l!=null&&h(t,["parameters","includeRaiReason"],l);const f=d(n,["outputMimeType"]);t!==void 0&&f!=null&&h(t,["parameters","outputOptions","mimeType"],f);const g=d(n,["outputCompressionQuality"]);t!==void 0&&g!=null&&h(t,["parameters","outputOptions","compressionQuality"],g);const y=d(n,["numberOfImages"]);t!==void 0&&y!=null&&h(t,["parameters","sampleCount"],y);const x=d(n,["mode"]);return t!==void 0&&x!=null&&h(t,["parameters","mode"],x),r}function Rb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["image"]);l!=null&&h(t,["instances[0]","image"],rh(a,l));const f=d(n,["upscaleFactor"]);f!=null&&h(t,["parameters","upscaleConfig","upscaleFactor"],f);const g=d(n,["config"]);return g!=null&&h(t,["config"],Nb(a,g,t)),t}function Lb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","name"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function Db(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);t!==void 0&&f!=null&&h(t,["_query","pageToken"],f);const g=d(n,["filter"]);t!==void 0&&g!=null&&h(t,["_query","filter"],g);const y=d(n,["queryBase"]);return t!==void 0&&y!=null&&h(t,["_url","models_url"],w_(a,y)),r}function kb(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],Db(a,r,t)),t}function Pb(a,n,t){const r={},l=d(n,["displayName"]);t!==void 0&&l!=null&&h(t,["displayName"],l);const f=d(n,["description"]);t!==void 0&&f!=null&&h(t,["description"],f);const g=d(n,["defaultCheckpointId"]);return t!==void 0&&g!=null&&h(t,["defaultCheckpointId"],g),r}function Ib(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],Pb(a,l,t)),t}function Ob(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","name"],xt(a,r));const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function zb(a,n,t){const r={},l=d(n,["systemInstruction"]);t!==void 0&&l!=null&&h(t,["systemInstruction"],ls(a,En(a,l)));const f=d(n,["tools"]);if(t!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(x=>I_(a,x))),h(t,["tools"],y)}const g=d(n,["generationConfig"]);return t!==void 0&&g!=null&&h(t,["generationConfig"],g),r}function Ub(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);if(l!=null){let g=vi(a,l);Array.isArray(g)&&(g=g.map(y=>ls(a,y))),h(t,["contents"],g)}const f=d(n,["config"]);return f!=null&&h(t,["config"],zb(a,f,t)),t}function Bb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["contents"]);if(l!=null){let g=vi(a,l);Array.isArray(g)&&(g=g.map(y=>ls(a,y))),h(t,["contents"],g)}const f=d(n,["config"]);return f!=null&&h(t,["config"],f),t}function Vb(a,n,t){const r={},l=d(n,["numberOfVideos"]);t!==void 0&&l!=null&&h(t,["parameters","sampleCount"],l);const f=d(n,["outputGcsUri"]);t!==void 0&&f!=null&&h(t,["parameters","storageUri"],f);const g=d(n,["fps"]);t!==void 0&&g!=null&&h(t,["parameters","fps"],g);const y=d(n,["durationSeconds"]);t!==void 0&&y!=null&&h(t,["parameters","durationSeconds"],y);const x=d(n,["seed"]);t!==void 0&&x!=null&&h(t,["parameters","seed"],x);const v=d(n,["aspectRatio"]);t!==void 0&&v!=null&&h(t,["parameters","aspectRatio"],v);const E=d(n,["resolution"]);t!==void 0&&E!=null&&h(t,["parameters","resolution"],E);const A=d(n,["personGeneration"]);t!==void 0&&A!=null&&h(t,["parameters","personGeneration"],A);const N=d(n,["pubsubTopic"]);t!==void 0&&N!=null&&h(t,["parameters","pubsubTopic"],N);const D=d(n,["negativePrompt"]);t!==void 0&&D!=null&&h(t,["parameters","negativePrompt"],D);const R=d(n,["enhancePrompt"]);return t!==void 0&&R!=null&&h(t,["parameters","enhancePrompt"],R),r}function Hb(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["_url","model"],xt(a,r));const l=d(n,["prompt"]);l!=null&&h(t,["instances[0]","prompt"],l);const f=d(n,["image"]);f!=null&&h(t,["instances[0]","image"],rh(a,f));const g=d(n,["config"]);return g!=null&&h(t,["config"],Vb(a,g,t)),t}function qb(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function Zb(a,n){const t={},r=d(n,["data"]);r!=null&&h(t,["data"],r);const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function Gb(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],qb(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],Zb(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function Fb(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>Gb(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function Yb(a,n){const t={},r=d(n,["citationSources"]);return r!=null&&h(t,["citations"],r),t}function jb(a,n){const t={},r=d(n,["retrievedUrl"]);r!=null&&h(t,["retrievedUrl"],r);const l=d(n,["urlRetrievalStatus"]);return l!=null&&h(t,["urlRetrievalStatus"],l),t}function $b(a,n){const t={},r=d(n,["urlMetadata"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>jb(a,f))),h(t,["urlMetadata"],l)}return t}function Kb(a,n){const t={},r=d(n,["content"]);r!=null&&h(t,["content"],Fb(a,r));const l=d(n,["citationMetadata"]);l!=null&&h(t,["citationMetadata"],Yb(a,l));const f=d(n,["tokenCount"]);f!=null&&h(t,["tokenCount"],f);const g=d(n,["finishReason"]);g!=null&&h(t,["finishReason"],g);const y=d(n,["urlContextMetadata"]);y!=null&&h(t,["urlContextMetadata"],$b(a,y));const x=d(n,["avgLogprobs"]);x!=null&&h(t,["avgLogprobs"],x);const v=d(n,["groundingMetadata"]);v!=null&&h(t,["groundingMetadata"],v);const E=d(n,["index"]);E!=null&&h(t,["index"],E);const A=d(n,["logprobsResult"]);A!=null&&h(t,["logprobsResult"],A);const N=d(n,["safetyRatings"]);return N!=null&&h(t,["safetyRatings"],N),t}function Pv(a,n){const t={},r=d(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(x=>Kb(a,x))),h(t,["candidates"],y)}const l=d(n,["modelVersion"]);l!=null&&h(t,["modelVersion"],l);const f=d(n,["promptFeedback"]);f!=null&&h(t,["promptFeedback"],f);const g=d(n,["usageMetadata"]);return g!=null&&h(t,["usageMetadata"],g),t}function Jb(a,n){const t={},r=d(n,["values"]);return r!=null&&h(t,["values"],r),t}function Xb(){return{}}function Qb(a,n){const t={},r=d(n,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>Jb(a,g))),h(t,["embeddings"],f)}return d(n,["metadata"])!=null&&h(t,["metadata"],Xb()),t}function Wb(a,n){const t={},r=d(n,["bytesBase64Encoded"]);r!=null&&h(t,["imageBytes"],_a(a,r));const l=d(n,["mimeType"]);return l!=null&&h(t,["mimeType"],l),t}function O_(a,n){const t={},r=d(n,["safetyAttributes","categories"]);r!=null&&h(t,["categories"],r);const l=d(n,["safetyAttributes","scores"]);l!=null&&h(t,["scores"],l);const f=d(n,["contentType"]);return f!=null&&h(t,["contentType"],f),t}function ew(a,n){const t={},r=d(n,["_self"]);r!=null&&h(t,["image"],Wb(a,r));const l=d(n,["raiFilteredReason"]);l!=null&&h(t,["raiFilteredReason"],l);const f=d(n,["_self"]);return f!=null&&h(t,["safetyAttributes"],O_(a,f)),t}function tw(a,n){const t={},r=d(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>ew(a,g))),h(t,["generatedImages"],f)}const l=d(n,["positivePromptSafetyAttributes"]);return l!=null&&h(t,["positivePromptSafetyAttributes"],O_(a,l)),t}function nw(a,n){const t={},r=d(n,["baseModel"]);r!=null&&h(t,["baseModel"],r);const l=d(n,["createTime"]);l!=null&&h(t,["createTime"],l);const f=d(n,["updateTime"]);return f!=null&&h(t,["updateTime"],f),t}function Vd(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["displayName"]);l!=null&&h(t,["displayName"],l);const f=d(n,["description"]);f!=null&&h(t,["description"],f);const g=d(n,["version"]);g!=null&&h(t,["version"],g);const y=d(n,["_self"]);y!=null&&h(t,["tunedModelInfo"],nw(a,y));const x=d(n,["inputTokenLimit"]);x!=null&&h(t,["inputTokenLimit"],x);const v=d(n,["outputTokenLimit"]);v!=null&&h(t,["outputTokenLimit"],v);const E=d(n,["supportedGenerationMethods"]);return E!=null&&h(t,["supportedActions"],E),t}function iw(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["_self"]);if(l!=null){let f=A_(a,l);Array.isArray(f)&&(f=f.map(g=>Vd(a,g))),h(t,["models"],f)}return t}function ow(){return{}}function aw(a,n){const t={},r=d(n,["totalTokens"]);r!=null&&h(t,["totalTokens"],r);const l=d(n,["cachedContentTokenCount"]);return l!=null&&h(t,["cachedContentTokenCount"],l),t}function rw(a,n){const t={},r=d(n,["video","uri"]);r!=null&&h(t,["uri"],r);const l=d(n,["video","encodedVideo"]);l!=null&&h(t,["videoBytes"],_a(a,l));const f=d(n,["encoding"]);return f!=null&&h(t,["mimeType"],f),t}function sw(a,n){const t={},r=d(n,["_self"]);return r!=null&&h(t,["video"],rw(a,r)),t}function lw(a,n){const t={},r=d(n,["generatedSamples"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(y=>sw(a,y))),h(t,["generatedVideos"],g)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(t,["raiMediaFilteredCount"],l);const f=d(n,["raiMediaFilteredReasons"]);return f!=null&&h(t,["raiMediaFilteredReasons"],f),t}function uw(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["metadata"]);l!=null&&h(t,["metadata"],l);const f=d(n,["done"]);f!=null&&h(t,["done"],f);const g=d(n,["error"]);g!=null&&h(t,["error"],g);const y=d(n,["response","generateVideoResponse"]);return y!=null&&h(t,["response"],lw(a,y)),t}function cw(a,n){const t={},r=d(n,["fps"]);r!=null&&h(t,["fps"],r);const l=d(n,["endOffset"]);l!=null&&h(t,["endOffset"],l);const f=d(n,["startOffset"]);return f!=null&&h(t,["startOffset"],f),t}function fw(a,n){const t={},r=d(n,["displayName"]);r!=null&&h(t,["displayName"],r);const l=d(n,["data"]);l!=null&&h(t,["data"],l);const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function dw(a,n){const t={},r=d(n,["videoMetadata"]);r!=null&&h(t,["videoMetadata"],cw(a,r));const l=d(n,["thought"]);l!=null&&h(t,["thought"],l);const f=d(n,["inlineData"]);f!=null&&h(t,["inlineData"],fw(a,f));const g=d(n,["codeExecutionResult"]);g!=null&&h(t,["codeExecutionResult"],g);const y=d(n,["executableCode"]);y!=null&&h(t,["executableCode"],y);const x=d(n,["fileData"]);x!=null&&h(t,["fileData"],x);const v=d(n,["functionCall"]);v!=null&&h(t,["functionCall"],v);const E=d(n,["functionResponse"]);E!=null&&h(t,["functionResponse"],E);const A=d(n,["text"]);return A!=null&&h(t,["text"],A),t}function hw(a,n){const t={},r=d(n,["parts"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>dw(a,g))),h(t,["parts"],f)}const l=d(n,["role"]);return l!=null&&h(t,["role"],l),t}function mw(a,n){const t={},r=d(n,["citations"]);return r!=null&&h(t,["citations"],r),t}function pw(a,n){const t={},r=d(n,["content"]);r!=null&&h(t,["content"],hw(a,r));const l=d(n,["citationMetadata"]);l!=null&&h(t,["citationMetadata"],mw(a,l));const f=d(n,["finishMessage"]);f!=null&&h(t,["finishMessage"],f);const g=d(n,["finishReason"]);g!=null&&h(t,["finishReason"],g);const y=d(n,["avgLogprobs"]);y!=null&&h(t,["avgLogprobs"],y);const x=d(n,["groundingMetadata"]);x!=null&&h(t,["groundingMetadata"],x);const v=d(n,["index"]);v!=null&&h(t,["index"],v);const E=d(n,["logprobsResult"]);E!=null&&h(t,["logprobsResult"],E);const A=d(n,["safetyRatings"]);return A!=null&&h(t,["safetyRatings"],A),t}function Iv(a,n){const t={},r=d(n,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(E=>pw(a,E))),h(t,["candidates"],v)}const l=d(n,["createTime"]);l!=null&&h(t,["createTime"],l);const f=d(n,["responseId"]);f!=null&&h(t,["responseId"],f);const g=d(n,["modelVersion"]);g!=null&&h(t,["modelVersion"],g);const y=d(n,["promptFeedback"]);y!=null&&h(t,["promptFeedback"],y);const x=d(n,["usageMetadata"]);return x!=null&&h(t,["usageMetadata"],x),t}function gw(a,n){const t={},r=d(n,["truncated"]);r!=null&&h(t,["truncated"],r);const l=d(n,["token_count"]);return l!=null&&h(t,["tokenCount"],l),t}function vw(a,n){const t={},r=d(n,["values"]);r!=null&&h(t,["values"],r);const l=d(n,["statistics"]);return l!=null&&h(t,["statistics"],gw(a,l)),t}function _w(a,n){const t={},r=d(n,["billableCharacterCount"]);return r!=null&&h(t,["billableCharacterCount"],r),t}function yw(a,n){const t={},r=d(n,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>vw(a,g))),h(t,["embeddings"],f)}const l=d(n,["metadata"]);return l!=null&&h(t,["metadata"],_w(a,l)),t}function xw(a,n){const t={},r=d(n,["gcsUri"]);r!=null&&h(t,["gcsUri"],r);const l=d(n,["bytesBase64Encoded"]);l!=null&&h(t,["imageBytes"],_a(a,l));const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function z_(a,n){const t={},r=d(n,["safetyAttributes","categories"]);r!=null&&h(t,["categories"],r);const l=d(n,["safetyAttributes","scores"]);l!=null&&h(t,["scores"],l);const f=d(n,["contentType"]);return f!=null&&h(t,["contentType"],f),t}function sh(a,n){const t={},r=d(n,["_self"]);r!=null&&h(t,["image"],xw(a,r));const l=d(n,["raiFilteredReason"]);l!=null&&h(t,["raiFilteredReason"],l);const f=d(n,["_self"]);f!=null&&h(t,["safetyAttributes"],z_(a,f));const g=d(n,["prompt"]);return g!=null&&h(t,["enhancedPrompt"],g),t}function Tw(a,n){const t={},r=d(n,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>sh(a,g))),h(t,["generatedImages"],f)}const l=d(n,["positivePromptSafetyAttributes"]);return l!=null&&h(t,["positivePromptSafetyAttributes"],z_(a,l)),t}function Cw(a,n){const t={},r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>sh(a,f))),h(t,["generatedImages"],l)}return t}function Sw(a,n){const t={},r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>sh(a,f))),h(t,["generatedImages"],l)}return t}function Ew(a,n){const t={},r=d(n,["endpoint"]);r!=null&&h(t,["name"],r);const l=d(n,["deployedModelId"]);return l!=null&&h(t,["deployedModelId"],l),t}function bw(a,n){const t={},r=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&h(t,["baseModel"],r);const l=d(n,["createTime"]);l!=null&&h(t,["createTime"],l);const f=d(n,["updateTime"]);return f!=null&&h(t,["updateTime"],f),t}function ww(a,n){const t={},r=d(n,["checkpointId"]);r!=null&&h(t,["checkpointId"],r);const l=d(n,["epoch"]);l!=null&&h(t,["epoch"],l);const f=d(n,["step"]);return f!=null&&h(t,["step"],f),t}function Hd(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["displayName"]);l!=null&&h(t,["displayName"],l);const f=d(n,["description"]);f!=null&&h(t,["description"],f);const g=d(n,["versionId"]);g!=null&&h(t,["version"],g);const y=d(n,["deployedModels"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(D=>Ew(a,D))),h(t,["endpoints"],N)}const x=d(n,["labels"]);x!=null&&h(t,["labels"],x);const v=d(n,["_self"]);v!=null&&h(t,["tunedModelInfo"],bw(a,v));const E=d(n,["defaultCheckpointId"]);E!=null&&h(t,["defaultCheckpointId"],E);const A=d(n,["checkpoints"]);if(A!=null){let N=A;Array.isArray(N)&&(N=N.map(D=>ww(a,D))),h(t,["checkpoints"],N)}return t}function Aw(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["_self"]);if(l!=null){let f=A_(a,l);Array.isArray(f)&&(f=f.map(g=>Hd(a,g))),h(t,["models"],f)}return t}function Mw(){return{}}function Nw(a,n){const t={},r=d(n,["totalTokens"]);return r!=null&&h(t,["totalTokens"],r),t}function Rw(a,n){const t={},r=d(n,["tokensInfo"]);return r!=null&&h(t,["tokensInfo"],r),t}function Lw(a,n){const t={},r=d(n,["gcsUri"]);r!=null&&h(t,["uri"],r);const l=d(n,["bytesBase64Encoded"]);l!=null&&h(t,["videoBytes"],_a(a,l));const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function Dw(a,n){const t={},r=d(n,["_self"]);return r!=null&&h(t,["video"],Lw(a,r)),t}function kw(a,n){const t={},r=d(n,["videos"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(y=>Dw(a,y))),h(t,["generatedVideos"],g)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(t,["raiMediaFilteredCount"],l);const f=d(n,["raiMediaFilteredReasons"]);return f!=null&&h(t,["raiMediaFilteredReasons"],f),t}function Pw(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["metadata"]);l!=null&&h(t,["metadata"],l);const f=d(n,["done"]);f!=null&&h(t,["done"],f);const g=d(n,["error"]);g!=null&&h(t,["error"],g);const y=d(n,["response"]);return y!=null&&h(t,["response"],kw(a,y)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iw="Content-Type",Ow="X-Server-Timeout",zw="User-Agent",qd="x-goog-api-client",Uw="1.0.1",Bw=`google-genai-sdk/${Uw}`,Vw="v1beta1",Hw="v1beta",Ov=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class U_ extends Error{constructor(n,t){t?super(n,{cause:t}):super(n,{cause:new Error().stack}),this.message=n,this.name="ClientError"}}class Zd extends Error{constructor(n,t){t?super(n,{cause:t}):super(n,{cause:new Error().stack}),this.message=n,this.name="ServerError"}}class qw{constructor(n){var t,r;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Vw,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Hw,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&r.push(n.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),t=new URL(n);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,t,r){const l=[this.getRequestUrlInternal(t)];return r&&l.push(this.getBaseResourcePath()),n!==""&&l.push(n),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,t,r);if(n.queryParams)for(const[g,y]of Object.entries(n.queryParams))l.searchParams.append(g,String(y));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,t,n.abortSignal),this.unaryApiCall(l,f,n.httpMethod)}patchHttpOptions(n,t){const r=JSON.parse(JSON.stringify(n));for(const[l,f]of Object.entries(t))typeof f=="object"?r[l]=Object.assign(Object.assign({},r[l]),f):f!==void 0&&(r[l]=f);return r}async requestStream(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const r=this.shouldPrependVertexProjectPath(n),l=this.constructUrl(n.path,t,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,t,n.abortSignal),this.streamApiCall(l,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,t,r){if(t&&t.timeout||r){const l=new AbortController,f=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),r&&r.addEventListener("abort",()=>{l.abort()}),n.signal=f}return n.headers=await this.getHeadersInternal(t),n}async unaryApiCall(n,t,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:r})).then(async l=>(await zv(l),new Od(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(n,t,r){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:r})).then(async l=>(await zv(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(n){var t;return Cl(this,arguments,function*(){const l=(t=n==null?void 0:n.body)===null||t===void 0?void 0:t.getReader(),f=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let g="";for(;;){const{done:y,value:x}=yield At(l.read());if(y){if(g.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=f.decode(x);try{const A=JSON.parse(v);if("error"in A){const N=JSON.parse(JSON.stringify(A.error)),D=N.status,R=N.code,O=`got status: ${D}. ${JSON.stringify(A)}`;if(R>=400&&R<500)throw new U_(O);if(R>=500&&R<600)throw new Zd(O)}}catch(A){const N=A;if(N.name==="ClientError"||N.name==="ServerError")throw A}g+=v;let E=g.match(Ov);for(;E;){const A=E[1];try{const N=new Response(A,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield At(new Od(N)),g=g.slice(E[0].length),E=g.match(Ov)}catch(N){throw new Error(`exception parsing stream chunk ${A}. ${N}`)}}}}finally{l.releaseLock()}})}async apiCall(n,t){return fetch(n,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const n={},t=Bw+" "+this.clientOptions.userAgentExtra;return n[zw]=t,n[qd]=t,n[Iw]="application/json",n}async getHeadersInternal(n){const t=new Headers;if(n&&n.headers){for(const[r,l]of Object.entries(n.headers))t.append(r,l);n.timeout&&n.timeout>0&&t.append(Ow,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(n,t){var r;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const f=this.clientOptions.uploader,g=await f.stat(n);l.sizeBytes=String(g.size);const y=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:g.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=y;const x=await this.fetchUploadUrl(l,t);return f.upload(n,x,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,t){var r;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const f={file:n},g=await this.request({path:ke("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:l});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(r=g==null?void 0:g.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function zv(a){var n;if(a===void 0)throw new Zd("response is undefined");if(!a.ok){const t=a.status,r=a.statusText;let l;!((n=a.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?l=await a.json():l={error:{message:await a.text(),code:a.status,status:a.statusText}};const f=`got status: ${t} ${r}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new U_(f):t>=500&&t<600?new Zd(f):new Error(f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uv="mcp_used/unknown";function B_(a){for(const n of a)if(lh(n)||typeof n=="object"&&"inputSchema"in n)return!0;return!1}function V_(a){var n;const t=(n=a[qd])!==null&&n!==void 0?n:"";t.includes(Uv)||(a[qd]=(t+` ${Uv}`).trimStart())}function Zw(a){var n,t,r;return(r=(t=(n=a.config)===null||n===void 0?void 0:n.tools)===null||t===void 0?void 0:t.some(l=>lh(l)))!==null&&r!==void 0?r:!1}function Gw(a){var n,t,r;return(r=(t=(n=a.config)===null||n===void 0?void 0:n.tools)===null||t===void 0?void 0:t.some(l=>!lh(l)))!==null&&r!==void 0?r:!1}function lh(a){return a!==null&&typeof a=="object"&&"tool"in a&&"callTool"in a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fw(a,n,t){const r=new iC;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const f=d1(a,l);Object.assign(r,f),n(r)}class Yw{constructor(n,t,r){this.apiClient=n,this.auth=t,this.webSocketFactory=r}async connect(n){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),g=Kw(this.apiClient.getDefaultHeaders()),y=this.apiClient.getApiKey(),x=`${l}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${y}`;let v=()=>{};const E=new Promise(Q=>{v=Q}),A=n.callbacks,N=function(){v({})},D=this.apiClient,R={onopen:N,onmessage:Q=>{Fw(D,A.onmessage,Q)},onerror:(t=A==null?void 0:A.onerror)!==null&&t!==void 0?t:function(Q){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(Q){}},O=this.webSocketFactory.create(x,$w(g),R);O.connect(),await E;const J=xt(this.apiClient,n.model),H=D_(this.apiClient,{model:J}),Y=Bd(this.apiClient,{setup:H});return O.send(JSON.stringify(Y)),new jw(O,this.apiClient)}}class jw{constructor(n,t){this.conn=n,this.apiClient=t}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=ME(this.apiClient,n),r=k_(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const t=NE(this.apiClient,n),r=Bd(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(n){const t=Bd(this.apiClient,{playbackControl:n});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Qr.PLAY)}pause(){this.sendPlaybackControl(Qr.PAUSE)}stop(){this.sendPlaybackControl(Qr.STOP)}resetContext(){this.sendPlaybackControl(Qr.RESET_CONTEXT)}close(){this.conn.close()}}function $w(a){const n={};return a.forEach((t,r)=>{n[r]=t}),n}function Kw(a){const n=new Headers;for(const[t,r]of Object.entries(a))n.append(t,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Xw(a,n,t){const r=new nC;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),a.isVertexAI()){const f=i1(a,l);Object.assign(r,f)}else{const f=n1(a,l);Object.assign(r,f)}n(r)}class Qw{constructor(n,t,r){this.apiClient=n,this.auth=t,this.webSocketFactory=r,this.music=new Yw(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var t,r,l,f,g,y;const x=this.apiClient.getWebsocketBaseUrl(),v=this.apiClient.getApiVersion();let E;const A=this.apiClient.getDefaultHeaders();n.config&&n.config.tools&&B_(n.config.tools)&&V_(A);const N=nA(A);if(this.apiClient.isVertexAI())E=`${x}/ws/google.cloud.aiplatform.${v}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N);else{const se=this.apiClient.getApiKey();E=`${x}/ws/google.ai.generativelanguage.${v}.GenerativeService.BidiGenerateContent?key=${se}`}let D=()=>{};const R=new Promise(se=>{D=se}),O=n.callbacks,J=function(){var se;(se=O==null?void 0:O.onopen)===null||se===void 0||se.call(O),D({})},H=this.apiClient,Y={onopen:J,onmessage:se=>{Xw(H,O.onmessage,se)},onerror:(t=O==null?void 0:O.onerror)!==null&&t!==void 0?t:function(se){},onclose:(r=O==null?void 0:O.onclose)!==null&&r!==void 0?r:function(se){}},Q=this.webSocketFactory.create(E,tA(N),Y);Q.connect(),await R;let W=xt(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const se=this.apiClient.getProject(),Ae=this.apiClient.getLocation();W=`projects/${se}/locations/${Ae}/`+W}let K={};this.apiClient.isVertexAI()&&((l=n.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[fc.AUDIO]}:n.config.responseModalities=[fc.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(y=(g=n.config)===null||g===void 0?void 0:g.tools)!==null&&y!==void 0?y:[],pe=[];for(const se of ce)if(this.isCallableTool(se)){const Ae=se;pe.push(await Ae.tool())}else pe.push(se);pe.length>0&&(n.config.tools=pe);const we={model:W,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?K=TE(this.apiClient,we):K=xE(this.apiClient,we),delete K.config,Q.send(JSON.stringify(K)),new eA(Q,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const Ww={turnComplete:!0};class eA{constructor(n,t){this.conn=n,this.apiClient=t}tLiveClientContent(n,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=vi(n,t.turns),n.isVertexAI()?r=r.map(l=>ls(n,l)):r=r.map(l=>yc(n,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(n,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const f of r){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(Jw)}return{toolResponse:{functionResponses:r}}}sendClientContent(n){n=Object.assign(Object.assign({},Ww),n);const t=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(t))}sendRealtimeInput(n){let t={};this.apiClient.isVertexAI()?t={realtimeInput:AE(this.apiClient,n)}:t={realtimeInput:wE(this.apiClient,n)},this.conn.send(JSON.stringify(t))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function tA(a){const n={};return a.forEach((t,r)=>{n[r]=t}),n}function nA(a){const n=new Headers;for(const[t,r]of Object.entries(a))n.append(t,r);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bv=10;function Vv(a){var n,t,r;if(!((n=a==null?void 0:a.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let l=!1;for(const g of(t=a==null?void 0:a.tools)!==null&&t!==void 0?t:[])if(nc(g)){l=!0;break}if(!l)return!0;const f=(r=a==null?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function nc(a){return"callTool"in a&&typeof a.callTool=="function"}function Hv(a){var n;return!(!((n=a==null?void 0:a.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iA extends Al{constructor(n){super(),this.apiClient=n,this.generateContent=async t=>{var r,l,f,g,y;const x=await this.processParamsForMcpUsage(t);if(!Zw(t)||Vv(t.config))return await this.generateContentInternal(x);if(Gw(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let v,E;const A=vi(this.apiClient,x.contents),N=(f=(l=(r=x.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&f!==void 0?f:Bv;let D=0;for(;D<N&&(v=await this.generateContentInternal(x),!(!v.functionCalls||v.functionCalls.length===0));){const R=v.candidates[0].content,O=[];for(const J of(y=(g=t.config)===null||g===void 0?void 0:g.tools)!==null&&y!==void 0?y:[])if(nc(J)){const Y=await J.callTool(v.functionCalls);O.push(...Y)}D++,E={role:"user",parts:O},x.contents=vi(this.apiClient,x.contents),x.contents.push(R),x.contents.push(E),Hv(x.config)&&(A.push(R),A.push(E))}return Hv(x.config)&&(v.automaticFunctionCallingHistory=A),v},this.generateContentStream=async t=>{if(Vv(t.config)){const r=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var l;let f;const g=[];if(r!=null&&r.generatedImages)for(const x of r.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((l=x==null?void 0:x.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?f=x==null?void 0:x.safetyAttributes:g.push(x);let y;return f?y={generatedImages:g,positivePromptSafetyAttributes:f}:y={generatedImages:g},y}),this.list=async t=>{var r;const g={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!g.config.queryBase){if(!((r=g.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");g.config.filter="labels.tune-type:*"}return new _c(os.PAGED_ITEM_MODELS,y=>this.listInternal(y),await this.listInternal(g),g)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(n){var t,r,l;const f=(t=n.config)===null||t===void 0?void 0:t.tools;if(!f)return n;const g=await Promise.all(f.map(async x=>nc(x)?await x.tool():x)),y={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:g})};if(y.config.tools=g,n.config&&n.config.tools&&B_(n.config.tools)){const x=(l=(r=n.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let v=Object.assign({},x);Object.keys(v).length===0&&(v=this.apiClient.getDefaultHeaders()),V_(v),y.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:v})}return y}async initAfcToolsMap(n){var t,r,l;const f=new Map;for(const g of(r=(t=n.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(nc(g)){const y=g,x=await y.tool();for(const v of(l=x.functionDeclarations)!==null&&l!==void 0?l:[]){if(!v.name)throw new Error("Function declaration name is required.");if(f.has(v.name))throw new Error(`Duplicate tool declaration name: ${v.name}`);f.set(v.name,y)}}return f}async processAfcStream(n){var t,r,l;const f=(l=(r=(t=n.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:Bv;let g=!1,y=0;const x=await this.initAfcToolsMap(n);return function(v,E,A){var N,D;return Cl(this,arguments,function*(){for(var R,O,J,H;y<f;){g&&(y++,g=!1);const K=yield At(v.processParamsForMcpUsage(A)),ce=yield At(v.generateContentStreamInternal(K)),pe=[],we=[];try{for(var Y=!0,Q=(O=void 0,tc(ce)),W;W=yield At(Q.next()),R=W.done,!R;Y=!0){H=W.value,Y=!1;const se=H;if(yield yield At(se),se.candidates&&(!((N=se.candidates[0])===null||N===void 0)&&N.content)){we.push(se.candidates[0].content);for(const Ae of(D=se.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(y<f&&Ae.functionCall){if(!Ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(E.has(Ae.functionCall.name)){const Oe=yield At(E.get(Ae.functionCall.name).callTool([Ae.functionCall]));pe.push(...Oe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${E.keys()}, mising tool: ${Ae.functionCall.name}`)}}}}catch(se){O={error:se}}finally{try{!Y&&!R&&(J=Q.return)&&(yield At(J.call(Q)))}finally{if(O)throw O.error}}if(pe.length>0){g=!0;const se=new pl;se.candidates=[{content:{role:"user",parts:pe}}],yield yield At(se);const Ae=[];Ae.push(...we),Ae.push({role:"user",parts:pe});const Oe=vi(v.apiClient,A.contents).concat(Ae);A.contents=Oe}else break}})}(this,x,n)}async generateContentInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=kv(this.apiClient,n);return y=ke("{model}:generateContent",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=Iv(this.apiClient,E),N=new pl;return Object.assign(N,A),N})}else{const v=Dv(this.apiClient,n);return y=ke("{model}:generateContent",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=Pv(this.apiClient,E),N=new pl;return Object.assign(N,A),N})}}async generateContentStreamInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=kv(this.apiClient,n);y=ke("{model}:streamGenerateContent?alt=sse",v._url),x=v._query,delete v.config,delete v._url,delete v._query;const E=this.apiClient;return g=E.requestStream({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}),g.then(function(A){return Cl(this,arguments,function*(){var N,D,R,O;try{for(var J=!0,H=tc(A),Y;Y=yield At(H.next()),N=Y.done,!N;J=!0){O=Y.value,J=!1;const W=Iv(E,yield At(O.json())),K=new pl;Object.assign(K,W),yield yield At(K)}}catch(Q){D={error:Q}}finally{try{!J&&!N&&(R=H.return)&&(yield At(R.call(H)))}finally{if(D)throw D.error}}})})}else{const v=Dv(this.apiClient,n);y=ke("{model}:streamGenerateContent?alt=sse",v._url),x=v._query,delete v.config,delete v._url,delete v._query;const E=this.apiClient;return g=E.requestStream({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),g.then(function(A){return Cl(this,arguments,function*(){var N,D,R,O;try{for(var J=!0,H=tc(A),Y;Y=yield At(H.next()),N=Y.done,!N;J=!0){O=Y.value,J=!1;const W=Pv(E,yield At(O.json())),K=new pl;Object.assign(K,W),yield yield At(K)}}catch(Q){D={error:Q}}finally{try{!J&&!N&&(R=H.return)&&(yield At(R.call(H)))}finally{if(D)throw D.error}}})})}}async embedContent(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=yb(this.apiClient,n);return y=ke("{model}:predict",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=yw(this.apiClient,E),N=new dv;return Object.assign(N,A),N})}else{const v=I1(this.apiClient,n);return y=ke("{model}:batchEmbedContents",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=Qb(this.apiClient,E),N=new dv;return Object.assign(N,A),N})}}async generateImagesInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=Tb(this.apiClient,n);return y=ke("{model}:predict",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=Tw(this.apiClient,E),N=new hv;return Object.assign(N,A),N})}else{const v=z1(this.apiClient,n);return y=ke("{model}:predict",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=tw(this.apiClient,E),N=new hv;return Object.assign(N,A),N})}}async editImageInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI()){const y=Mb(this.apiClient,n);return f=ke("{model}:predict",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const v=Cw(this.apiClient,x),E=new JT;return Object.assign(E,v),E})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI()){const y=Rb(this.apiClient,n);return f=ke("{model}:predict",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const v=Sw(this.apiClient,x),E=new XT;return Object.assign(E,v),E})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=Lb(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>Hd(this.apiClient,E))}else{const v=U1(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>Vd(this.apiClient,E))}}async listInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=kb(this.apiClient,n);return y=ke("{models_url}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=Aw(this.apiClient,E),N=new mv;return Object.assign(N,A),N})}else{const v=V1(this.apiClient,n);return y=ke("{models_url}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=iw(this.apiClient,E),N=new mv;return Object.assign(N,A),N})}}async update(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=Ib(this.apiClient,n);return y=ke("{model}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>Hd(this.apiClient,E))}else{const v=q1(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"PATCH",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>Vd(this.apiClient,E))}}async delete(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=Ob(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(()=>{const E=Mw(),A=new pv;return Object.assign(A,E),A})}else{const v=Z1(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(()=>{const E=ow(),A=new pv;return Object.assign(A,E),A})}}async countTokens(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=Ub(this.apiClient,n);return y=ke("{model}:countTokens",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=Nw(this.apiClient,E),N=new gv;return Object.assign(N,A),N})}else{const v=F1(this.apiClient,n);return y=ke("{model}:countTokens",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=aw(this.apiClient,E),N=new gv;return Object.assign(N,A),N})}}async computeTokens(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI()){const y=Bb(this.apiClient,n);return f=ke("{model}:computeTokens",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>{const v=Rw(this.apiClient,x),E=new QT;return Object.assign(E,v),E})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=Hb(this.apiClient,n);return y=ke("{model}:predictLongRunning",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>Pw(this.apiClient,E))}else{const v=$1(this.apiClient,n);return y=ke("{model}:predictLongRunning",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>uw(this.apiClient,E))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(a,n){const t={},r=d(n,["operationName"]);r!=null&&h(t,["_url","operationName"],r);const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function aA(a,n){const t={},r=d(n,["operationName"]);r!=null&&h(t,["_url","operationName"],r);const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function rA(a,n){const t={},r=d(n,["operationName"]);r!=null&&h(t,["operationName"],r);const l=d(n,["resourceName"]);l!=null&&h(t,["_url","resourceName"],l);const f=d(n,["config"]);return f!=null&&h(t,["config"],f),t}function sA(a,n){const t={},r=d(n,["video","uri"]);r!=null&&h(t,["uri"],r);const l=d(n,["video","encodedVideo"]);l!=null&&h(t,["videoBytes"],_a(a,l));const f=d(n,["encoding"]);return f!=null&&h(t,["mimeType"],f),t}function lA(a,n){const t={},r=d(n,["_self"]);return r!=null&&h(t,["video"],sA(a,r)),t}function uA(a,n){const t={},r=d(n,["generatedSamples"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(y=>lA(a,y))),h(t,["generatedVideos"],g)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(t,["raiMediaFilteredCount"],l);const f=d(n,["raiMediaFilteredReasons"]);return f!=null&&h(t,["raiMediaFilteredReasons"],f),t}function cA(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["metadata"]);l!=null&&h(t,["metadata"],l);const f=d(n,["done"]);f!=null&&h(t,["done"],f);const g=d(n,["error"]);g!=null&&h(t,["error"],g);const y=d(n,["response","generateVideoResponse"]);return y!=null&&h(t,["response"],uA(a,y)),t}function fA(a,n){const t={},r=d(n,["gcsUri"]);r!=null&&h(t,["uri"],r);const l=d(n,["bytesBase64Encoded"]);l!=null&&h(t,["videoBytes"],_a(a,l));const f=d(n,["mimeType"]);return f!=null&&h(t,["mimeType"],f),t}function dA(a,n){const t={},r=d(n,["_self"]);return r!=null&&h(t,["video"],fA(a,r)),t}function hA(a,n){const t={},r=d(n,["videos"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(y=>dA(a,y))),h(t,["generatedVideos"],g)}const l=d(n,["raiMediaFilteredCount"]);l!=null&&h(t,["raiMediaFilteredCount"],l);const f=d(n,["raiMediaFilteredReasons"]);return f!=null&&h(t,["raiMediaFilteredReasons"],f),t}function qv(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["metadata"]);l!=null&&h(t,["metadata"],l);const f=d(n,["done"]);f!=null&&h(t,["done"],f);const g=d(n,["error"]);g!=null&&h(t,["error"],g);const y=d(n,["response"]);return y!=null&&h(t,["response"],hA(a,y)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mA extends Al{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const t=n.operation,r=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let f;return r&&"httpOptions"in r&&(f=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:t.name,config:r})}async getVideosOperationInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=aA(this.apiClient,n);return y=ke("{operationName}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>qv(this.apiClient,E))}else{const v=oA(this.apiClient,n);return y=ke("{operationName}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>cA(this.apiClient,E))}}async fetchPredictVideosOperationInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI()){const y=rA(this.apiClient,n);return f=ke("{resourceName}:fetchPredictOperation",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>qv(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pA(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],r);const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function gA(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);t!==void 0&&f!=null&&h(t,["_query","pageToken"],f);const g=d(n,["filter"]);return t!==void 0&&g!=null&&h(t,["_query","filter"],g),r}function vA(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],gA(a,r,t)),t}function _A(a,n){const t={},r=d(n,["textInput"]);r!=null&&h(t,["textInput"],r);const l=d(n,["output"]);return l!=null&&h(t,["output"],l),t}function yA(a,n){const t={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>_A(a,f))),h(t,["examples","examples"],l)}return t}function xA(a,n,t){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(n,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&h(t,["displayName"],l),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=d(n,["epochCount"]);t!==void 0&&f!=null&&h(t,["tuningTask","hyperparameters","epochCount"],f);const g=d(n,["learningRateMultiplier"]);if(g!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],g),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=d(n,["batchSize"]);t!==void 0&&y!=null&&h(t,["tuningTask","hyperparameters","batchSize"],y);const x=d(n,["learningRate"]);return t!==void 0&&x!=null&&h(t,["tuningTask","hyperparameters","learningRate"],x),r}function TA(a,n){const t={},r=d(n,["baseModel"]);r!=null&&h(t,["baseModel"],r);const l=d(n,["trainingDataset"]);l!=null&&h(t,["tuningTask","trainingData"],yA(a,l));const f=d(n,["config"]);return f!=null&&h(t,["config"],xA(a,f,t)),t}function CA(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["_url","name"],r);const l=d(n,["config"]);return l!=null&&h(t,["config"],l),t}function SA(a,n,t){const r={},l=d(n,["pageSize"]);t!==void 0&&l!=null&&h(t,["_query","pageSize"],l);const f=d(n,["pageToken"]);t!==void 0&&f!=null&&h(t,["_query","pageToken"],f);const g=d(n,["filter"]);return t!==void 0&&g!=null&&h(t,["_query","filter"],g),r}function EA(a,n){const t={},r=d(n,["config"]);return r!=null&&h(t,["config"],SA(a,r,t)),t}function bA(a,n,t){const r={},l=d(n,["gcsUri"]);if(t!==void 0&&l!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],l),d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function wA(a,n){const t={},r=d(n,["gcsUri"]);return r!=null&&h(t,["validationDatasetUri"],r),t}function AA(a,n,t){const r={},l=d(n,["validationDataset"]);t!==void 0&&l!=null&&h(t,["supervisedTuningSpec"],wA(a,l));const f=d(n,["tunedModelDisplayName"]);t!==void 0&&f!=null&&h(t,["tunedModelDisplayName"],f);const g=d(n,["description"]);t!==void 0&&g!=null&&h(t,["description"],g);const y=d(n,["epochCount"]);t!==void 0&&y!=null&&h(t,["supervisedTuningSpec","hyperParameters","epochCount"],y);const x=d(n,["learningRateMultiplier"]);t!==void 0&&x!=null&&h(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x);const v=d(n,["exportLastCheckpointOnly"]);t!==void 0&&v!=null&&h(t,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const E=d(n,["adapterSize"]);if(t!==void 0&&E!=null&&h(t,["supervisedTuningSpec","hyperParameters","adapterSize"],E),d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function MA(a,n){const t={},r=d(n,["baseModel"]);r!=null&&h(t,["baseModel"],r);const l=d(n,["trainingDataset"]);l!=null&&h(t,["supervisedTuningSpec","trainingDatasetUri"],bA(a,l,t));const f=d(n,["config"]);return f!=null&&h(t,["config"],AA(a,f,t)),t}function NA(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["model"],r);const l=d(n,["name"]);return l!=null&&h(t,["endpoint"],l),t}function H_(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["state"]);l!=null&&h(t,["state"],E_(a,l));const f=d(n,["createTime"]);f!=null&&h(t,["createTime"],f);const g=d(n,["tuningTask","startTime"]);g!=null&&h(t,["startTime"],g);const y=d(n,["tuningTask","completeTime"]);y!=null&&h(t,["endTime"],y);const x=d(n,["updateTime"]);x!=null&&h(t,["updateTime"],x);const v=d(n,["description"]);v!=null&&h(t,["description"],v);const E=d(n,["baseModel"]);E!=null&&h(t,["baseModel"],E);const A=d(n,["_self"]);A!=null&&h(t,["tunedModel"],NA(a,A));const N=d(n,["distillationSpec"]);N!=null&&h(t,["distillationSpec"],N);const D=d(n,["experiment"]);D!=null&&h(t,["experiment"],D);const R=d(n,["labels"]);R!=null&&h(t,["labels"],R);const O=d(n,["pipelineJob"]);O!=null&&h(t,["pipelineJob"],O);const J=d(n,["tunedModelDisplayName"]);return J!=null&&h(t,["tunedModelDisplayName"],J),t}function RA(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["tunedModels"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>H_(a,g))),h(t,["tuningJobs"],f)}return t}function LA(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["metadata"]);l!=null&&h(t,["metadata"],l);const f=d(n,["done"]);f!=null&&h(t,["done"],f);const g=d(n,["error"]);return g!=null&&h(t,["error"],g),t}function DA(a,n){const t={},r=d(n,["checkpointId"]);r!=null&&h(t,["checkpointId"],r);const l=d(n,["epoch"]);l!=null&&h(t,["epoch"],l);const f=d(n,["step"]);f!=null&&h(t,["step"],f);const g=d(n,["endpoint"]);return g!=null&&h(t,["endpoint"],g),t}function kA(a,n){const t={},r=d(n,["model"]);r!=null&&h(t,["model"],r);const l=d(n,["endpoint"]);l!=null&&h(t,["endpoint"],l);const f=d(n,["checkpoints"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>DA(a,y))),h(t,["checkpoints"],g)}return t}function Gd(a,n){const t={},r=d(n,["name"]);r!=null&&h(t,["name"],r);const l=d(n,["state"]);l!=null&&h(t,["state"],E_(a,l));const f=d(n,["createTime"]);f!=null&&h(t,["createTime"],f);const g=d(n,["startTime"]);g!=null&&h(t,["startTime"],g);const y=d(n,["endTime"]);y!=null&&h(t,["endTime"],y);const x=d(n,["updateTime"]);x!=null&&h(t,["updateTime"],x);const v=d(n,["error"]);v!=null&&h(t,["error"],v);const E=d(n,["description"]);E!=null&&h(t,["description"],E);const A=d(n,["baseModel"]);A!=null&&h(t,["baseModel"],A);const N=d(n,["tunedModel"]);N!=null&&h(t,["tunedModel"],kA(a,N));const D=d(n,["supervisedTuningSpec"]);D!=null&&h(t,["supervisedTuningSpec"],D);const R=d(n,["tuningDataStats"]);R!=null&&h(t,["tuningDataStats"],R);const O=d(n,["encryptionSpec"]);O!=null&&h(t,["encryptionSpec"],O);const J=d(n,["partnerModelTuningSpec"]);J!=null&&h(t,["partnerModelTuningSpec"],J);const H=d(n,["distillationSpec"]);H!=null&&h(t,["distillationSpec"],H);const Y=d(n,["experiment"]);Y!=null&&h(t,["experiment"],Y);const Q=d(n,["labels"]);Q!=null&&h(t,["labels"],Q);const W=d(n,["pipelineJob"]);W!=null&&h(t,["pipelineJob"],W);const K=d(n,["tunedModelDisplayName"]);return K!=null&&h(t,["tunedModelDisplayName"],K),t}function PA(a,n){const t={},r=d(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=d(n,["tuningJobs"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(g=>Gd(a,g))),h(t,["tuningJobs"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IA extends Al{constructor(n){super(),this.apiClient=n,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new _c(os.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const r=await this.tuneMldevInternal(t);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:Id.JOB_STATE_QUEUED}}}}async getInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=CA(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>Gd(this.apiClient,E))}else{const v=pA(this.apiClient,n);return y=ke("{name}",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>H_(this.apiClient,E))}}async listInternal(n){var t,r,l,f;let g,y="",x={};if(this.apiClient.isVertexAI()){const v=EA(this.apiClient,n);return y=ke("tuningJobs",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(E=>E.json()),g.then(E=>{const A=PA(this.apiClient,E),N=new vv;return Object.assign(N,A),N})}else{const v=vA(this.apiClient,n);return y=ke("tunedModels",v._url),x=v._query,delete v.config,delete v._url,delete v._query,g=this.apiClient.request({path:y,queryParams:x,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(l=n.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(E=>E.json()),g.then(E=>{const A=RA(this.apiClient,E),N=new vv;return Object.assign(N,A),N})}}async tuneInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI()){const y=MA(this.apiClient,n);return f=ke("tuningJobs",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>Gd(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var t,r;let l,f="",g={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=TA(this.apiClient,n);return f=ke("tunedModels",y._url),g=y._query,delete y.config,delete y._url,delete y._query,l=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),l.then(x=>LA(this.apiClient,x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA{async download(n,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zA=1024*1024*8,UA=3,BA=1e3,VA=2,Cd="x-goog-upload-status";async function HA(a,n,t){var r,l,f;let g=0,y=0,x=new Od(new Response),v="upload";for(g=a.size;y<g;){const A=Math.min(zA,g-y),N=a.slice(y,y+A);y+A>=g&&(v+=", finalize");let D=0,R=BA;for(;D<UA&&(x=await t.request({path:"",body:N,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(y),"Content-Length":String(A)}}}),!(!((r=x==null?void 0:x.headers)===null||r===void 0)&&r[Cd]));)D++,await ZA(R),R=R*VA;if(y+=A,((l=x==null?void 0:x.headers)===null||l===void 0?void 0:l[Cd])!=="active")break;if(g<=y)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const E=await(x==null?void 0:x.json());if(((f=x==null?void 0:x.headers)===null||f===void 0?void 0:f[Cd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return E.file}async function qA(a){return{size:a.size,type:a.type}}function ZA(a){return new Promise(n=>setTimeout(n,a))}class GA{async upload(n,t,r){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await HA(n,t,r)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await qA(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FA{create(n,t,r){return new YA(n,t,r)}}class YA{constructor(n,t,r){this.url=n,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zv="x-goog-api-key";class jA{constructor(n){this.apiKey=n}async addAuthHeaders(n){n.get(Zv)===null&&n.append(Zv,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A="gl-node/";class KA{constructor(n){var t;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=n.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=n.apiKey;const r=KT(n,void 0,void 0);r&&(n.httpOptions?n.httpOptions.baseUrl=r:n.httpOptions={baseUrl:r}),this.apiVersion=n.apiVersion;const l=new jA(this.apiKey);this.apiClient=new qw({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:$A+"web",uploader:new GA,downloader:new OA}),this.models=new iA(this.apiClient),this.live=new Qw(this.apiClient,l,new FA),this.chats=new mS(this.models,this.apiClient),this.caches=new fS(this.apiClient),this.files=new AS(this.apiClient),this.operations=new mA(this.apiClient),this.tunings=new IA(this.apiClient)}}const JA="PLACEHOLDER_API_KEY";let as=null;as=new KA({apiKey:JA});const q_="gemini-2.5-flash-preview-04-17",xc=()=>!!as,XA=async(a,n)=>{if(!as)return null;try{return(await as.models.generateContent({model:q_,contents:a,...n&&{config:{systemInstruction:n}}})).text}catch(t){return console.error("Error generating text with Gemini:",t),t instanceof Error&&t.message.includes("API key not valid")&&alert("Gemini API Key is not valid. Please check your API_KEY environment variable."),null}},Tc=async(a,n)=>{if(!as)return null;try{const t=await as.models.generateContent({model:q_,contents:a,config:{responseMimeType:"application/json",...n&&{systemInstruction:n}}});let r=t.text.trim();const l=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,f=r.match(l);f&&f[2]&&(r=f[2].trim());try{return JSON.parse(r)}catch(g){console.error("Failed to parse JSON response from Gemini:",g,"Raw text:",t.text);const y=r.match(/(\{.*\}|\[.*\])/s);if(y&&y[0])try{return JSON.parse(y[0])}catch(x){throw console.error("Secondary JSON parsing attempt failed:",x),new Error(`Failed to parse AI response as JSON. Details: ${x instanceof Error?x.message:String(x)}`)}throw new Error(`Failed to parse AI response as JSON. Details: ${g instanceof Error?g.message:String(g)}`)}}catch(t){throw console.error("Error generating JSON with Gemini:",t),t instanceof Error&&t.message.includes("API key not valid")&&alert("Gemini API Key is not valid. Please check your API_KEY environment variable."),t}},QA=()=>{const a=Hi(),{projectId:n}=Xd(),t=z.useContext(qi),[r,l]=z.useState([]),[f,g]=z.useState(!1),[y,x]=z.useState(!1);if(z.useEffect(()=>{x(xc())},[]),!t)return S.jsx("p",{children:"Cargando contexto..."});const{projects:v,getRecordingsForProject:E,deleteProject:A,deleteRecording:N,updateRecording:D}=t,R=v.find(K=>K.id===n),O=n?E(n):[];if(!R)return S.jsxs("div",{children:[S.jsx(Ui,{title:"Proyecto No Encontrado",showBackButton:!0}),S.jsx("p",{className:"p-4 text-center text-brand-text-dim",children:"El proyecto solicitado no pudo ser encontrado."})]});const J=()=>{window.confirm(`¿Estás seguro de que quieres eliminar el proyecto "${R.name}" y todas sus grabaciones?`)&&n&&(A(n),a("/"))},H=K=>{window.confirm("¿Estás seguro de que quieres eliminar esta grabación?")&&N(K)},Y=(K,ce)=>{const pe=O.find(we=>we.id===K);if(pe){const we=pe.voiceNotes.map(se=>se.id===ce.id?ce:se);D({...pe,voiceNotes:we})}},Q=async()=>{if(!y){alert("Las funciones de IA no están disponibles. Verifica la configuración de la API Key de Gemini.");return}g(!0),l([]);try{const K=`Para un proyecto de grabación de paisajes sonoros titulado "${R.name}", que se desarrolla en "${R.location}" y cuyo tema es "${R.theme}", sugiere 3 ideas creativas y específicas para grabaciones de sonido. Considera aspectos únicos que se podrían capturar. Formatea la respuesta como un array JSON de strings. Ejemplo: ["El eco dentro del viejo molino abandonado al amanecer", "Los sonidos de la fauna nocturna cerca del arroyo escondido", "La atmósfera del mercado local durante la hora pico"]`,ce=await Tc(K);ce&&l(ce)}catch(K){console.error("Error fetching AI content ideas:",K),alert(`Error al generar ideas con IA: ${K instanceof Error?K.message:String(K)}`)}finally{g(!1)}},W=R.technicalSheet.latitude!==void 0&&R.technicalSheet.longitude!==void 0;return S.jsxs("div",{className:"pb-20",children:[" ",S.jsx(Ui,{title:R.name,showBackButton:!0,actions:S.jsx(Ve,{onClick:()=>a(`/edit-project/${R.id}`),variant:"ghost",size:"sm","aria-label":"Editar proyecto",children:S.jsx(h_,{className:"w-5 h-5 text-brand-primary"})})}),S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsxs("div",{className:"bg-brand-dark-card dark:bg-slate-800 p-4 rounded-lg shadow",children:[S.jsx("h2",{className:"text-xl font-semibold text-brand-primary mb-2",children:R.name}),S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Ubicación:"})," ",R.location]}),S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Tema:"})," ",R.theme]}),S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Fecha:"})," ",new Date(R.date).toLocaleDateString()]}),R.notes&&S.jsx("p",{className:"mt-2 text-sm text-brand-text-light whitespace-pre-wrap",children:R.notes})]}),S.jsxs("div",{className:"bg-brand-dark-card dark:bg-slate-800 p-4 rounded-lg shadow",children:[S.jsx("h3",{className:"text-lg font-semibold text-brand-text-light mb-2",children:"Ficha Técnica"}),S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Micrófono:"})," ",R.technicalSheet.microphone||"N/D"]}),S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Grabadora:"})," ",R.technicalSheet.recorder||"N/D"]}),S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Configuración:"})," ",R.technicalSheet.settings||"N/D"]}),R.technicalSheet.latitude!==void 0&&S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Latitud:"})," ",R.technicalSheet.latitude]}),R.technicalSheet.longitude!==void 0&&S.jsxs("p",{className:"text-sm text-brand-text-dim",children:[S.jsx("span",{className:"font-medium text-brand-text-light",children:"Longitud:"})," ",R.technicalSheet.longitude]})]}),y&&S.jsxs("div",{className:"bg-brand-dark-card dark:bg-slate-800 p-4 rounded-lg shadow",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("h3",{className:"text-lg font-semibold text-brand-text-light",children:"Ideas de Grabación (AI)"}),S.jsxs(Ve,{onClick:Q,variant:"secondary",size:"sm",disabled:f,children:[S.jsx(Qa,{className:"w-4 h-4 mr-1 inline"})," ",f?"Generando...":"Nuevas Ideas"]})]}),f&&S.jsx("p",{className:"text-brand-text-dim text-sm",children:"Buscando inspiración..."}),r.length>0&&S.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-brand-text-light",children:r.map((K,ce)=>S.jsx("li",{children:K},ce))}),!f&&r.length===0&&S.jsx("p",{className:"text-brand-text-dim text-sm",children:'Haz clic en "Nuevas Ideas" para obtener sugerencias de la IA.'})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-3",children:[S.jsxs("h3",{className:"text-lg font-semibold text-brand-text-light",children:["Grabaciones (",O.length,")"]}),S.jsxs(Ve,{onClick:()=>a(`/project/${n}/new-recording`),variant:"secondary",size:"sm",children:[S.jsx(wd,{className:"w-4 h-4 mr-1 inline"})," Añadir Grabación"]})]}),O.length===0?S.jsx("p",{className:"text-brand-text-dim text-center py-4",children:"Aún no hay grabaciones para este proyecto."}):S.jsx("div",{className:"space-y-3",children:O.map(K=>S.jsx(hT,{recording:K,onEdit:()=>a(`/project/${n}/edit-recording/${K.id}`),onDelete:()=>H(K.id),onUpdateVoiceNote:ce=>Y(K.id,ce)},K.id))})]}),S.jsxs("div",{className:"mt-6 flex flex-col space-y-2",children:[S.jsxs(Ve,{onClick:()=>a("/map",{state:{projectId:R.id}}),variant:"secondary",className:"w-full flex items-center justify-center",disabled:!W,"aria-label":W?"Ver proyecto en mapa":"Ver proyecto en mapa (coordenadas no disponibles)",children:[S.jsx(nh,{className:"w-5 h-5 mr-2"})," Ver Proyecto en Mapa"]}),!W&&S.jsx("p",{className:"text-xs text-center text-brand-text-dim",children:"Añade coordenadas al proyecto para verlo en el mapa."}),S.jsx(Ve,{onClick:J,variant:"danger",size:"sm",className:"w-full mt-4",children:"Eliminar Proyecto"})]})]}),S.jsx(Ve,{onClick:()=>a(`/project/${n}/new-recording`),className:"fixed bottom-20 right-4 bg-brand-primary hover:bg-brand-primary-hover text-white p-4 rounded-full shadow-xl z-20","aria-label":"Añadir nueva grabación",children:S.jsx(d_,{className:"w-6 h-6"})})]})};var Xr=(a=>(a.METADATA="metadata",a.MEDIA="media",a))(Xr||{});const Sd=a=>{const n=Math.floor(a/60),t=Math.floor(a%60);return`${n}:${t<10?"0":""}${t}`},Gv=()=>{const a=Hi(),{projectId:n,recordingId:t}=Xd(),r=z.useContext(qi),l=!!t,[f,g]=z.useState(""),[y,x]=z.useState(""),[v,E]=z.useState(""),[A,N]=z.useState([]),[D,R]=z.useState(""),[O,J]=z.useState(new Date().toISOString()),[H,Y]=z.useState([]),[Q,W]=z.useState([]),[K,ce]=z.useState(Xr.METADATA),[pe,we]=z.useState(!1),[se,Ae]=z.useState("idle"),[Oe,ve]=z.useState(null),Ye=z.useRef(null),He=z.useRef(null),[Qe,$]=z.useState(!1),ue=z.useRef(null),[ae,je]=z.useState(!1),[k,X]=z.useState(null),[fe,re]=z.useState([]),[he,_e]=z.useState("idle"),[de,mt]=z.useState(null),[Je,gn]=z.useState(0),Hn=z.useRef(null),[bn,qn]=z.useState(""),[oi,To]=z.useState(""),[Co,ya]=z.useState(!1),[Ht,ai]=z.useState(null),[xa,Zi]=z.useState([]),[ri,Ta]=z.useState(!1),[xi,us]=z.useState(!1),[ir,Zn]=z.useState(null);if(z.useEffect(()=>{if(us(xc()),!n){a("/");return}if(l&&t&&r){const te=r.recordings.find(Me=>Me.id===t&&Me.projectId===n);te?(g(te.title),x(te.description),E(te.location),N(te.tags),J(te.timestamp),Y(te.photos),W(te.voiceNotes)):a(`/project/${n}`)}},[n,t,l,r==null?void 0:r.recordings,a]),!r)return S.jsx("p",{children:"Cargando contexto..."});const{addRecording:qt,updateRecording:wn}=r,Zt=()=>{D.trim()&&!A.includes(D.trim())&&(N([...A,D.trim()]),R(""))},or=te=>N(A.filter(Me=>Me!==te)),ar=async()=>{Ae("pending"),ve(null);try{const te=await navigator.mediaDevices.getUserMedia({video:!0});Ye.current&&(Ye.current.srcObject=te,Ae("granted"))}catch(te){console.error("Error accessing camera:",te),ve("No se pudo acceder a la cámara. Verifica los permisos."),Ae("denied")}},cs=()=>{we(!0),ar()},Ti=()=>{we(!1),Ye.current&&Ye.current.srcObject&&(Ye.current.srcObject.getTracks().forEach(te=>te.stop()),Ye.current.srcObject=null),Ae("idle"),ve(null)},Ci=()=>{if(Ye.current&&He.current&&se==="granted"){$(!0);const te=Ye.current,Me=He.current;Me.width=te.videoWidth,Me.height=te.videoHeight;const ut=Me.getContext("2d");if(ut){ut.drawImage(te,0,0,Me.width,Me.height);const We=Me.toDataURL("image/jpeg",.7),it={id:`photo_${Date.now()}`,url:We,caption:`Foto capturada ${H.length+1}`};Y(pt=>[...pt,it])}$(!1),Ti()}},Gn=te=>Y(H.filter(Me=>Me.id!==te)),So=async te=>{var ut;const Me=(ut=te.target.files)==null?void 0:ut[0];if(Me)try{const We=await new Promise((pt,vn)=>{const Mt=new FileReader;Mt.onloadend=()=>pt(Mt.result),Mt.onerror=vn,Mt.readAsDataURL(Me)}),it={id:`photo_upload_${Date.now()}`,url:We,caption:Me.name||`Foto subida ${H.length+1}`};Y(pt=>[...pt,it])}catch(We){console.error("Error processing uploaded photo file:",We),alert(`Error al subir la foto: ${We instanceof Error?We.message:"Error desconocido"}`)}finally{ue.current&&(ue.current.value="")}},An=async()=>{_e("pending"),mt(null);try{const te=await navigator.mediaDevices.getUserMedia({audio:!0});return _e("granted"),te}catch(te){return console.error("Error accessing microphone:",te),mt("No se pudo acceder al micrófono. Verifica los permisos."),_e("denied"),null}},fs=async()=>{if(!bn.trim()){alert("Por favor, ingresa un título para la nota de voz.");return}const te=await An();if(te&&he!=="denied"){const Me=new MediaRecorder(te);X(Me),Me.ondataavailable=ut=>re(We=>[...We,ut.data]),Me.onstop=()=>{te.getTracks().forEach(it=>it.stop());const ut=new Blob(fe,{type:Me.mimeType||"audio/webm"}),We=new FileReader;We.onloadend=()=>{const it=We.result,pt={id:`vn_${Date.now()}`,title:bn.trim()||`Nota de Voz ${Q.length+1}`,audioBase64:it,audioType:ut.type,duration:Je};W(vn=>[...vn,pt]),qn("")},We.readAsDataURL(ut),re([])},Me.start(),je(!0),gn(0),Hn.current=window.setInterval(()=>{gn(ut=>ut+1)},1e3)}},rr=()=>{k&&(k.stop(),je(!1),Hn.current&&(clearInterval(Hn.current),Hn.current=null))},Ca=te=>W(Q.filter(Me=>Me.id!==te)),Eo=async te=>{var ut;const Me=(ut=te.target.files)==null?void 0:ut[0];if(Me){if(!oi.trim()){ai("Por favor, ingresa un título para la nota de voz subida."),te.target.value="";return}ya(!0),ai(null);try{const We=await new Promise((si,Mn)=>{const zt=new FileReader;zt.onloadend=()=>si(zt.result),zt.onerror=Mn,zt.readAsDataURL(Me)}),it=Me.type,pt=await new Promise(si=>{const Mn=document.createElement("audio");Mn.onloadedmetadata=()=>si({duration:Mn.duration}),Mn.onerror=zt=>{let tn="Unknown error loading audio metadata.";const Ut=Mn.error;if(Ut)switch(Ut.code){case MediaError.MEDIA_ERR_ABORTED:tn="The fetching process for the media was aborted by the user.";break;case MediaError.MEDIA_ERR_NETWORK:tn="A network error occurred while fetching the media.";break;case MediaError.MEDIA_ERR_DECODE:tn="An error occurred while decoding the media. The format might be corrupted or unsupported.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:tn="The media source is not supported by this browser or the format is invalid.";break;default:tn=`An unknown media error occurred (code: ${Ut.code}).`}else typeof zt=="string"?tn=zt:zt instanceof Event&&zt.type&&(tn=`Media loading failed with event type: ${zt.type}.`);const li=`Error loading audio metadata for duration: ${tn}${Ut?` (MediaError code: ${Ut.code}, message: "${Ut.message}")`:""}`;console.error(li);let ln;Ut&&Ut.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&(ln=`El formato de este archivo de audio ("${Me.name}") podría no ser totalmente compatible con tu navegador. La duración podría ser incorrecta y la reproducción podría no funcionar como se espera. Detalles: ${tn}`),si({duration:0,error:ln})},Mn.src=We}),{duration:vn,error:Mt}=pt;Mt&&ai(Mt);const Se={id:`vn_upload_${Date.now()}`,title:oi.trim(),audioBase64:We,audioType:it,duration:vn};W(si=>[...si,Se]),To(""),te.target.value=""}catch(We){console.error("Error processing uploaded audio file (general):",We instanceof Error?We.message:String(We)),ai(`Error al procesar el archivo: ${We instanceof Error?We.message:"Desconocido"}`)}finally{ya(!1)}}},Si=async()=>{if(!xi){alert("Las funciones de IA no están disponibles. Verifica la configuración de la API Key de Gemini.");return}Ta(!0),Zi([]);try{const te=`Basado en el título de la grabación de sonido "${f}" y su descripción "${y}", sugiere hasta 5 etiquetas relevantes. La grabación es parte de un proyecto de paisajes sonoros. Prioriza etiquetas concisas y descriptivas. Devuelve un array JSON de strings. Ejemplo: ["naturaleza", "ambiente", "urbano"]`,Me=await Tc(te);Me&&Zi(Me.filter(ut=>ut.trim()!==""))}catch(te){console.error("Error suggesting tags:",te),alert(`Error al sugerir etiquetas: ${te instanceof Error?te.message:String(te)}`)}finally{Ta(!1)}},ds=te=>{A.includes(te)||N(Me=>[...Me,te]),Zi(Me=>Me.filter(ut=>ut!==te))},sr=async te=>{if(!xi){alert("Las funciones de IA no están disponibles. Verifica la configuración de la API Key de Gemini.");return}Zn(te.id);try{const Me=`Para una nota de voz titulada "${te.title}" con una duración de ${Sd(te.duration||0)}, dentro de un proyecto de paisajes sonoros:
      1. Proporciona una breve transcripción imaginada o un resumen conciso de lo que podría tratar.
      2. Si la nota es muy corta (ej. menos de 5 segundos), podría ser un sonido específico en lugar de una narración.
      Mantén la respuesta breve y relevante al contexto de una nota de voz para un proyecto de sonido.`,ut=await XA(Me);ut&&W(We=>We.map(it=>it.id===te.id?{...it,transcription:ut.trim()}:it))}catch(Me){console.error("Error transcribing/summarizing voice note:",Me),alert(`Error al procesar nota de voz: ${Me instanceof Error?Me.message:String(Me)}`)}finally{Zn(null)}},lr=te=>{if(te.preventDefault(),!f||!n){alert("Por favor, completa el título.");return}const Me={id:t||`rec_${Date.now()}`,projectId:n,title:f,description:y,location:v,tags:A,timestamp:O,photos:H,voiceNotes:Q};l?wn(Me):qt(Me),a(`/project/${n}`)},bo=({tab:te,label:Me})=>S.jsx(Ve,{variant:K===te?"primary":"secondary",onClick:()=>ce(te),className:"flex-1",children:Me});return S.jsxs("div",{children:[S.jsx(Ui,{title:l?"Editar Grabación":"Nueva Grabación",showBackButton:!0,backPath:n?`/project/${n}`:"/"}),S.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[S.jsxs("div",{className:"flex space-x-2 mb-6",children:[S.jsx(bo,{tab:Xr.METADATA,label:"Metadatos"}),S.jsx(bo,{tab:Xr.MEDIA,label:"Multimedia"})]}),S.jsxs("form",{onSubmit:lr,className:"space-y-6 pb-20",children:[K===Xr.METADATA&&S.jsxs(S.Fragment,{children:[S.jsx(sn,{id:"title",label:"Título",value:f,onChange:te=>g(te.target.value),required:!0}),S.jsx(sn,{id:"description",label:"Descripción",type:"textarea",value:y,onChange:te=>x(te.target.value)}),S.jsx(sn,{id:"location",label:"Ubicación Específica (opcional)",value:v,onChange:te=>E(te.target.value),placeholder:"ej., Bajo el viejo roble"}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-brand-text-dim mb-1",children:"Etiquetas"}),S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx("input",{type:"text",value:D,onChange:te=>R(te.target.value),placeholder:"Añadir una etiqueta",className:"flex-grow p-3 bg-brand-dark-card border border-brand-dark-border rounded-lg focus:ring-2 focus:ring-brand-primary outline-none text-brand-text-light",onKeyDown:te=>{te.key==="Enter"&&(te.preventDefault(),Zt())}}),S.jsx(Ve,{type:"button",onClick:Zt,variant:"secondary",size:"md",children:"Añadir"})]}),xi&&S.jsxs(Ve,{type:"button",onClick:Si,variant:"ghost",size:"sm",className:"mb-2 text-sm",disabled:ri||!f.trim(),children:[S.jsx(Qa,{className:"w-4 h-4 mr-1 inline"})," ",ri?"Sugiriendo...":"Sugerir Etiquetas (AI)"]}),xa.length>0&&S.jsxs("div",{className:"mb-2 p-2 border border-brand-dark-border rounded-md bg-brand-dark-bg",children:[S.jsx("p",{className:"text-xs text-brand-text-dim mb-1",children:"Sugerencias AI:"}),S.jsx("div",{className:"flex flex-wrap gap-1",children:xa.map(te=>S.jsxs("button",{type:"button",onClick:()=>ds(te),className:"text-xs bg-brand-primary/30 text-brand-primary px-1.5 py-0.5 rounded-full hover:bg-brand-primary/50",children:[te," +"]},te))})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(te=>S.jsxs("span",{className:"bg-brand-primary text-white px-2 py-1 rounded-full text-sm flex items-center",children:[te,S.jsx("button",{type:"button",onClick:()=>or(te),className:"ml-2 text-xs text-blue-200 hover:text-white",children:"×"})]},te))})]}),S.jsx(sn,{id:"timestamp",label:"Hora de Grabación",type:"datetime-local",value:O.substring(0,16),onChange:te=>J(new Date(te.target.value).toISOString())})]}),K===Xr.MEDIA&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h3",{className:"text-lg font-semibold text-brand-text-light",children:"Fotos"}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsxs(Ve,{type:"button",onClick:cs,variant:"secondary",size:"sm",children:[S.jsx(ih,{className:`${Xe} mr-1 inline-block`})," Añadir Foto (Cámara)"]}),S.jsxs(Ve,{type:"button",onClick:()=>{var te;return(te=ue.current)==null?void 0:te.click()},variant:"secondary",size:"sm",children:[S.jsx(dg,{className:`${Xe} mr-1 inline-block`})," Subir Foto (Equipo)"]}),S.jsx("input",{type:"file",ref:ue,accept:"image/*",onChange:So,className:"hidden","aria-label":"Subir foto desde el equipo"})]})]}),Oe&&S.jsx("p",{className:"text-red-400 text-sm",children:Oe}),H.length===0&&S.jsx("p",{className:"text-brand-text-dim",children:"Aún no se han añadido fotos."}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:H.map(te=>S.jsxs("div",{className:"relative group",children:[S.jsx("img",{src:te.url,alt:te.caption,className:"w-full h-32 object-cover rounded-lg shadow"}),S.jsx(Ve,{type:"button",onClick:()=>Gn(te.id),variant:"danger",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 text-xs",children:S.jsx(Ad,{className:"w-3 h-3"})})]},te.id))})]}),S.jsxs("div",{className:"space-y-3 pt-4 mt-4 border-t border-brand-dark-border",children:[S.jsx("div",{className:"flex justify-between items-center mb-2",children:S.jsx("h3",{className:"text-lg font-semibold text-brand-text-light",children:"Notas de Voz"})}),de&&S.jsx("p",{className:"text-red-400 text-sm mb-2",children:de}),S.jsxs("div",{className:"bg-brand-dark-card p-3 rounded-lg space-y-2",children:[S.jsx(sn,{id:"newVoiceNoteTitle",label:"Título para Nueva Nota de Voz",value:bn,onChange:te=>qn(te.target.value),placeholder:"Ej: Ambiente matutino"}),ae?S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsxs(Ve,{type:"button",onClick:rr,variant:"danger",size:"sm",className:"flex-1",children:["Detener (",Sd(Je),")"]}),S.jsx("div",{className:"text-sm text-red-400 animate-pulse",children:"Grabando..."})]}):S.jsxs(Ve,{type:"button",onClick:fs,variant:"secondary",size:"sm",disabled:he==="pending"||!bn.trim(),className:"w-full",children:[S.jsx(d_,{className:`${Xe} mr-1 inline-block`})," ",he==="pending"?"Accediendo Mic...":"Comenzar Grabación"]})]}),S.jsxs("div",{className:"bg-brand-dark-card p-3 rounded-lg space-y-2 mt-4",children:[S.jsxs("h4",{className:"text-md font-semibold text-brand-text-light flex items-center",children:[S.jsx(dg,{className:"w-5 h-5 mr-2 text-brand-secondary"})," Subir Nota de Voz Existente"]}),S.jsx(sn,{id:"uploadedVoiceNoteTitle",label:"Título para Nota de Voz Subida",value:oi,onChange:te=>To(te.target.value),placeholder:"Ej: Sonido del viento (archivo)"}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"audioFileUpload",className:"sr-only",children:"Seleccionar archivo de audio"}),S.jsx("input",{type:"file",id:"audioFileUpload",accept:"audio/*",onChange:Eo,className:"block w-full text-sm text-brand-text-dim file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-primary/20 file:text-brand-primary hover:file:bg-brand-primary/30 cursor-pointer","aria-label":"Seleccionar archivo de audio para subir",disabled:Co})]}),Ht&&S.jsx("p",{className:`text-xs mt-1 ${Ht.toLowerCase().includes("compatible")?"text-yellow-400":"text-red-400"}`,children:Ht}),Co&&S.jsx("p",{className:"text-brand-text-dim text-xs mt-1",children:"Procesando archivo, por favor espera..."})]}),Q.length===0&&!ae&&!Co&&S.jsx("p",{className:"text-brand-text-dim mt-2",children:"Aún no se han añadido notas de voz."}),Q.map(te=>S.jsxs("div",{className:"bg-brand-dark-card dark:bg-slate-700 p-3 rounded-md shadow",children:[S.jsxs("div",{className:"flex justify-between items-start mb-1",children:[S.jsxs("p",{className:"text-brand-text-light font-medium",children:[te.title," ",te.duration&&S.jsxs("span",{className:"text-xs text-brand-text-dim",children:["(",Sd(te.duration),")"]})]}),S.jsx(Ve,{type:"button",onClick:()=>Ca(te.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 p-0",children:S.jsx(Ad,{className:"w-4 h-4"})})]}),te.audioBase64&&te.audioType&&S.jsx("audio",{controls:!0,src:te.audioBase64,className:"w-full h-10 my-1",children:"Tu navegador no soporta el elemento de audio."}),te.transcription&&S.jsxs("p",{className:"text-xs italic text-brand-text-dim my-1 p-1 bg-brand-dark-bg rounded",children:["AI: ",te.transcription]}),xi&&!te.transcription&&te.audioBase64&&S.jsxs(Ve,{type:"button",onClick:()=>sr(te),variant:"ghost",size:"sm",className:"text-xs mt-1",disabled:ir===te.id,children:[S.jsx(Qa,{className:"w-3 h-3 mr-1 inline"})," ",ir===te.id?"Procesando...":"Resumir (AI)"]}),!te.audioBase64&&te.placeholder&&S.jsx("p",{className:"text-xs text-brand-text-dim",children:te.placeholder})]},te.id))]})]}),S.jsx(Ve,{type:"submit",variant:"primary",size:"lg",className:"w-full mt-8",children:l?"Guardar Cambios":"Crear Grabación"})]})]}),pe&&S.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:S.jsxs("div",{className:"bg-brand-dark-card p-4 rounded-lg shadow-xl max-w-lg w-full",children:[S.jsx("h3",{className:"text-lg font-semibold mb-3 text-brand-text-light",children:"Capturar Foto"}),se==="pending"&&S.jsx("p",{className:"text-brand-text-dim",children:"Solicitando acceso a la cámara..."}),se==="denied"&&S.jsx("p",{className:"text-red-400",children:Oe||"Acceso a cámara denegado."}),se==="granted"&&S.jsx("video",{ref:Ye,autoPlay:!0,playsInline:!0,className:"w-full h-auto max-h-[60vh] rounded bg-black mb-3"}),S.jsx("canvas",{ref:He,className:"hidden"}),S.jsxs("div",{className:"flex justify-end space-x-2",children:[S.jsx(Ve,{onClick:Ti,variant:"secondary",children:"Cancelar"}),S.jsx(Ve,{onClick:Ci,disabled:se!=="granted"||Qe,children:Qe?"Capturando...":"Tomar Foto"})]})]})})]})},WA=()=>{const a=Hi(),n=Vi(),t=z.useContext(qi),r=z.useRef(null),l=z.useRef(null),f=z.useRef(null),[g,y]=z.useState(""),[x,v]=z.useState([]),[E,A]=z.useState(!1),[N,D]=z.useState(!1);z.useEffect(()=>{D(xc())},[]),z.useEffect(()=>{if(!t)return;const{projects:H}=t;if(r.current&&!l.current){let Y=[50.8503,4.3517],Q=4;const W=H.filter(ce=>ce.technicalSheet.latitude!==void 0&&ce.technicalSheet.longitude!==void 0);W.length>0&&(Y=[W[0].technicalSheet.latitude,W[0].technicalSheet.longitude],Q=6);const K=Sn.map(r.current).setView(Y,Q);l.current=K,f.current=Sn.layerGroup().addTo(K),Sn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(K)}if(l.current&&f.current){f.current.clearLayers(),H.forEach(W=>{var K;if(W.technicalSheet.latitude!==void 0&&W.technicalSheet.longitude!==void 0){const ce=Sn.latLng(W.technicalSheet.latitude,W.technicalSheet.longitude),pe=Sn.marker(ce),we=document.createElement("div");we.innerHTML=`<b>${W.name}</b><br/>`;const se=document.createElement("a");se.href=`#/project/${W.id}`,se.innerText="Ver Detalles",se.className="text-brand-primary hover:underline",se.onclick=Ae=>{Ae.preventDefault(),a(`/project/${W.id}`)},we.appendChild(se),pe.bindPopup(we),(K=f.current)==null||K.addLayer(pe)}});const Y=n.state,Q=Y==null?void 0:Y.projectId;if(Q){const W=H.find(K=>K.id===Q);if(W&&W.technicalSheet.latitude!==void 0&&W.technicalSheet.longitude!==void 0){const K=Sn.latLng(W.technicalSheet.latitude,W.technicalSheet.longitude);l.current.setView(K,13),f.current.eachLayer(ce=>{ce instanceof Sn.Marker&&ce.getLatLng().equals(K)&&ce.openPopup()})}}}return()=>{}},[t,n.state,a]);const R=async H=>{if(y(H),!H.trim()||!N){v([]);return}A(!0);try{const Y=`El usuario está buscando "${H}" en el mapa de proyectos de soundXcape. Sugiere 3-4 consultas de búsqueda relacionadas con ubicaciones de proyectos o temas que podrían encontrar en un mapa. Devuelve un array JSON de strings. Ejemplo: ["proyectos cerca de la costa", "grabaciones en parques nacionales", "sonidos urbanos en el centro"]`,Q=await Tc(Y);v(Q||[])}catch(Y){console.error("Error fetching AI map search suggestions:",Y),v([])}finally{A(!1)}};if(!t)return S.jsxs("div",{children:[S.jsx(Ui,{title:"Mapa de Proyectos"}),S.jsx("p",{className:"p-4 text-center",children:"Cargando datos del mapa..."})]});const{projects:O}=t,J=O.filter(H=>H.technicalSheet.latitude!==void 0&&H.technicalSheet.longitude!==void 0).length;return S.jsxs("div",{className:"flex flex-col h-full",children:[S.jsx(Ui,{title:"Mapa de Proyectos"}),S.jsxs("div",{className:"relative flex-grow p-4",children:[S.jsxs("div",{className:"absolute top-4 left-4 right-4 z-[1000] bg-brand-dark-card dark:bg-slate-800/80 backdrop-blur-sm p-2 rounded-lg shadow",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx(f_,{className:"w-5 h-5 text-brand-text-dim dark:text-gray-400 mr-2"}),S.jsx("input",{type:"search",placeholder:"Buscar (sugerencias AI)...",value:g,onChange:H=>R(H.target.value),className:"bg-transparent text-brand-text-light dark:text-gray-200 placeholder-brand-text-dim outline-none w-full","aria-label":"Buscar ubicaciones o proyectos con IA"})]}),N&&g&&(E||x.length>0)&&S.jsxs("div",{className:"mt-2 p-2 border border-brand-dark-border rounded-md",children:[S.jsxs("p",{className:"text-xs text-brand-text-dim mb-1 flex items-center",children:[S.jsx(Qa,{className:"w-3 h-3 mr-1 text-brand-primary"})," Sugerencias AI:"]}),E&&S.jsx("p",{className:"text-xs text-brand-text-dim",children:"Buscando..."}),!E&&x.length>0&&S.jsx("ul",{className:"space-y-1",children:x.map((H,Y)=>S.jsx("li",{className:"text-xs text-brand-text-light hover:text-brand-primary cursor-pointer",onClick:()=>y(H),children:H},Y))})]})]}),S.jsx("div",{ref:r,className:"h-[calc(100vh-200px)] md:h-[calc(100vh-180px)] w-full rounded-lg shadow-md bg-brand-dark-card border border-brand-dark-border","aria-label":"Mapa interactivo de proyectos"}),J===0&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-0 pointer-events-none",children:S.jsx("p",{className:"text-brand-text-dim bg-brand-dark-card/80 p-3 rounded-md",children:"No hay proyectos con coordenadas para mostrar en el mapa."})}),S.jsx("p",{className:"text-center text-sm text-brand-text-dim dark:text-gray-400 mt-2",children:"Proyectos con coordenadas se muestran en el mapa. Haz clic en un marcador para más detalles."})]})]})},Ju=({title:a,children:n,icon:t,className:r=""})=>S.jsxs("div",{className:`bg-brand-dark-card dark:bg-slate-800 p-4 rounded-lg shadow-md mb-6 ${r}`,children:[S.jsxs("div",{className:"flex items-center mb-3",children:[t&&S.jsx("span",{className:"mr-3 text-brand-primary",children:t}),S.jsx("h2",{className:"text-lg font-semibold text-brand-text-light dark:text-gray-200",children:a})]}),n]}),eM=()=>{const a=z.useContext(qi),[n,t]=z.useState(""),[r,l]=z.useState(!1),[f,g]=z.useState([]),[y,x]=z.useState(!1),[v,E]=z.useState(!1);if(z.useEffect(()=>{E(xc())},[]),!a)return S.jsx("p",{children:"Cargando contexto..."});const{darkMode:A,toggleDarkMode:N,reminders:D}=a,R=()=>{alert("Simulacro: Generando informe... Esta función exportaría los datos del proyecto en PDF o CSV.")},O=()=>{alert("Simulacro: Exportando metadatos... Compatible con software de audio profesional.")},J=()=>{l(Y=>!Y),alert(r?"Sincronización en la nube (simulada): Desactivada.":"Sincronización en la nube (simulada): Activada. En una aplicación real, esto requeriría configuración de backend y servicios en la nube.")},H=async Y=>{if(t(Y),!Y.trim()||!v){g([]);return}x(!0);try{const Q=`El usuario está buscando "${Y}" en la aplicación soundXcape (grabación de paisajes sonoros). Sugiere 3-4 consultas de búsqueda más específicas o tipos de contenido relacionados que podrían estar buscando (proyectos, grabaciones, ubicaciones, temas de audio). Devuelve un array JSON de strings. Ejemplo: ["grabaciones de aves en el bosque", "proyectos en la costa", "sonidos urbanos nocturnos"]`,W=await Tc(Q);g(W||[])}catch(Q){console.error("Error fetching AI search suggestions:",Q),g([])}finally{x(!1)}};return S.jsxs("div",{children:[S.jsx(Ui,{title:"Utilidades y Configuración"}),S.jsxs("div",{className:"p-4 space-y-8 pb-20",children:[" ",S.jsx(Ju,{title:"Informes y Exportación",icon:S.jsx(Hx,{className:"w-6 h-6"}),children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center justify-between p-3 bg-brand-dark-bg rounded-md",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium text-brand-text-light",children:"Generar Informe Completo"}),S.jsx("p",{className:"text-xs text-brand-text-dim",children:"Crear informes detallados (PDF/CSV) - Simulacro."})]}),S.jsx(Ve,{variant:"secondary",size:"sm",onClick:R,children:"Generar"})]}),S.jsxs("div",{className:"flex items-center justify-between p-3 bg-brand-dark-bg rounded-md",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium text-brand-text-light",children:"Exportar Metadatos"}),S.jsx("p",{className:"text-xs text-brand-text-dim",children:"Compatible con software de audio profesional - Simulacro."})]}),S.jsx(Ve,{variant:"secondary",size:"sm",onClick:O,children:S.jsx(Zx,{className:"w-5 h-5"})})]})]})}),S.jsxs(Ju,{title:"Nube y Colaboración",icon:S.jsx(qx,{className:"w-6 h-6"}),children:[S.jsxs("div",{className:"flex items-center justify-between p-3 bg-brand-dark-bg rounded-md mb-3",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium text-brand-text-light",children:"Sincronización en la Nube"}),S.jsx("p",{className:"text-xs text-brand-text-dim",children:"Guarda y accede a tus proyectos desde cualquier lugar."})]}),S.jsx("label",{htmlFor:"cloudSyncToggle",className:"flex items-center cursor-pointer",children:S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:"checkbox",id:"cloudSyncToggle",className:"sr-only",checked:r,onChange:J}),S.jsx("div",{className:`block w-10 h-6 rounded-full ${r?"bg-brand-primary":"bg-slate-600"}`}),S.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition ${r?"transform translate-x-full":""}`})]})})]}),S.jsx("p",{className:"text-xs text-brand-text-dim px-3 py-1 mb-3",children:r?"Sincronización activada (simulacro).":"Activa la sincronización para copias de seguridad (simulacro)."}),S.jsxs("div",{className:"flex items-center justify-between p-3 bg-brand-dark-bg rounded-md opacity-50 cursor-not-allowed",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-medium text-brand-text-light",children:"Colaboración en Proyectos"}),S.jsx("p",{className:"text-xs text-brand-text-dim",children:"Invita a otros a tus proyectos (Próximamente)."})]}),S.jsx(jx,{className:"w-6 h-6 text-brand-text-dim"})]}),S.jsx("p",{className:"text-xs text-brand-text-dim px-3 pt-2",children:"La colaboración requiere una infraestructura de backend."})]}),S.jsxs(Ju,{title:"Notas de Campo y Búsqueda",icon:S.jsx(Gx,{className:"w-6 h-6"}),children:[S.jsx("h3",{className:"text-md font-semibold text-brand-text-light mb-2",children:"Recordatorios"}),D.length===0&&S.jsx("p",{className:"text-sm text-brand-text-dim mb-4",children:"No hay recordatorios configurados."}),S.jsx("ul",{className:"space-y-2 mb-6 max-h-40 overflow-y-auto",children:D.map(Y=>S.jsxs("li",{className:"p-2 bg-brand-dark-bg rounded-md text-sm",children:[S.jsx("span",{className:"text-brand-text-light",children:Y.text})," - ",S.jsxs("span",{className:"text-brand-text-dim",children:[Y.time,", ",new Date(Y.date).toLocaleDateString()]})]},Y.id))}),S.jsx("h3",{className:"text-md font-semibold text-brand-text-light mb-2",children:"Búsqueda Inteligente"}),S.jsxs("div",{className:"flex items-center bg-brand-dark-bg p-2 rounded-lg shadow mb-1",children:[S.jsx(f_,{className:"w-5 h-5 text-brand-text-dim mr-2"}),S.jsx("input",{type:"search",placeholder:"Buscar proyectos, grabaciones, notas...",value:n,onChange:Y=>H(Y.target.value),className:"bg-transparent text-brand-text-light placeholder-brand-text-dim outline-none w-full"})]}),v&&n&&(y||f.length>0)&&S.jsxs("div",{className:"mt-2 p-2 border border-brand-dark-border rounded-md bg-brand-dark-bg/30",children:[S.jsxs("p",{className:"text-xs text-brand-text-dim mb-1 flex items-center",children:[S.jsx(Qa,{className:"w-3 h-3 mr-1 text-brand-primary"})," Sugerencias AI:"]}),y&&S.jsx("p",{className:"text-xs text-brand-text-dim",children:"Buscando..."}),!y&&f.length>0&&S.jsx("ul",{className:"space-y-1",children:f.map((Y,Q)=>S.jsx("li",{className:"text-xs text-brand-text-light hover:text-brand-primary cursor-pointer",onClick:()=>t(Y),children:Y},Q))}),!y&&f.length===0&&n&&S.jsxs("p",{className:"text-xs text-brand-text-dim",children:['No se encontraron sugerencias para "',n,'".']})]})]}),S.jsxs(Ju,{title:"Configuración de Aplicación",icon:S.jsx(u_,{className:"w-6 h-6"}),children:[S.jsxs("div",{className:"flex items-center justify-between p-3 bg-brand-dark-bg rounded-md",children:[S.jsx("h3",{className:"font-medium text-brand-text-light",children:"Modo Oscuro"}),S.jsx(Ve,{onClick:N,variant:"secondary",size:"sm",className:"p-2","aria-label":A?"Cambiar a modo claro":"Cambiar a modo oscuro",children:A?S.jsx(Fx,{className:"w-5 h-5"}):S.jsx(Yx,{className:"w-5 h-5"})})]}),!v&&S.jsx("div",{className:"mt-3 p-3 bg-yellow-900/30 border border-yellow-700 rounded-md text-yellow-300 text-xs",children:S.jsxs("p",{children:[S.jsx("strong",{className:"font-semibold",children:"Funciones de IA desactivadas:"})," No se encontró la API Key de Gemini (",S.jsx("code",{children:"process.env.API_KEY"}),"). Por favor, configura esta variable de entorno para habilitar las funciones de IA."]})})]})]})]})},tM=({className:a})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a,children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 8.5s.5-1 1.5-1s1.5 1 1.5 1"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.5 12.5s-.5 1-1.5 1s-1.5-1-1.5-1"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 8V7M15 13v-1"})," "]}),nM=()=>{const a=z.useContext(qi);if(!a)return S.jsx("div",{className:"flex items-center justify-center h-screen bg-brand-dark-bg text-brand-text-light",children:"Cargando contexto..."});const{markWelcomeAsVisited:n}=a,t=()=>{n()};return S.jsx("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-br from-brand-dark-bg via-slate-800 to-brand-dark-card text-brand-text-light p-8 antialiased",children:S.jsxs("div",{className:"text-center max-w-xl",children:[S.jsx(tM,{className:"w-28 h-28 mx-auto mb-6 text-brand-primary opacity-90"}),S.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:["sound",S.jsx("span",{className:"text-brand-primary",children:"X"}),"cape"]}),S.jsx("p",{className:"text-lg md:text-xl text-brand-text-dim mb-10",children:"Tu Pasaporte al Universo Sonoro. Captura, Organiza, Explora."}),S.jsx(Ve,{onClick:t,size:"lg",variant:"primary",className:"px-10 py-3 text-xl shadow-lg hover:shadow-xl transform hover:scale-105 animate-pulse","aria-label":"Explorar soundXcape",children:"Descubrir soundXcape"}),S.jsx("p",{className:"mt-16 text-xs text-brand-text-dim opacity-70",children:"Presiona el botón para iniciar tu aventura auditiva."})]})})},iM=()=>{const a=z.useContext(qi);if(!a)return S.jsx("div",{className:"flex items-center justify-center h-screen bg-brand-dark-bg text-brand-text-light",children:"Cargando contexto inicial..."});const{darkMode:n,hasVisitedWelcome:t}=a;return z.useEffect(()=>{const r=document.documentElement,l=document.body;n?(r.classList.add("dark"),r.style.backgroundColor="#1E2A3B",t?(l.classList.add("bg-brand-dark-bg","text-brand-text-light"),l.classList.remove("bg-white","text-gray-900")):(l.classList.add("text-brand-text-light"),l.classList.remove("bg-white","text-gray-900","bg-brand-dark-bg"))):(r.classList.remove("dark"),r.style.backgroundColor="#FFFFFF",t?(l.classList.add("bg-white","text-gray-900"),l.classList.remove("bg-brand-dark-bg","text-brand-text-light")):(l.classList.add("text-brand-text-light"),l.classList.remove("bg-white","text-gray-900","bg-brand-dark-bg")))},[n,t]),t?S.jsx(Rx,{children:S.jsx(eT,{children:S.jsxs(rx,{children:[S.jsx(ti,{path:"/",element:S.jsx(tT,{})})," ",S.jsx(ti,{path:"/projects",element:S.jsx(oT,{})})," ",S.jsx(ti,{path:"/gallery",element:S.jsx(cT,{})})," ",S.jsx(ti,{path:"/new-project",element:S.jsx(mg,{})}),S.jsx(ti,{path:"/edit-project/:projectId",element:S.jsx(mg,{})}),S.jsx(ti,{path:"/project/:projectId",element:S.jsx(QA,{})}),S.jsx(ti,{path:"/project/:projectId/new-recording",element:S.jsx(Gv,{})}),S.jsx(ti,{path:"/project/:projectId/edit-recording/:recordingId",element:S.jsx(Gv,{})}),S.jsx(ti,{path:"/map",element:S.jsx(WA,{})}),S.jsx(ti,{path:"/utilities",element:S.jsx(eM,{})}),S.jsx(ti,{path:"*",element:S.jsx(ox,{to:"/",replace:!0})})]})})}):S.jsx(nM,{})},Z_=document.getElementById("root");if(!Z_)throw new Error("Could not find root element to mount to");const oM=m0.createRoot(Z_);oM.render(S.jsx(jd.StrictMode,{children:S.jsx(nT,{children:S.jsx(iM,{})})}));
